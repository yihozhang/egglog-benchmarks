(sort egglog.exp.array_api.DType)
(constructor egglog_exp_array_api_DType_float64 () egglog.exp.array_api.DType)
(let __expr_993116813100192115 (egglog_exp_array_api_DType_float64 ))
(sort egglog.exp.array_api.Boolean)
(function egglog_exp_array_api_Boolean_to_bool (egglog.exp.array_api.Boolean) bool :no-merge)
(constructor egglog_exp_array_api_DType___eq__ (egglog.exp.array_api.DType egglog.exp.array_api.DType) egglog.exp.array_api.Boolean)
(sort egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_NDArray_dtype (egglog.exp.array_api.NDArray) egglog.exp.array_api.DType)
(constructor egglog_exp_array_api_assume_isfinite (egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(sort egglog.exp.array_api.TupleInt)
(constructor egglog_exp_array_api_assume_shape (egglog.exp.array_api.NDArray egglog.exp.array_api.TupleInt) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_assume_dtype (egglog.exp.array_api.NDArray egglog.exp.array_api.DType) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_NDArray_var (String) egglog.exp.array_api.NDArray :cost 200)
(sort egglog.exp.array_api.Int)
(sort egglog.builtins.Vec[egglog.exp.array_api.Int] (Vec egglog.exp.array_api.Int))
(constructor egglog_exp_array_api_TupleInt_from_vec (egglog.builtins.Vec[egglog.exp.array_api.Int]) egglog.exp.array_api.TupleInt)
(constructor egglog_exp_array_api_Int___init__ (i64) egglog.exp.array_api.Int)
(let __expr_1046620405948383602 (egglog_exp_array_api_DType___eq__ __expr_993116813100192115 (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))))))
(ruleset egglog.exp.array_api.array_api_ruleset)
(constructor _i-egglog_exp_array_api_TupleInt___-egglog_exp_array_api_Int__i (egglog.exp.array_api.TupleInt egglog.exp.array_api.Int) egglog.exp.array_api.TupleInt)
(rewrite (_i-egglog_exp_array_api_TupleInt___-egglog_exp_array_api_Int__i _i __) _i :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.exp.array_api.TupleTupleInt)
(constructor egglog_exp_array_api_TupleTupleInt_single (egglog.exp.array_api.TupleInt) egglog.exp.array_api.TupleTupleInt)
(sort egglog.builtins.UnstableFn[egglog.exp.array_api.TupleInt,egglog.exp.array_api.Int] (UnstableFn (egglog.exp.array_api.Int ) egglog.exp.array_api.TupleInt))
(constructor egglog_exp_array_api_TupleTupleInt___init__ (egglog.exp.array_api.Int egglog.builtins.UnstableFn[egglog.exp.array_api.TupleInt,egglog.exp.array_api.Int]) egglog.exp.array_api.TupleTupleInt)
(rewrite (egglog_exp_array_api_TupleTupleInt_single _i) (egglog_exp_array_api_TupleTupleInt___init__ (egglog_exp_array_api_Int___init__ 1) (unstable-fn "_i-egglog_exp_array_api_TupleInt___-egglog_exp_array_api_Int__i" _i)) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleInt_if_ (egglog.exp.array_api.Boolean egglog.exp.array_api.TupleInt egglog.exp.array_api.TupleInt) egglog.exp.array_api.TupleInt)
(constructor egglog_exp_array_api_Int___lt__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Boolean)
(constructor egglog_exp_array_api_TupleTupleInt_length (egglog.exp.array_api.TupleTupleInt) egglog.exp.array_api.Int)
(constructor egglog_exp_array_api_TupleTupleInt___getitem__ (egglog.exp.array_api.TupleTupleInt egglog.exp.array_api.Int) egglog.exp.array_api.TupleInt)
(constructor egglog_exp_array_api_Int___sub__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(constructor _self-egglog_exp_array_api_TupleTupleInt__other-egglog_exp_array_api_TupleTupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt_if___egglog_exp_array_api_Int___lt____i__egglog_exp_array_api_TupleTupleInt_length__self____egglog_exp_array_api_TupleTupleInt___getitem____self__i___egglog_exp_array_api_TupleTupleInt___getitem____other__egglog_exp_array_api_Int___sub____i__egglog_exp_array_api_TupleTupleInt_length__self____ (egglog.exp.array_api.TupleTupleInt egglog.exp.array_api.TupleTupleInt egglog.exp.array_api.Int) egglog.exp.array_api.TupleInt)
(rewrite (_self-egglog_exp_array_api_TupleTupleInt__other-egglog_exp_array_api_TupleTupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt_if___egglog_exp_array_api_Int___lt____i__egglog_exp_array_api_TupleTupleInt_length__self____egglog_exp_array_api_TupleTupleInt___getitem____self__i___egglog_exp_array_api_TupleTupleInt___getitem____other__egglog_exp_array_api_Int___sub____i__egglog_exp_array_api_TupleTupleInt_length__self____ _self _other _i) (egglog_exp_array_api_TupleInt_if_ (egglog_exp_array_api_Int___lt__ _i (egglog_exp_array_api_TupleTupleInt_length _self)) (egglog_exp_array_api_TupleTupleInt___getitem__ _self _i) (egglog_exp_array_api_TupleTupleInt___getitem__ _other (egglog_exp_array_api_Int___sub__ _i (egglog_exp_array_api_TupleTupleInt_length _self)))) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleTupleInt___add__ (egglog.exp.array_api.TupleTupleInt egglog.exp.array_api.TupleTupleInt) egglog.exp.array_api.TupleTupleInt)
(constructor egglog_exp_array_api_Int___add__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_TupleTupleInt___add__ _self _other) (egglog_exp_array_api_TupleTupleInt___init__ (egglog_exp_array_api_Int___add__ (egglog_exp_array_api_TupleTupleInt_length _self) (egglog_exp_array_api_TupleTupleInt_length _other)) (unstable-fn "_self-egglog_exp_array_api_TupleTupleInt__other-egglog_exp_array_api_TupleTupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt_if___egglog_exp_array_api_Int___lt____i__egglog_exp_array_api_TupleTupleInt_length__self____egglog_exp_array_api_TupleTupleInt___getitem____self__i___egglog_exp_array_api_TupleTupleInt___getitem____other__egglog_exp_array_api_Int___sub____i__egglog_exp_array_api_TupleTupleInt_length__self____" _self _other)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor _self-egglog_exp_array_api_TupleTupleInt__n-egglog_exp_array_api_Int__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleTupleInt___getitem____self__egglog_exp_array_api_Int___add____i__n__ (egglog.exp.array_api.TupleTupleInt egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.TupleInt)
(rewrite (_self-egglog_exp_array_api_TupleTupleInt__n-egglog_exp_array_api_Int__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleTupleInt___getitem____self__egglog_exp_array_api_Int___add____i__n__ _self _n _i) (egglog_exp_array_api_TupleTupleInt___getitem__ _self (egglog_exp_array_api_Int___add__ _i _n)) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleTupleInt_drop (egglog.exp.array_api.TupleTupleInt egglog.exp.array_api.Int) egglog.exp.array_api.TupleTupleInt)
(rewrite (egglog_exp_array_api_TupleTupleInt_drop _self _n) (egglog_exp_array_api_TupleTupleInt___init__ (egglog_exp_array_api_Int___sub__ (egglog_exp_array_api_TupleTupleInt_length _self) _n) (unstable-fn "_self-egglog_exp_array_api_TupleTupleInt__n-egglog_exp_array_api_Int__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleTupleInt___getitem____self__egglog_exp_array_api_Int___add____i__n__" _self _n)) :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.builtins.UnstableFn[egglog.exp.array_api.Int,egglog.exp.array_api.TupleInt] (UnstableFn (egglog.exp.array_api.TupleInt ) egglog.exp.array_api.Int))
(constructor _f-egglog_builtins_UnstableFn_egglog_exp_array_api_Int_egglog_exp_array_api_TupleInt___self-egglog_exp_array_api_TupleTupleInt__i-egglog_exp_array_api_Int__unstable-app__f__egglog_exp_array_api_TupleTupleInt___getitem____self__i__ (egglog.builtins.UnstableFn[egglog.exp.array_api.Int,egglog.exp.array_api.TupleInt] egglog.exp.array_api.TupleTupleInt egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (_f-egglog_builtins_UnstableFn_egglog_exp_array_api_Int_egglog_exp_array_api_TupleInt___self-egglog_exp_array_api_TupleTupleInt__i-egglog_exp_array_api_Int__unstable-app__f__egglog_exp_array_api_TupleTupleInt___getitem____self__i__ _f _self _i) (unstable-app _f (egglog_exp_array_api_TupleTupleInt___getitem__ _self _i)) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleTupleInt_map_int (egglog.exp.array_api.TupleTupleInt egglog.builtins.UnstableFn[egglog.exp.array_api.Int,egglog.exp.array_api.TupleInt]) egglog.exp.array_api.TupleInt)
(sort egglog.builtins.UnstableFn[egglog.exp.array_api.Int,egglog.exp.array_api.Int] (UnstableFn (egglog.exp.array_api.Int ) egglog.exp.array_api.Int))
(constructor egglog_exp_array_api_TupleInt___init__ (egglog.exp.array_api.Int egglog.builtins.UnstableFn[egglog.exp.array_api.Int,egglog.exp.array_api.Int]) egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_TupleTupleInt_map_int _self _f) (egglog_exp_array_api_TupleInt___init__ (egglog_exp_array_api_TupleTupleInt_length _self) (unstable-fn "_f-egglog_builtins_UnstableFn_egglog_exp_array_api_Int_egglog_exp_array_api_TupleInt___self-egglog_exp_array_api_TupleTupleInt__i-egglog_exp_array_api_Int__unstable-app__f__egglog_exp_array_api_TupleTupleInt___getitem____self__i__" _f _self)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleInt_length (egglog.exp.array_api.TupleInt) egglog.exp.array_api.Int)
(constructor _x-egglog_exp_array_api_TupleInt__egglog_exp_array_api_TupleInt_length__x_ (egglog.exp.array_api.TupleInt) egglog.exp.array_api.Int)
(rewrite (_x-egglog_exp_array_api_TupleInt__egglog_exp_array_api_TupleInt_length__x_ _x) (egglog_exp_array_api_TupleInt_length _x) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.exp.array_api.Value)
(sort egglog.exp.array_api.TupleValue)
(constructor egglog_exp_array_api_Value_if_ (egglog.exp.array_api.Boolean egglog.exp.array_api.Value egglog.exp.array_api.Value) egglog.exp.array_api.Value)
(constructor egglog_exp_array_api_TupleValue_length (egglog.exp.array_api.TupleValue) egglog.exp.array_api.Int)
(constructor egglog_exp_array_api_TupleValue___getitem__ (egglog.exp.array_api.TupleValue egglog.exp.array_api.Int) egglog.exp.array_api.Value)
(constructor _self-egglog_exp_array_api_TupleValue__other-egglog_exp_array_api_TupleValue__i-egglog_exp_array_api_Int__egglog_exp_array_api_Value_if___egglog_exp_array_api_Int___lt____i__egglog_exp_array_api_TupleValue_length__self____egglog_exp_array_api_TupleValue___getitem____self__i___egglog_exp_array_api_TupleValue___getitem____other__egglog_exp_array_api_Int___sub____i__egglog_exp_array_api_TupleValue_length__self____ (egglog.exp.array_api.TupleValue egglog.exp.array_api.TupleValue egglog.exp.array_api.Int) egglog.exp.array_api.Value)
(rewrite (_self-egglog_exp_array_api_TupleValue__other-egglog_exp_array_api_TupleValue__i-egglog_exp_array_api_Int__egglog_exp_array_api_Value_if___egglog_exp_array_api_Int___lt____i__egglog_exp_array_api_TupleValue_length__self____egglog_exp_array_api_TupleValue___getitem____self__i___egglog_exp_array_api_TupleValue___getitem____other__egglog_exp_array_api_Int___sub____i__egglog_exp_array_api_TupleValue_length__self____ _self _other _i) (egglog_exp_array_api_Value_if_ (egglog_exp_array_api_Int___lt__ _i (egglog_exp_array_api_TupleValue_length _self)) (egglog_exp_array_api_TupleValue___getitem__ _self _i) (egglog_exp_array_api_TupleValue___getitem__ _other (egglog_exp_array_api_Int___sub__ _i (egglog_exp_array_api_TupleValue_length _self)))) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleValue___add__ (egglog.exp.array_api.TupleValue egglog.exp.array_api.TupleValue) egglog.exp.array_api.TupleValue)
(sort egglog.builtins.UnstableFn[egglog.exp.array_api.Value,egglog.exp.array_api.Int] (UnstableFn (egglog.exp.array_api.Int ) egglog.exp.array_api.Value))
(constructor egglog_exp_array_api_TupleValue___init__ (egglog.exp.array_api.Int egglog.builtins.UnstableFn[egglog.exp.array_api.Value,egglog.exp.array_api.Int]) egglog.exp.array_api.TupleValue)
(rewrite (egglog_exp_array_api_TupleValue___add__ _self _other) (egglog_exp_array_api_TupleValue___init__ (egglog_exp_array_api_Int___add__ (egglog_exp_array_api_TupleValue_length _self) (egglog_exp_array_api_TupleValue_length _other)) (unstable-fn "_self-egglog_exp_array_api_TupleValue__other-egglog_exp_array_api_TupleValue__i-egglog_exp_array_api_Int__egglog_exp_array_api_Value_if___egglog_exp_array_api_Int___lt____i__egglog_exp_array_api_TupleValue_length__self____egglog_exp_array_api_TupleValue___getitem____self__i___egglog_exp_array_api_TupleValue___getitem____other__egglog_exp_array_api_Int___sub____i__egglog_exp_array_api_TupleValue_length__self____" _self _other)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Boolean___or__ (egglog.exp.array_api.Boolean egglog.exp.array_api.Boolean) egglog.exp.array_api.Boolean)
(constructor egglog_exp_array_api_Value___eq__ (egglog.exp.array_api.Value egglog.exp.array_api.Value) egglog.exp.array_api.Boolean)
(constructor _value-egglog_exp_array_api_Value__acc-egglog_exp_array_api_Boolean__j-egglog_exp_array_api_Value__egglog_exp_array_api_Boolean___or____acc__egglog_exp_array_api_Value___eq____value__j__ (egglog.exp.array_api.Value egglog.exp.array_api.Boolean egglog.exp.array_api.Value) egglog.exp.array_api.Boolean)
(rewrite (_value-egglog_exp_array_api_Value__acc-egglog_exp_array_api_Boolean__j-egglog_exp_array_api_Value__egglog_exp_array_api_Boolean___or____acc__egglog_exp_array_api_Value___eq____value__j__ _value _acc _j) (egglog_exp_array_api_Boolean___or__ _acc (egglog_exp_array_api_Value___eq__ _value _j)) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleValue_contains (egglog.exp.array_api.TupleValue egglog.exp.array_api.Value) egglog.exp.array_api.Boolean)
(sort egglog.builtins.UnstableFn[egglog.exp.array_api.Boolean,egglog.exp.array_api.Boolean,egglog.exp.array_api.Value] (UnstableFn (egglog.exp.array_api.Boolean egglog.exp.array_api.Value) egglog.exp.array_api.Boolean))
(constructor egglog_exp_array_api_TupleValue_foldl_boolean (egglog.exp.array_api.TupleValue egglog.builtins.UnstableFn[egglog.exp.array_api.Boolean,egglog.exp.array_api.Boolean,egglog.exp.array_api.Value] egglog.exp.array_api.Boolean) egglog.exp.array_api.Boolean)
(constructor egglog_exp_array_api_Boolean___init__ (bool) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_TupleValue_contains _self _value) (egglog_exp_array_api_TupleValue_foldl_boolean _self (unstable-fn "_value-egglog_exp_array_api_Value__acc-egglog_exp_array_api_Boolean__j-egglog_exp_array_api_Value__egglog_exp_array_api_Boolean___or____acc__egglog_exp_array_api_Value___eq____value__j__" _value) (egglog_exp_array_api_Boolean___init__ false)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Value_int (egglog.exp.array_api.Int) egglog.exp.array_api.Value)
(constructor egglog_exp_array_api_TupleInt___getitem__ (egglog.exp.array_api.TupleInt egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(constructor _ti-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_Value_int__egglog_exp_array_api_TupleInt___getitem____ti__i__ (egglog.exp.array_api.TupleInt egglog.exp.array_api.Int) egglog.exp.array_api.Value)
(rewrite (_ti-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_Value_int__egglog_exp_array_api_TupleInt___getitem____ti__i__ _ti _i) (egglog_exp_array_api_Value_int (egglog_exp_array_api_TupleInt___getitem__ _ti _i)) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleValue_from_tuple_int (egglog.exp.array_api.TupleInt) egglog.exp.array_api.TupleValue)
(rewrite (egglog_exp_array_api_TupleValue_from_tuple_int _ti) (egglog_exp_array_api_TupleValue___init__ (egglog_exp_array_api_TupleInt_length _ti) (unstable-fn "_ti-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_Value_int__egglog_exp_array_api_TupleInt___getitem____ti__i__" _ti)) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor _value-egglog_exp_array_api_Value___-egglog_exp_array_api_TupleInt__value (egglog.exp.array_api.Value egglog.exp.array_api.TupleInt) egglog.exp.array_api.Value)
(rewrite (_value-egglog_exp_array_api_Value___-egglog_exp_array_api_TupleInt__value _value __) _value :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_NDArray_scalar (egglog.exp.array_api.Value) egglog.exp.array_api.NDArray)
(sort egglog.builtins.UnstableFn[egglog.exp.array_api.Value,egglog.exp.array_api.TupleInt] (UnstableFn (egglog.exp.array_api.TupleInt ) egglog.exp.array_api.Value))
(constructor egglog_exp_array_api_NDArray___init__ (egglog.exp.array_api.TupleInt egglog.exp.array_api.DType egglog.builtins.UnstableFn[egglog.exp.array_api.Value,egglog.exp.array_api.TupleInt]) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_TupleInt_EMPTY () egglog.exp.array_api.TupleInt)
(constructor egglog_exp_array_api_Value_dtype (egglog.exp.array_api.Value) egglog.exp.array_api.DType)
(rewrite (egglog_exp_array_api_NDArray_scalar _value) (egglog_exp_array_api_NDArray___init__ (egglog_exp_array_api_TupleInt_EMPTY ) (egglog_exp_array_api_Value_dtype _value) (unstable-fn "_value-egglog_exp_array_api_Value___-egglog_exp_array_api_TupleInt__value" _value)) :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.exp.array_api.TupleNDArray)
(constructor egglog_exp_array_api_NDArray_if_ (egglog.exp.array_api.Boolean egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_TupleNDArray_length (egglog.exp.array_api.TupleNDArray) egglog.exp.array_api.Int)
(constructor egglog_exp_array_api_TupleNDArray___getitem__ (egglog.exp.array_api.TupleNDArray egglog.exp.array_api.Int) egglog.exp.array_api.NDArray)
(constructor _self-egglog_exp_array_api_TupleNDArray__other-egglog_exp_array_api_TupleNDArray__i-egglog_exp_array_api_Int__egglog_exp_array_api_NDArray_if___egglog_exp_array_api_Int___lt____i__egglog_exp_array_api_TupleNDArray_length__self____egglog_exp_array_api_TupleNDArray___getitem____self__i___egglog_exp_array_api_TupleNDArray___getitem____other__egglog_exp_array_api_Int___sub____i__egglog_exp_array_api_TupleNDArray_length__self____ (egglog.exp.array_api.TupleNDArray egglog.exp.array_api.TupleNDArray egglog.exp.array_api.Int) egglog.exp.array_api.NDArray)
(rewrite (_self-egglog_exp_array_api_TupleNDArray__other-egglog_exp_array_api_TupleNDArray__i-egglog_exp_array_api_Int__egglog_exp_array_api_NDArray_if___egglog_exp_array_api_Int___lt____i__egglog_exp_array_api_TupleNDArray_length__self____egglog_exp_array_api_TupleNDArray___getitem____self__i___egglog_exp_array_api_TupleNDArray___getitem____other__egglog_exp_array_api_Int___sub____i__egglog_exp_array_api_TupleNDArray_length__self____ _self _other _i) (egglog_exp_array_api_NDArray_if_ (egglog_exp_array_api_Int___lt__ _i (egglog_exp_array_api_TupleNDArray_length _self)) (egglog_exp_array_api_TupleNDArray___getitem__ _self _i) (egglog_exp_array_api_TupleNDArray___getitem__ _other (egglog_exp_array_api_Int___sub__ _i (egglog_exp_array_api_TupleNDArray_length _self)))) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleNDArray___add__ (egglog.exp.array_api.TupleNDArray egglog.exp.array_api.TupleNDArray) egglog.exp.array_api.TupleNDArray)
(sort egglog.builtins.UnstableFn[egglog.exp.array_api.NDArray,egglog.exp.array_api.Int] (UnstableFn (egglog.exp.array_api.Int ) egglog.exp.array_api.NDArray))
(constructor egglog_exp_array_api_TupleNDArray___init__ (egglog.exp.array_api.Int egglog.builtins.UnstableFn[egglog.exp.array_api.NDArray,egglog.exp.array_api.Int]) egglog.exp.array_api.TupleNDArray)
(rewrite (egglog_exp_array_api_TupleNDArray___add__ _self _other) (egglog_exp_array_api_TupleNDArray___init__ (egglog_exp_array_api_Int___add__ (egglog_exp_array_api_TupleNDArray_length _self) (egglog_exp_array_api_TupleNDArray_length _other)) (unstable-fn "_self-egglog_exp_array_api_TupleNDArray__other-egglog_exp_array_api_TupleNDArray__i-egglog_exp_array_api_Int__egglog_exp_array_api_NDArray_if___egglog_exp_array_api_Int___lt____i__egglog_exp_array_api_TupleNDArray_length__self____egglog_exp_array_api_TupleNDArray___getitem____self__i___egglog_exp_array_api_TupleNDArray___getitem____other__egglog_exp_array_api_Int___sub____i__egglog_exp_array_api_TupleNDArray_length__self____" _self _other)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Int___mod__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(constructor egglog_exp_array_api_Int___floordiv__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(constructor egglog_exp_array_api_TupleInt_product (egglog.exp.array_api.TupleInt) egglog.exp.array_api.Int)
(constructor _self-egglog_exp_array_api_TupleTupleInt__i-egglog_exp_array_api_Int__j-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___getitem____egglog_exp_array_api_TupleTupleInt___getitem____self__j___egglog_exp_array_api_Int___mod____egglog_exp_array_api_Int___floordiv____i__egglog_exp_array_api_TupleInt_product__egglog_exp_array_api_TupleTupleInt_map_int__egglog_exp_array_api_TupleTupleInt_drop__self__egglog_exp_array_api_Int___add____j__egglog_exp_array_api_Int___init___1_____unstable-fn___x-egglog_exp_array_api_TupleInt__egglog_exp_array_api_TupleInt_length__x________egglog_exp_array_api_TupleInt_length__egglog_exp_array_api_TupleTupleInt___getitem____self__j____ (egglog.exp.array_api.TupleTupleInt egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (_self-egglog_exp_array_api_TupleTupleInt__i-egglog_exp_array_api_Int__j-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___getitem____egglog_exp_array_api_TupleTupleInt___getitem____self__j___egglog_exp_array_api_Int___mod____egglog_exp_array_api_Int___floordiv____i__egglog_exp_array_api_TupleInt_product__egglog_exp_array_api_TupleTupleInt_map_int__egglog_exp_array_api_TupleTupleInt_drop__self__egglog_exp_array_api_Int___add____j__egglog_exp_array_api_Int___init___1_____unstable-fn___x-egglog_exp_array_api_TupleInt__egglog_exp_array_api_TupleInt_length__x________egglog_exp_array_api_TupleInt_length__egglog_exp_array_api_TupleTupleInt___getitem____self__j____ _self _i _j) (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_TupleTupleInt___getitem__ _self _j) (egglog_exp_array_api_Int___mod__ (egglog_exp_array_api_Int___floordiv__ _i (egglog_exp_array_api_TupleInt_product (egglog_exp_array_api_TupleTupleInt_map_int (egglog_exp_array_api_TupleTupleInt_drop _self (egglog_exp_array_api_Int___add__ _j (egglog_exp_array_api_Int___init__ 1))) (unstable-fn "_x-egglog_exp_array_api_TupleInt__egglog_exp_array_api_TupleInt_length__x_")))) (egglog_exp_array_api_TupleInt_length (egglog_exp_array_api_TupleTupleInt___getitem__ _self _j)))) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor _self-egglog_exp_array_api_TupleTupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___init____egglog_exp_array_api_TupleTupleInt_length__self___unstable-fn___self-egglog_exp_array_api_TupleTupleInt__i-egglog_exp_array_api_Int__j-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___getitem____egglog_exp_array_api_TupleTupleInt___getitem____self__j___egglog_exp_array_api_Int___mod____egglog_exp_array_api_Int___floordiv____i__egglog_exp_array_api_TupleInt_product__egglog_exp_array_api_TupleTupleInt_map_int__egglog_exp_array_api_TupleTupleInt_drop__self__egglog_exp_array_api_Int___add____j__egglog_exp_array_api_Int___init___1_____unstable-fn___x-egglog_exp_array_api_TupleInt__egglog_exp_array_api_TupleInt_length__x________egglog_exp_array_api_TupleInt_length__egglog_exp_array_api_TupleTupleInt___getitem____self__j_______self__i__ (egglog.exp.array_api.TupleTupleInt egglog.exp.array_api.Int) egglog.exp.array_api.TupleInt)
(rewrite (_self-egglog_exp_array_api_TupleTupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___init____egglog_exp_array_api_TupleTupleInt_length__self___unstable-fn___self-egglog_exp_array_api_TupleTupleInt__i-egglog_exp_array_api_Int__j-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___getitem____egglog_exp_array_api_TupleTupleInt___getitem____self__j___egglog_exp_array_api_Int___mod____egglog_exp_array_api_Int___floordiv____i__egglog_exp_array_api_TupleInt_product__egglog_exp_array_api_TupleTupleInt_map_int__egglog_exp_array_api_TupleTupleInt_drop__self__egglog_exp_array_api_Int___add____j__egglog_exp_array_api_Int___init___1_____unstable-fn___x-egglog_exp_array_api_TupleInt__egglog_exp_array_api_TupleInt_length__x________egglog_exp_array_api_TupleInt_length__egglog_exp_array_api_TupleTupleInt___getitem____self__j_______self__i__ _self _i) (egglog_exp_array_api_TupleInt___init__ (egglog_exp_array_api_TupleTupleInt_length _self) (unstable-fn "_self-egglog_exp_array_api_TupleTupleInt__i-egglog_exp_array_api_Int__j-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___getitem____egglog_exp_array_api_TupleTupleInt___getitem____self__j___egglog_exp_array_api_Int___mod____egglog_exp_array_api_Int___floordiv____i__egglog_exp_array_api_TupleInt_product__egglog_exp_array_api_TupleTupleInt_map_int__egglog_exp_array_api_TupleTupleInt_drop__self__egglog_exp_array_api_Int___add____j__egglog_exp_array_api_Int___init___1_____unstable-fn___x-egglog_exp_array_api_TupleInt__egglog_exp_array_api_TupleInt_length__x________egglog_exp_array_api_TupleInt_length__egglog_exp_array_api_TupleTupleInt___getitem____self__j____" _self _i)) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleTupleInt_product (egglog.exp.array_api.TupleTupleInt) egglog.exp.array_api.TupleTupleInt)
(rewrite (egglog_exp_array_api_TupleTupleInt_product _self) (egglog_exp_array_api_TupleTupleInt___init__ (egglog_exp_array_api_TupleInt_product (egglog_exp_array_api_TupleTupleInt_map_int _self (unstable-fn "_x-egglog_exp_array_api_TupleInt__egglog_exp_array_api_TupleInt_length__x_"))) (unstable-fn "_self-egglog_exp_array_api_TupleTupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___init____egglog_exp_array_api_TupleTupleInt_length__self___unstable-fn___self-egglog_exp_array_api_TupleTupleInt__i-egglog_exp_array_api_Int__j-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___getitem____egglog_exp_array_api_TupleTupleInt___getitem____self__j___egglog_exp_array_api_Int___mod____egglog_exp_array_api_Int___floordiv____i__egglog_exp_array_api_TupleInt_product__egglog_exp_array_api_TupleTupleInt_map_int__egglog_exp_array_api_TupleTupleInt_drop__self__egglog_exp_array_api_Int___add____j__egglog_exp_array_api_Int___init___1_____unstable-fn___x-egglog_exp_array_api_TupleInt__egglog_exp_array_api_TupleInt_length__x________egglog_exp_array_api_TupleInt_length__egglog_exp_array_api_TupleTupleInt___getitem____self__j_______self__i__" _self)) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor _i-egglog_exp_array_api_Int___-egglog_exp_array_api_Int__i (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (_i-egglog_exp_array_api_Int___-egglog_exp_array_api_Int__i _i __) _i :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleInt_single (egglog.exp.array_api.Int) egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_TupleInt_single _i) (egglog_exp_array_api_TupleInt___init__ (egglog_exp_array_api_Int___init__ 1) (unstable-fn "_i-egglog_exp_array_api_Int___-egglog_exp_array_api_Int__i" _i)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor _i-egglog_exp_array_api_Int__i (egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (_i-egglog_exp_array_api_Int__i _i) _i :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleInt_range (egglog.exp.array_api.Int) egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_TupleInt_range _stop) (egglog_exp_array_api_TupleInt___init__ _stop (unstable-fn "_i-egglog_exp_array_api_Int__i")) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Int_if_ (egglog.exp.array_api.Boolean egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(constructor _self-egglog_exp_array_api_TupleInt__other-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_Int_if___egglog_exp_array_api_Int___lt____i__egglog_exp_array_api_TupleInt_length__self____egglog_exp_array_api_TupleInt___getitem____self__i___egglog_exp_array_api_TupleInt___getitem____other__egglog_exp_array_api_Int___sub____i__egglog_exp_array_api_TupleInt_length__self____ (egglog.exp.array_api.TupleInt egglog.exp.array_api.TupleInt egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (_self-egglog_exp_array_api_TupleInt__other-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_Int_if___egglog_exp_array_api_Int___lt____i__egglog_exp_array_api_TupleInt_length__self____egglog_exp_array_api_TupleInt___getitem____self__i___egglog_exp_array_api_TupleInt___getitem____other__egglog_exp_array_api_Int___sub____i__egglog_exp_array_api_TupleInt_length__self____ _self _other _i) (egglog_exp_array_api_Int_if_ (egglog_exp_array_api_Int___lt__ _i (egglog_exp_array_api_TupleInt_length _self)) (egglog_exp_array_api_TupleInt___getitem__ _self _i) (egglog_exp_array_api_TupleInt___getitem__ _other (egglog_exp_array_api_Int___sub__ _i (egglog_exp_array_api_TupleInt_length _self)))) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleInt___add__ (egglog.exp.array_api.TupleInt egglog.exp.array_api.TupleInt) egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_TupleInt___add__ _self _other) (egglog_exp_array_api_TupleInt___init__ (egglog_exp_array_api_Int___add__ (egglog_exp_array_api_TupleInt_length _self) (egglog_exp_array_api_TupleInt_length _other)) (unstable-fn "_self-egglog_exp_array_api_TupleInt__other-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_Int_if___egglog_exp_array_api_Int___lt____i__egglog_exp_array_api_TupleInt_length__self____egglog_exp_array_api_TupleInt___getitem____self__i___egglog_exp_array_api_TupleInt___getitem____other__egglog_exp_array_api_Int___sub____i__egglog_exp_array_api_TupleInt_length__self____" _self _other)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Int___eq__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Boolean)
(constructor _i-egglog_exp_array_api_Int__acc-egglog_exp_array_api_Boolean__j-egglog_exp_array_api_Int__egglog_exp_array_api_Boolean___or____acc__egglog_exp_array_api_Int___eq____i__j__ (egglog.exp.array_api.Int egglog.exp.array_api.Boolean egglog.exp.array_api.Int) egglog.exp.array_api.Boolean)
(rewrite (_i-egglog_exp_array_api_Int__acc-egglog_exp_array_api_Boolean__j-egglog_exp_array_api_Int__egglog_exp_array_api_Boolean___or____acc__egglog_exp_array_api_Int___eq____i__j__ _i _acc _j) (egglog_exp_array_api_Boolean___or__ _acc (egglog_exp_array_api_Int___eq__ _i _j)) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleInt_contains (egglog.exp.array_api.TupleInt egglog.exp.array_api.Int) egglog.exp.array_api.Boolean)
(sort egglog.builtins.UnstableFn[egglog.exp.array_api.Boolean,egglog.exp.array_api.Boolean,egglog.exp.array_api.Int] (UnstableFn (egglog.exp.array_api.Boolean egglog.exp.array_api.Int) egglog.exp.array_api.Boolean))
(constructor egglog_exp_array_api_TupleInt_foldl_boolean (egglog.exp.array_api.TupleInt egglog.builtins.UnstableFn[egglog.exp.array_api.Boolean,egglog.exp.array_api.Boolean,egglog.exp.array_api.Int] egglog.exp.array_api.Boolean) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_TupleInt_contains _self _i) (egglog_exp_array_api_TupleInt_foldl_boolean _self (unstable-fn "_i-egglog_exp_array_api_Int__acc-egglog_exp_array_api_Boolean__j-egglog_exp_array_api_Int__egglog_exp_array_api_Boolean___or____acc__egglog_exp_array_api_Int___eq____i__j__" _i) (egglog_exp_array_api_Boolean___init__ false)) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.builtins.UnstableFn[egglog.exp.array_api.Boolean,egglog.exp.array_api.Int] (UnstableFn (egglog.exp.array_api.Int ) egglog.exp.array_api.Boolean))
(constructor egglog_exp_array_api_TupleInt_append (egglog.exp.array_api.TupleInt egglog.exp.array_api.Int) egglog.exp.array_api.TupleInt)
(constructor _f-egglog_builtins_UnstableFn_egglog_exp_array_api_Boolean_egglog_exp_array_api_Int___acc-egglog_exp_array_api_TupleInt__v-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt_if___unstable-app__f__v___egglog_exp_array_api_TupleInt_append__acc__v___acc_ (egglog.builtins.UnstableFn[egglog.exp.array_api.Boolean,egglog.exp.array_api.Int] egglog.exp.array_api.TupleInt egglog.exp.array_api.Int) egglog.exp.array_api.TupleInt)
(rewrite (_f-egglog_builtins_UnstableFn_egglog_exp_array_api_Boolean_egglog_exp_array_api_Int___acc-egglog_exp_array_api_TupleInt__v-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt_if___unstable-app__f__v___egglog_exp_array_api_TupleInt_append__acc__v___acc_ _f _acc _v) (egglog_exp_array_api_TupleInt_if_ (unstable-app _f _v) (egglog_exp_array_api_TupleInt_append _acc _v) _acc) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleInt_filter (egglog.exp.array_api.TupleInt egglog.builtins.UnstableFn[egglog.exp.array_api.Boolean,egglog.exp.array_api.Int]) egglog.exp.array_api.TupleInt)
(sort egglog.builtins.UnstableFn[egglog.exp.array_api.TupleInt,egglog.exp.array_api.TupleInt,egglog.exp.array_api.Int] (UnstableFn (egglog.exp.array_api.TupleInt egglog.exp.array_api.Int) egglog.exp.array_api.TupleInt))
(constructor egglog_exp_array_api_TupleInt_foldl_tuple_int (egglog.exp.array_api.TupleInt egglog.builtins.UnstableFn[egglog.exp.array_api.TupleInt,egglog.exp.array_api.TupleInt,egglog.exp.array_api.Int] egglog.exp.array_api.TupleInt) egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_TupleInt_filter _self _f) (egglog_exp_array_api_TupleInt_foldl_tuple_int _self (unstable-fn "_f-egglog_builtins_UnstableFn_egglog_exp_array_api_Boolean_egglog_exp_array_api_Int___acc-egglog_exp_array_api_TupleInt__v-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt_if___unstable-app__f__v___egglog_exp_array_api_TupleInt_append__acc__v___acc_" _f) (egglog_exp_array_api_TupleInt_EMPTY )) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor _self-egglog_exp_array_api_TupleInt__f-egglog_builtins_UnstableFn_egglog_exp_array_api_Int_egglog_exp_array_api_Int___i-egglog_exp_array_api_Int__unstable-app__f__egglog_exp_array_api_TupleInt___getitem____self__i__ (egglog.exp.array_api.TupleInt egglog.builtins.UnstableFn[egglog.exp.array_api.Int,egglog.exp.array_api.Int] egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (_self-egglog_exp_array_api_TupleInt__f-egglog_builtins_UnstableFn_egglog_exp_array_api_Int_egglog_exp_array_api_Int___i-egglog_exp_array_api_Int__unstable-app__f__egglog_exp_array_api_TupleInt___getitem____self__i__ _self _f _i) (unstable-app _f (egglog_exp_array_api_TupleInt___getitem__ _self _i)) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleInt_map (egglog.exp.array_api.TupleInt egglog.builtins.UnstableFn[egglog.exp.array_api.Int,egglog.exp.array_api.Int]) egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_TupleInt_map _self _f) (egglog_exp_array_api_TupleInt___init__ (egglog_exp_array_api_TupleInt_length _self) (unstable-fn "_self-egglog_exp_array_api_TupleInt__f-egglog_builtins_UnstableFn_egglog_exp_array_api_Int_egglog_exp_array_api_Int___i-egglog_exp_array_api_Int__unstable-app__f__egglog_exp_array_api_TupleInt___getitem____self__i__" _self _f)) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor _self-egglog_exp_array_api_TupleInt__n-egglog_exp_array_api_Int__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___getitem____self__egglog_exp_array_api_Int___add____i__n__ (egglog.exp.array_api.TupleInt egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (_self-egglog_exp_array_api_TupleInt__n-egglog_exp_array_api_Int__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___getitem____self__egglog_exp_array_api_Int___add____i__n__ _self _n _i) (egglog_exp_array_api_TupleInt___getitem__ _self (egglog_exp_array_api_Int___add__ _i _n)) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleInt_drop (egglog.exp.array_api.TupleInt egglog.exp.array_api.Int) egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_TupleInt_drop _self _n) (egglog_exp_array_api_TupleInt___init__ (egglog_exp_array_api_Int___sub__ (egglog_exp_array_api_TupleInt_length _self) _n) (unstable-fn "_self-egglog_exp_array_api_TupleInt__n-egglog_exp_array_api_Int__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___getitem____self__egglog_exp_array_api_Int___add____i__n__" _self _n)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Int___mul__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(constructor _acc-egglog_exp_array_api_Int__i-egglog_exp_array_api_Int__egglog_exp_array_api_Int___mul____acc__i_ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (_acc-egglog_exp_array_api_Int__i-egglog_exp_array_api_Int__egglog_exp_array_api_Int___mul____acc__i_ _acc _i) (egglog_exp_array_api_Int___mul__ _acc _i) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.builtins.UnstableFn[egglog.exp.array_api.Int,egglog.exp.array_api.Int,egglog.exp.array_api.Int] (UnstableFn (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int))
(constructor egglog_exp_array_api_TupleInt_foldl (egglog.exp.array_api.TupleInt egglog.builtins.UnstableFn[egglog.exp.array_api.Int,egglog.exp.array_api.Int,egglog.exp.array_api.Int] egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_TupleInt_product _self) (egglog_exp_array_api_TupleInt_foldl _self (unstable-fn "_acc-egglog_exp_array_api_Int__i-egglog_exp_array_api_Int__egglog_exp_array_api_Int___mul____acc__i_") (egglog_exp_array_api_Int___init__ 1)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor _f-egglog_builtins_UnstableFn_egglog_exp_array_api_TupleInt_egglog_exp_array_api_Int___self-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__unstable-app__f__egglog_exp_array_api_TupleInt___getitem____self__i__ (egglog.builtins.UnstableFn[egglog.exp.array_api.TupleInt,egglog.exp.array_api.Int] egglog.exp.array_api.TupleInt egglog.exp.array_api.Int) egglog.exp.array_api.TupleInt)
(rewrite (_f-egglog_builtins_UnstableFn_egglog_exp_array_api_TupleInt_egglog_exp_array_api_Int___self-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__unstable-app__f__egglog_exp_array_api_TupleInt___getitem____self__i__ _f _self _i) (unstable-app _f (egglog_exp_array_api_TupleInt___getitem__ _self _i)) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleInt_map_tuple_int (egglog.exp.array_api.TupleInt egglog.builtins.UnstableFn[egglog.exp.array_api.TupleInt,egglog.exp.array_api.Int]) egglog.exp.array_api.TupleTupleInt)
(rewrite (egglog_exp_array_api_TupleInt_map_tuple_int _self _f) (egglog_exp_array_api_TupleTupleInt___init__ (egglog_exp_array_api_TupleInt_length _self) (unstable-fn "_f-egglog_builtins_UnstableFn_egglog_exp_array_api_TupleInt_egglog_exp_array_api_Int___self-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__unstable-app__f__egglog_exp_array_api_TupleInt___getitem____self__i__" _f _self)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor _self-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___getitem____self__i_ (egglog.exp.array_api.TupleInt egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (_self-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___getitem____self__i_ _self _i) (egglog_exp_array_api_TupleInt___getitem__ _self _i) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleInt_select (egglog.exp.array_api.TupleInt egglog.exp.array_api.TupleInt) egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_TupleInt_select _self _indices) (egglog_exp_array_api_TupleInt_map _indices (unstable-fn "_self-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___getitem____self__i_" _self)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Boolean___invert__ (egglog.exp.array_api.Boolean) egglog.exp.array_api.Boolean)
(constructor _indices-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_Boolean___invert____egglog_exp_array_api_TupleInt_contains__indices__i__ (egglog.exp.array_api.TupleInt egglog.exp.array_api.Int) egglog.exp.array_api.Boolean)
(rewrite (_indices-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_Boolean___invert____egglog_exp_array_api_TupleInt_contains__indices__i__ _indices _i) (egglog_exp_array_api_Boolean___invert__ (egglog_exp_array_api_TupleInt_contains _indices _i)) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleInt_deselect (egglog.exp.array_api.TupleInt egglog.exp.array_api.TupleInt) egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_TupleInt_deselect _self _indices) (egglog_exp_array_api_TupleInt_map (egglog_exp_array_api_TupleInt_filter (egglog_exp_array_api_TupleInt_range (egglog_exp_array_api_TupleInt_length _self)) (unstable-fn "_indices-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_Boolean___invert____egglog_exp_array_api_TupleInt_contains__indices__i__" _indices)) (unstable-fn "_self-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___getitem____self__i_" _self)) :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.exp.array_api_loopnest.LoopNestAPI)
(constructor egglog_exp_array_api_loopnest_LoopNestAPI_indices (egglog.exp.array_api_loopnest.LoopNestAPI) egglog.exp.array_api.TupleTupleInt)
(constructor egglog_exp_array_api_loopnest_LoopNestAPI_get_dims (egglog.exp.array_api_loopnest.LoopNestAPI) egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_loopnest_LoopNestAPI_indices _self) (egglog_exp_array_api_TupleTupleInt_product (egglog_exp_array_api_TupleInt_map_tuple_int (egglog_exp_array_api_loopnest_LoopNestAPI_get_dims _self) (unstable-fn "egglog_exp_array_api_TupleInt_range"))) :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.exp.array_api_loopnest.OptionalLoopNestAPI)
(constructor egglog_exp_array_api_loopnest_LoopNestAPI_from_tuple (egglog.exp.array_api.TupleInt) egglog.exp.array_api_loopnest.OptionalLoopNestAPI)
(constructor egglog_exp_array_api_loopnest_OptionalLoopNestAPI_NONE () egglog.exp.array_api_loopnest.OptionalLoopNestAPI)
(rewrite (egglog_exp_array_api_loopnest_LoopNestAPI_from_tuple (egglog_exp_array_api_TupleInt_EMPTY )) (egglog_exp_array_api_loopnest_OptionalLoopNestAPI_NONE ) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_loopnest_OptionalLoopNestAPI___init__ (egglog.exp.array_api_loopnest.LoopNestAPI) egglog.exp.array_api_loopnest.OptionalLoopNestAPI)
(constructor egglog_exp_array_api_loopnest_LoopNestAPI___init__ (egglog.exp.array_api.Int egglog.exp.array_api_loopnest.OptionalLoopNestAPI) egglog.exp.array_api_loopnest.LoopNestAPI)
(rewrite (egglog_exp_array_api_loopnest_LoopNestAPI_from_tuple (egglog_exp_array_api_TupleInt_append _ti _dim)) (egglog_exp_array_api_loopnest_OptionalLoopNestAPI___init__ (egglog_exp_array_api_loopnest_LoopNestAPI___init__ _dim (egglog_exp_array_api_loopnest_LoopNestAPI_from_tuple _ti))) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_loopnest_LoopNestAPI_get_dims (egglog_exp_array_api_loopnest_LoopNestAPI___init__ _dim (egglog_exp_array_api_loopnest_OptionalLoopNestAPI_NONE ))) (egglog_exp_array_api_TupleInt_single _dim) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_loopnest_LoopNestAPI_get_dims (egglog_exp_array_api_loopnest_LoopNestAPI___init__ _dim (egglog_exp_array_api_loopnest_OptionalLoopNestAPI___init__ _lna))) (egglog_exp_array_api_TupleInt_append (egglog_exp_array_api_loopnest_LoopNestAPI_get_dims _lna) _dim) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_loopnest_OptionalLoopNestAPI_unwrap (egglog.exp.array_api_loopnest.OptionalLoopNestAPI) egglog.exp.array_api_loopnest.LoopNestAPI)
(rewrite (egglog_exp_array_api_loopnest_OptionalLoopNestAPI_unwrap (egglog_exp_array_api_loopnest_OptionalLoopNestAPI___init__ _lna)) _lna :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor _axis-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_Boolean___invert____egglog_exp_array_api_TupleInt_contains__axis__i__ (egglog.exp.array_api.TupleInt egglog.exp.array_api.Int) egglog.exp.array_api.Boolean)
(rewrite (_axis-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_Boolean___invert____egglog_exp_array_api_TupleInt_contains__axis__i__ _axis _i) (egglog_exp_array_api_Boolean___invert__ (egglog_exp_array_api_TupleInt_contains _axis _i)) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor _dims-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___getitem____dims__i_ (egglog.exp.array_api.TupleInt egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (_dims-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___getitem____dims__i_ _dims _i) (egglog_exp_array_api_TupleInt___getitem__ _dims _i) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor _axis-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt_contains__axis__i_ (egglog.exp.array_api.TupleInt egglog.exp.array_api.Int) egglog.exp.array_api.Boolean)
(rewrite (_axis-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt_contains__axis__i_ _axis _i) (egglog_exp_array_api_TupleInt_contains _axis _i) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.exp.array_api_loopnest.ShapeAPI)
(constructor egglog_exp_array_api_loopnest_ShapeAPI_deselect (egglog.exp.array_api_loopnest.ShapeAPI egglog.exp.array_api.TupleInt) egglog.exp.array_api_loopnest.ShapeAPI)
(constructor egglog_exp_array_api_loopnest_ShapeAPI___init__ (egglog.exp.array_api.TupleInt) egglog.exp.array_api_loopnest.ShapeAPI)
(rewrite (egglog_exp_array_api_loopnest_ShapeAPI_deselect (egglog_exp_array_api_loopnest_ShapeAPI___init__ _dims) _axis) (egglog_exp_array_api_loopnest_ShapeAPI___init__ (egglog_exp_array_api_TupleInt_map (egglog_exp_array_api_TupleInt_filter (egglog_exp_array_api_TupleInt_range (egglog_exp_array_api_TupleInt_length _dims)) (unstable-fn "_axis-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_Boolean___invert____egglog_exp_array_api_TupleInt_contains__axis__i__" _axis)) (unstable-fn "_dims-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___getitem____dims__i_" _dims))) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_loopnest_ShapeAPI_select (egglog.exp.array_api_loopnest.ShapeAPI egglog.exp.array_api.TupleInt) egglog.exp.array_api_loopnest.ShapeAPI)
(rewrite (egglog_exp_array_api_loopnest_ShapeAPI_select (egglog_exp_array_api_loopnest_ShapeAPI___init__ _dims) _axis) (egglog_exp_array_api_loopnest_ShapeAPI___init__ (egglog_exp_array_api_TupleInt_map (egglog_exp_array_api_TupleInt_filter (egglog_exp_array_api_TupleInt_range (egglog_exp_array_api_TupleInt_length _dims)) (unstable-fn "_axis-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt_contains__axis__i_" _axis)) (unstable-fn "_dims-egglog_exp_array_api_TupleInt__i-egglog_exp_array_api_Int__egglog_exp_array_api_TupleInt___getitem____dims__i_" _dims))) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_loopnest_ShapeAPI_to_tuple (egglog.exp.array_api_loopnest.ShapeAPI) egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_loopnest_ShapeAPI_to_tuple (egglog_exp_array_api_loopnest_ShapeAPI___init__ _dims)) _dims :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_NDArray_size (egglog.exp.array_api.NDArray) egglog.exp.array_api.Int)
(constructor egglog_exp_array_api_NDArray_shape (egglog.exp.array_api.NDArray) egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_NDArray_size _x) (egglog_exp_array_api_TupleInt_foldl (egglog_exp_array_api_NDArray_shape _x) (unstable-fn "egglog_exp_array_api_Int___mul__") (egglog_exp_array_api_Int___init__ 1)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_unique_values (egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_NDArray_vector (egglog.exp.array_api.TupleValue) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_possible_values (egglog.exp.array_api.Value) egglog.exp.array_api.TupleValue)
(constructor egglog_exp_array_api_NDArray_index (egglog.exp.array_api.NDArray egglog.exp.array_api.TupleInt) egglog.exp.array_api.Value)
(constructor %egglog_thunk_ALL_INDICES () egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_unique_values _a) (egglog_exp_array_api_NDArray_vector (egglog_exp_array_api_possible_values (egglog_exp_array_api_NDArray_index _a (%egglog_thunk_ALL_INDICES )))) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Value_isfinite (egglog.exp.array_api.Value) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_Value_isfinite (egglog_exp_array_api_Value_int _i)) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Value_bool (egglog.exp.array_api.Boolean) egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_Value_isfinite (egglog_exp_array_api_Value_bool _b)) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.exp.array_api.Float)
(constructor egglog_exp_array_api_Value_float (egglog.exp.array_api.Float) egglog.exp.array_api.Value)
(constructor egglog_exp_array_api_Float___init__ (f64) egglog.exp.array_api.Float :cost 3)
(rewrite (egglog_exp_array_api_Value_isfinite (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ _f))) (egglog_exp_array_api_Boolean___init__ true) :when ((!= _f NaN)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_isfinite (egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(sort egglog.exp.array_api.OptionalIntOrTuple)
(constructor egglog_exp_array_api_sum (egglog.exp.array_api.NDArray egglog.exp.array_api.OptionalIntOrTuple) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_OptionalIntOrTuple_none () egglog.exp.array_api.OptionalIntOrTuple)
(rewrite (egglog_exp_array_api_isfinite (egglog_exp_array_api_sum _arr (egglog_exp_array_api_OptionalIntOrTuple_none ))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_bool (egglog_exp_array_api_Value_isfinite (egglog_exp_array_api_NDArray_index _arr (%egglog_thunk_ALL_INDICES ))))) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_assume_value_one_of (egglog.exp.array_api.NDArray egglog.exp.array_api.TupleValue) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_assume_value_one_of _x _vs)) (egglog_exp_array_api_NDArray_shape _x) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_assume_value_one_of _x _vs)) (egglog_exp_array_api_NDArray_dtype _x) :ruleset egglog.exp.array_api.array_api_ruleset)
(rule ((= _v (egglog_exp_array_api_NDArray_index (egglog_exp_array_api_assume_value_one_of _x _vs) _idx)))
      ((union _v (egglog_exp_array_api_NDArray_index _x _idx))
       (union (egglog_exp_array_api_possible_values _v) _vs))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rewrite (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_assume_isfinite _x)) (egglog_exp_array_api_NDArray_shape _x) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_assume_isfinite _x)) (egglog_exp_array_api_NDArray_dtype _x) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_index (egglog_exp_array_api_assume_isfinite _x) _ti) (egglog_exp_array_api_NDArray_index _x _ti) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Value_isfinite (egglog_exp_array_api_NDArray_index (egglog_exp_array_api_assume_isfinite _x) _ti)) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_assume_shape _x _shape)) _shape :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_assume_shape _x _shape)) (egglog_exp_array_api_NDArray_dtype _x) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_index (egglog_exp_array_api_assume_shape _x _shape) _idx) (egglog_exp_array_api_NDArray_index _x _idx) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_assume_dtype _x _dtype)) _dtype :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_assume_dtype _x _dtype)) (egglog_exp_array_api_NDArray_shape _x) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_index (egglog_exp_array_api_assume_dtype _x _dtype) _idx) (egglog_exp_array_api_NDArray_index _x _idx) :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.exp.array_api.IndexKey)
(constructor egglog_exp_array_api_NDArray___getitem__ (egglog.exp.array_api.NDArray egglog.exp.array_api.IndexKey) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_IndexKey_int (egglog.exp.array_api.Int) egglog.exp.array_api.IndexKey)
(rewrite (egglog_exp_array_api_NDArray___getitem__ _x (egglog_exp_array_api_IndexKey_int _i)) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_NDArray_index _x (egglog_exp_array_api_TupleInt_single _i))) :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.exp.array_api.OptionalBool)
(constructor egglog_exp_array_api_reshape (egglog.exp.array_api.NDArray egglog.exp.array_api.TupleInt egglog.exp.array_api.OptionalBool) egglog.exp.array_api.NDArray)
(rule ((= ___a (egglog_exp_array_api_reshape _x _shape _copy)))
      ((egglog_exp_array_api_NDArray_shape _x)
       (egglog_exp_array_api_TupleInt_length (egglog_exp_array_api_NDArray_shape _x)))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rule ((egglog_exp_array_api_reshape _x _shape _copy))
      ((egglog_exp_array_api_TupleInt_length _shape)
       (egglog_exp_array_api_TupleInt___getitem__ _shape (egglog_exp_array_api_Int___init__ 0)))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rewrite (egglog_exp_array_api_reshape _x _shape _copy) _x :when ((= (egglog_exp_array_api_TupleInt_length (egglog_exp_array_api_NDArray_shape _x)) (egglog_exp_array_api_Int___init__ 1)) (= (egglog_exp_array_api_TupleInt_length _shape) (egglog_exp_array_api_Int___init__ 1)) (= (egglog_exp_array_api_TupleInt___getitem__ _shape (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Int___init__ -1))) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_NDArray_vector _vs)) (egglog_exp_array_api_TupleInt_single (egglog_exp_array_api_TupleValue_length _vs)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_NDArray_vector _vs)) (egglog_exp_array_api_Value_dtype (egglog_exp_array_api_TupleValue___getitem__ _vs (egglog_exp_array_api_Int___init__ 0))) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_index (egglog_exp_array_api_NDArray_vector _vs) _ti) (egglog_exp_array_api_TupleValue___getitem__ _vs (egglog_exp_array_api_TupleInt___getitem__ _ti (egglog_exp_array_api_Int___init__ 0))) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_NDArray_scalar _v)) (egglog_exp_array_api_TupleInt_EMPTY ) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_NDArray_scalar _v)) (egglog_exp_array_api_Value_dtype _v) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_index (egglog_exp_array_api_NDArray_scalar _v) (egglog_exp_array_api_TupleInt_EMPTY )) _v :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_any (egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_Value_to_truthy_value (egglog.exp.array_api.Value) egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_any _x) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_bool (egglog_exp_array_api_TupleValue_contains (egglog_exp_array_api_possible_values (egglog_exp_array_api_Value_to_truthy_value (egglog_exp_array_api_NDArray_index _x (%egglog_thunk_ALL_INDICES )))) (egglog_exp_array_api_Value_bool (egglog_exp_array_api_Boolean___init__ true))))) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_NDArray___lt__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_Value___lt__ (egglog.exp.array_api.Value egglog.exp.array_api.Value) egglog.exp.array_api.Value)
(constructor egglog_exp_array_api_broadcast_index (egglog.exp.array_api.TupleInt egglog.exp.array_api.TupleInt egglog.exp.array_api.TupleInt) egglog.exp.array_api.TupleInt)
(constructor egglog_exp_array_api_broadcast_shapes (egglog.exp.array_api.TupleInt egglog.exp.array_api.TupleInt) egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_NDArray_index (egglog_exp_array_api_NDArray___lt__ _x _y) _idx) (egglog_exp_array_api_Value___lt__ (egglog_exp_array_api_NDArray_index _x (egglog_exp_array_api_broadcast_index (egglog_exp_array_api_NDArray_shape _x) (egglog_exp_array_api_broadcast_shapes (egglog_exp_array_api_NDArray_shape _x) (egglog_exp_array_api_NDArray_shape _y)) _idx)) (egglog_exp_array_api_NDArray_index _y (egglog_exp_array_api_broadcast_index (egglog_exp_array_api_NDArray_shape _y) (egglog_exp_array_api_broadcast_shapes (egglog_exp_array_api_NDArray_shape _x) (egglog_exp_array_api_NDArray_shape _y)) _idx))) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_NDArray___truediv__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_Value___truediv__ (egglog.exp.array_api.Value egglog.exp.array_api.Value) egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_NDArray_index (egglog_exp_array_api_NDArray___truediv__ _x _y) _idx) (egglog_exp_array_api_Value___truediv__ (egglog_exp_array_api_NDArray_index _x (egglog_exp_array_api_broadcast_index (egglog_exp_array_api_NDArray_shape _x) (egglog_exp_array_api_broadcast_shapes (egglog_exp_array_api_NDArray_shape _x) (egglog_exp_array_api_NDArray_shape _y)) _idx)) (egglog_exp_array_api_NDArray_index _y (egglog_exp_array_api_broadcast_index (egglog_exp_array_api_NDArray_shape _y) (egglog_exp_array_api_broadcast_shapes (egglog_exp_array_api_NDArray_shape _x) (egglog_exp_array_api_NDArray_shape _y)) _idx))) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_index (egglog_exp_array_api_NDArray_scalar _v) _idx) _v :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_astype (egglog.exp.array_api.NDArray egglog.exp.array_api.DType) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_Value_astype (egglog.exp.array_api.Value egglog.exp.array_api.DType) egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_NDArray_index (egglog_exp_array_api_astype _x _dtype) _idx) (egglog_exp_array_api_Value_astype (egglog_exp_array_api_NDArray_index _x _idx) _dtype) :ruleset egglog.exp.array_api.array_api_ruleset)
(relation egglog_exp_array_api_greater_zero (egglog.exp.array_api.Value))
(constructor egglog_exp_array_api_unique_counts (egglog.exp.array_api.NDArray) egglog.exp.array_api.TupleNDArray)
(rule ((= _v (egglog_exp_array_api_NDArray_index (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_unique_counts _x) (egglog_exp_array_api_Int___init__ 1)) _idx)))
      ((egglog_exp_array_api_greater_zero _v))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rule ((egglog_exp_array_api_greater_zero _v)
       (= _v1 (egglog_exp_array_api_Value_astype _v _dtype)))
      ((egglog_exp_array_api_greater_zero _v1))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rule ((= _v (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ _f)))
       (> _f 0.0))
      ((egglog_exp_array_api_greater_zero _v))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rule ((= _v (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ _i)))
       (> _i 0))
      ((egglog_exp_array_api_greater_zero _v))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rule ((egglog_exp_array_api_greater_zero _v)
       (egglog_exp_array_api_greater_zero _v1)
       (= _v2 (egglog_exp_array_api_Value___truediv__ _v _v1)))
      ((egglog_exp_array_api_greater_zero _v2))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rule ((egglog_exp_array_api_greater_zero _v)
       (= _v1 (egglog_exp_array_api_Value___lt__ _v (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)))))
      ((union _v1 (egglog_exp_array_api_Value_bool (egglog_exp_array_api_Boolean___init__ false))))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(constructor egglog_exp_array_api_TupleValue_append (egglog.exp.array_api.TupleValue egglog.exp.array_api.Value) egglog.exp.array_api.TupleValue)
(constructor egglog_exp_array_api_TupleValue_EMPTY () egglog.exp.array_api.TupleValue)
(rewrite (egglog_exp_array_api_possible_values (egglog_exp_array_api_Value_bool _b)) (egglog_exp_array_api_TupleValue_append (egglog_exp_array_api_TupleValue_EMPTY ) (egglog_exp_array_api_Value_bool _b)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rule ((= _v1 (egglog_exp_array_api_Value_astype _v _dtype))
       (egglog_exp_array_api_greater_zero _v))
      ((egglog_exp_array_api_greater_zero _v1))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(constructor egglog_exp_array_api_svd (egglog.exp.array_api.NDArray egglog.exp.array_api.Boolean) egglog.exp.array_api.TupleNDArray)
(rewrite (egglog_exp_array_api_svd _x _full_matrices) (egglog_exp_array_api_TupleNDArray___init__ (egglog_exp_array_api_Int___init__ 3) (unstable-fn "egglog_exp_array_api_TupleNDArray___getitem__" (egglog_exp_array_api_svd _x _full_matrices))) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_unique_inverse (egglog.exp.array_api.NDArray) egglog.exp.array_api.TupleNDArray)
(rewrite (egglog_exp_array_api_unique_inverse _x) (egglog_exp_array_api_TupleNDArray___init__ (egglog_exp_array_api_Int___init__ 2) (unstable-fn "egglog_exp_array_api_TupleNDArray___getitem__" (egglog_exp_array_api_unique_inverse _x))) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_unique_inverse _x) (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_unique_values _x) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor ndarray-abs (egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_Float_abs (egglog.exp.array_api.Float) egglog.exp.array_api.Float)
(rewrite (ndarray-abs (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float _f))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_abs _f))) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_unique_counts _x) (egglog_exp_array_api_TupleNDArray___init__ (egglog_exp_array_api_Int___init__ 2) (unstable-fn "egglog_exp_array_api_TupleNDArray___getitem__" (egglog_exp_array_api_unique_counts _x))) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_sum (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_unique_counts _x) (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_OptionalIntOrTuple_none )) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int (egglog_exp_array_api_NDArray_size _x))) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_sum (egglog_exp_array_api_astype (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_unique_counts _x) (egglog_exp_array_api_Int___init__ 1)) _dtype) (egglog_exp_array_api_OptionalIntOrTuple_none )) (egglog_exp_array_api_astype (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int (egglog_exp_array_api_NDArray_size _x))) _dtype) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_astype _x _dtype)) _dtype :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_astype (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ _i))) __expr_993116813100192115) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ (to-f64 _i)))) :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.exp.array_api.OptionalInt)
(constructor egglog_exp_array_api_concat (egglog.exp.array_api.TupleNDArray egglog.exp.array_api.OptionalInt) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_TupleNDArray_append (egglog.exp.array_api.TupleNDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.TupleNDArray)
(constructor egglog_exp_array_api_TupleNDArray_EMPTY () egglog.exp.array_api.TupleNDArray)
(constructor egglog_exp_array_api_OptionalInt_none () egglog.exp.array_api.OptionalInt)
(rewrite (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_append (egglog_exp_array_api_TupleNDArray_EMPTY ) _x) (egglog_exp_array_api_OptionalInt_none )) _x :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_unique_values (egglog_exp_array_api_unique_values _x)) (egglog_exp_array_api_unique_values _x) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_sum (egglog_exp_array_api_NDArray___truediv__ _x (egglog_exp_array_api_NDArray_scalar _v)) (egglog_exp_array_api_OptionalIntOrTuple_none )) (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_sum _x (egglog_exp_array_api_OptionalIntOrTuple_none )) (egglog_exp_array_api_NDArray_scalar _v)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_NDArray_ndim (egglog.exp.array_api.NDArray) egglog.exp.array_api.Int)
(sort egglog.exp.array_api.OptionalDType)
(sort egglog.exp.array_api.OptionalDevice)
(constructor egglog_exp_array_api_asarray (egglog.exp.array_api.NDArray egglog.exp.array_api.OptionalDType egglog.exp.array_api.OptionalBool egglog.exp.array_api.OptionalDevice) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_OptionalDevice_none () egglog.exp.array_api.OptionalDevice)
(rewrite (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray _a _d _ob (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_NDArray_ndim _a) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_OptionalDType_none () egglog.exp.array_api.OptionalDType)
(constructor egglog_exp_array_api_OptionalBool_none () egglog.exp.array_api.OptionalBool)
(rewrite (egglog_exp_array_api_asarray _a (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none )) _a :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_check_index (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(constructor egglog_exp_array_api_Boolean___and__ (egglog.exp.array_api.Boolean egglog.exp.array_api.Boolean) egglog.exp.array_api.Boolean)
(constructor egglog_exp_array_api_Int___ge__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Boolean)
(constructor egglog_exp_array_api_Int_NEVER () egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_check_index _length _idx) (egglog_exp_array_api_Int_if_ (egglog_exp_array_api_Boolean___and__ (egglog_exp_array_api_Int___ge__ _idx (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Int___lt__ _idx _length)) _idx (egglog_exp_array_api_Int_NEVER )) :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.builtins.Vec[egglog.exp.array_api.NDArray] (Vec egglog.exp.array_api.NDArray))
(function egglog_exp_array_api_TupleNDArray_to_vec (egglog.exp.array_api.TupleNDArray) egglog.builtins.Vec[egglog.exp.array_api.NDArray] :no-merge)
(constructor egglog_exp_array_api_TupleNDArray_from_vec (egglog.builtins.Vec[egglog.exp.array_api.NDArray]) egglog.exp.array_api.TupleNDArray)
(rule ((= _tv (egglog_exp_array_api_TupleNDArray_from_vec _vs)))
      ((set (egglog_exp_array_api_TupleNDArray_to_vec _tv) _vs))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rewrite (egglog_exp_array_api_TupleNDArray_length (egglog_exp_array_api_TupleNDArray___init__ _length _idx_fn)) _length :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_TupleNDArray___init__ _length _idx_fn) _idx) (unstable-app _idx_fn (egglog_exp_array_api_check_index _idx _length)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleNDArray_length (egglog_exp_array_api_TupleNDArray_EMPTY )) (egglog_exp_array_api_Int___init__ 0) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_NDArray_NEVER () egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_TupleNDArray_EMPTY ) _idx) (egglog_exp_array_api_NDArray_NEVER ) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleNDArray_length (egglog_exp_array_api_TupleNDArray_append _tv _v)) (egglog_exp_array_api_Int___add__ (egglog_exp_array_api_TupleNDArray_length _tv) (egglog_exp_array_api_Int___init__ 1)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_TupleNDArray_append _tv _v) _idx) (egglog_exp_array_api_NDArray_if_ (egglog_exp_array_api_Int___eq__ _idx (egglog_exp_array_api_TupleNDArray_length _tv)) _v (egglog_exp_array_api_TupleNDArray___getitem__ _tv _idx)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleNDArray___init__ (egglog_exp_array_api_Int___init__ 0) _idx_fn) (egglog_exp_array_api_TupleNDArray_EMPTY ) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleNDArray___init__ (egglog_exp_array_api_Int___init__ _k) _idx_fn) (egglog_exp_array_api_TupleNDArray_append (egglog_exp_array_api_TupleNDArray___init__ (egglog_exp_array_api_Int___init__ (- _k 1)) _idx_fn) (unstable-app _idx_fn (egglog_exp_array_api_Int___init__ (- _k 1)))) :subsume :when ((> _k 0)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleNDArray_EMPTY ) (egglog_exp_array_api_TupleNDArray_from_vec (vec-of )) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleNDArray_append (egglog_exp_array_api_TupleNDArray_from_vec _vs) _v) (egglog_exp_array_api_TupleNDArray_from_vec (vec-append _vs (vec-of _v))) :ruleset egglog.exp.array_api.array_api_ruleset)
(rule ((= (egglog_exp_array_api_TupleNDArray_append _tv _v) (egglog_exp_array_api_TupleNDArray_append _tv1 _v1)))
      ((union _tv _tv1)
       (union _v _v1))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rewrite (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_NDArray___init__ _shape _dtype _idx_fn)) _shape :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_NDArray___init__ _shape _dtype _idx_fn)) _dtype :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_index (egglog_exp_array_api_NDArray___init__ _shape _dtype _idx_fn) _idx) (unstable-app _idx_fn _idx) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_ndim _x) (egglog_exp_array_api_TupleInt_length (egglog_exp_array_api_NDArray_shape _x)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_NDArray_to_value (egglog.exp.array_api.NDArray) egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_NDArray_to_value _x) (egglog_exp_array_api_NDArray_index _x (egglog_exp_array_api_TupleInt_EMPTY )) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_NDArray_to_values (egglog.exp.array_api.NDArray) egglog.exp.array_api.TupleValue)
(rewrite (egglog_exp_array_api_NDArray_to_values (egglog_exp_array_api_NDArray_vector _tv)) _tv :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float _f)) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float _f))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 1.0))) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_NDArray___sub__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_NDArray___sub__ (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float _f)) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float _f))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 0.0))) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_NDArray___gt__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_NDArray___gt__ (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ _fi1))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ _fi2)))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_bool (egglog_exp_array_api_Boolean___init__ true))) :when ((> _fi1 _fi2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray___gt__ (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ _fi1))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ _fi2)))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_bool (egglog_exp_array_api_Boolean___init__ false))) :when ((<= _fi1 _fi2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_NDArray_T (egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray_T _x)) _x :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_if_ (egglog_exp_array_api_Boolean___init__ true) _x _x1) _x :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_NDArray_if_ (egglog_exp_array_api_Boolean___init__ false) _x _x1) _x1 :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleValue_length (egglog_exp_array_api_TupleValue___init__ _length _idx_fn)) _length :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleValue___getitem__ (egglog_exp_array_api_TupleValue___init__ _length _idx_fn) _idx) (unstable-app _idx_fn (egglog_exp_array_api_check_index _idx _length)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleValue_length (egglog_exp_array_api_TupleValue_EMPTY )) (egglog_exp_array_api_Int___init__ 0) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Value_NEVER () egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_TupleValue___getitem__ (egglog_exp_array_api_TupleValue_EMPTY ) _idx) (egglog_exp_array_api_Value_NEVER ) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleValue_length (egglog_exp_array_api_TupleValue_append _tv _v)) (egglog_exp_array_api_Int___add__ (egglog_exp_array_api_TupleValue_length _tv) (egglog_exp_array_api_Int___init__ 1)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleValue___getitem__ (egglog_exp_array_api_TupleValue_append _tv _v) _idx) (egglog_exp_array_api_Value_if_ (egglog_exp_array_api_Int___eq__ _idx (egglog_exp_array_api_TupleValue_length _tv)) _v (egglog_exp_array_api_TupleValue___getitem__ _tv _idx)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleValue___init__ (egglog_exp_array_api_Int___init__ 0) _idx_fn) (egglog_exp_array_api_TupleValue_EMPTY ) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleValue___init__ (egglog_exp_array_api_Int___init__ _k) _idx_fn) (egglog_exp_array_api_TupleValue_append (egglog_exp_array_api_TupleValue___init__ (egglog_exp_array_api_Int___init__ (- _k 1)) _idx_fn) (unstable-app _idx_fn (egglog_exp_array_api_Int___init__ (- _k 1)))) :subsume :when ((> _k 0)) :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.builtins.Vec[egglog.exp.array_api.Value] (Vec egglog.exp.array_api.Value))
(constructor egglog_exp_array_api_TupleValue_from_vec (egglog.builtins.Vec[egglog.exp.array_api.Value]) egglog.exp.array_api.TupleValue)
(rewrite (egglog_exp_array_api_TupleValue_EMPTY ) (egglog_exp_array_api_TupleValue_from_vec (vec-of )) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleValue_append (egglog_exp_array_api_TupleValue_from_vec _vs) _v) (egglog_exp_array_api_TupleValue_from_vec (vec-append _vs (vec-of _v))) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleValue_foldl_boolean (egglog_exp_array_api_TupleValue_EMPTY ) _bool_f _b) _b :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleValue_foldl_boolean (egglog_exp_array_api_TupleValue_append _tv _v) _bool_f _b) (unstable-app _bool_f (egglog_exp_array_api_TupleValue_foldl_boolean _tv _bool_f _b) _v) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rule ((= (egglog_exp_array_api_TupleValue_append _tv _v) (egglog_exp_array_api_TupleValue_append _tv1 _v1)))
      ((union _tv _tv1)
       (union _v _v1))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(constructor egglog_exp_array_api_DType_int64 () egglog.exp.array_api.DType)
(rewrite (egglog_exp_array_api_Value_dtype (egglog_exp_array_api_Value_int _i)) (egglog_exp_array_api_DType_int64 ) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Value_dtype (egglog_exp_array_api_Value_float _f)) __expr_993116813100192115 :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_DType_bool () egglog.exp.array_api.DType)
(rewrite (egglog_exp_array_api_Value_dtype (egglog_exp_array_api_Value_bool _b)) (egglog_exp_array_api_DType_bool ) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Value_to_bool (egglog.exp.array_api.Value) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_Value_to_bool (egglog_exp_array_api_Value_bool _b)) _b :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Value_to_int (egglog.exp.array_api.Value) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_Value_to_int (egglog_exp_array_api_Value_int _i)) _i :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Value_to_truthy_value (egglog_exp_array_api_Value_bool _b)) (egglog_exp_array_api_Value_bool _b) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Value_conj (egglog.exp.array_api.Value) egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_Value_conj (egglog_exp_array_api_Value_float _f)) (egglog_exp_array_api_Value_float _f) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Value_real (egglog.exp.array_api.Value) egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_Value_real (egglog_exp_array_api_Value_float _f)) (egglog_exp_array_api_Value_float _f) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Value_real (egglog_exp_array_api_Value_int _i)) (egglog_exp_array_api_Value_int _i) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Value_conj (egglog_exp_array_api_Value_int _i)) (egglog_exp_array_api_Value_int _i) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Value_sqrt (egglog.exp.array_api.Value) egglog.exp.array_api.Value)
(constructor egglog_exp_array_api_Float___pow__ (egglog.exp.array_api.Float egglog.exp.array_api.Float) egglog.exp.array_api.Float)
(rewrite (egglog_exp_array_api_Value_sqrt (egglog_exp_array_api_Value_float _f)) (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___pow__ _f (egglog_exp_array_api_Float___init__ 0.5))) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Value___add__ (egglog.exp.array_api.Value egglog.exp.array_api.Value) egglog.exp.array_api.Value)
(constructor egglog_exp_array_api_Float_rational (BigRat) egglog.exp.array_api.Float :cost 2)
(rewrite (egglog_exp_array_api_Value___add__ (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat (bigint 0) (bigint 1)))) _v) _v :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Value_if_ (egglog_exp_array_api_Boolean___init__ true) _v _v1) _v :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Value_if_ (egglog_exp_array_api_Boolean___init__ false) _v _v1) _v1 :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Value___eq__ (egglog_exp_array_api_Value_int _i) (egglog_exp_array_api_Value_int _i1)) (egglog_exp_array_api_Int___eq__ _i _i1) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Float___eq__ (egglog.exp.array_api.Float egglog.exp.array_api.Float) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_Value___eq__ (egglog_exp_array_api_Value_float _f) (egglog_exp_array_api_Value_float _f1)) (egglog_exp_array_api_Float___eq__ _f _f1) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Boolean___eq__ (egglog.exp.array_api.Boolean egglog.exp.array_api.Boolean) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_Value___eq__ (egglog_exp_array_api_Value_bool _b) (egglog_exp_array_api_Value_bool _b1)) (egglog_exp_array_api_Boolean___eq__ _b _b1) :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.exp.array_api.IsDtypeKind)
(constructor egglog_exp_array_api_isdtype (egglog.exp.array_api.DType egglog.exp.array_api.IsDtypeKind) egglog.exp.array_api.Boolean)
(constructor egglog_exp_array_api_DType_float32 () egglog.exp.array_api.DType)
(constructor egglog_exp_array_api_IsDtypeKind_string (String) egglog.exp.array_api.IsDtypeKind)
(rewrite (egglog_exp_array_api_isdtype (egglog_exp_array_api_DType_float32 ) (egglog_exp_array_api_IsDtypeKind_string "integral")) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_isdtype __expr_993116813100192115 (egglog_exp_array_api_IsDtypeKind_string "integral")) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_DType_object () egglog.exp.array_api.DType)
(rewrite (egglog_exp_array_api_isdtype (egglog_exp_array_api_DType_object ) (egglog_exp_array_api_IsDtypeKind_string "integral")) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_isdtype (egglog_exp_array_api_DType_int64 ) (egglog_exp_array_api_IsDtypeKind_string "integral")) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_DType_int32 () egglog.exp.array_api.DType)
(rewrite (egglog_exp_array_api_isdtype (egglog_exp_array_api_DType_int32 ) (egglog_exp_array_api_IsDtypeKind_string "integral")) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_isdtype (egglog_exp_array_api_DType_float32 ) (egglog_exp_array_api_IsDtypeKind_string "real floating")) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_isdtype __expr_993116813100192115 (egglog_exp_array_api_IsDtypeKind_string "real floating")) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_isdtype (egglog_exp_array_api_DType_object ) (egglog_exp_array_api_IsDtypeKind_string "real floating")) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_isdtype (egglog_exp_array_api_DType_int64 ) (egglog_exp_array_api_IsDtypeKind_string "real floating")) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_isdtype (egglog_exp_array_api_DType_int32 ) (egglog_exp_array_api_IsDtypeKind_string "real floating")) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_isdtype (egglog_exp_array_api_DType_float32 ) (egglog_exp_array_api_IsDtypeKind_string "complex floating")) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_isdtype __expr_993116813100192115 (egglog_exp_array_api_IsDtypeKind_string "complex floating")) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_isdtype (egglog_exp_array_api_DType_object ) (egglog_exp_array_api_IsDtypeKind_string "complex floating")) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_isdtype (egglog_exp_array_api_DType_int64 ) (egglog_exp_array_api_IsDtypeKind_string "complex floating")) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_isdtype (egglog_exp_array_api_DType_int32 ) (egglog_exp_array_api_IsDtypeKind_string "complex floating")) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_IsDtypeKind_NULL () egglog.exp.array_api.IsDtypeKind)
(rewrite (egglog_exp_array_api_isdtype _d (egglog_exp_array_api_IsDtypeKind_NULL )) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_IsDtypeKind_dtype (egglog.exp.array_api.DType) egglog.exp.array_api.IsDtypeKind)
(rewrite (egglog_exp_array_api_isdtype _d (egglog_exp_array_api_IsDtypeKind_dtype _d)) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_IsDtypeKind___or__ (egglog.exp.array_api.IsDtypeKind egglog.exp.array_api.IsDtypeKind) egglog.exp.array_api.IsDtypeKind :cost 10)
(rewrite (egglog_exp_array_api_isdtype _d (egglog_exp_array_api_IsDtypeKind___or__ _k1 _k2)) (egglog_exp_array_api_Boolean___or__ (egglog_exp_array_api_isdtype _d _k1) (egglog_exp_array_api_isdtype _d _k2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_IsDtypeKind___or__ _k1 (egglog_exp_array_api_IsDtypeKind_NULL )) _k1 :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ __expr_993116813100192115 __expr_993116813100192115) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ __expr_993116813100192115 (egglog_exp_array_api_DType_float32 )) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ __expr_993116813100192115 (egglog_exp_array_api_DType_int32 )) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ __expr_993116813100192115 (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ __expr_993116813100192115 (egglog_exp_array_api_DType_object )) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_float32 ) __expr_993116813100192115) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_float32 ) (egglog_exp_array_api_DType_float32 )) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_float32 ) (egglog_exp_array_api_DType_int32 )) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_float32 ) (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_float32 ) (egglog_exp_array_api_DType_object )) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_int32 ) __expr_993116813100192115) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_int32 ) (egglog_exp_array_api_DType_float32 )) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_int32 ) (egglog_exp_array_api_DType_int32 )) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_int32 ) (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_int32 ) (egglog_exp_array_api_DType_object )) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_int64 ) __expr_993116813100192115) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_int64 ) (egglog_exp_array_api_DType_float32 )) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_int64 ) (egglog_exp_array_api_DType_int32 )) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_int64 ) (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_int64 ) (egglog_exp_array_api_DType_object )) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_object ) __expr_993116813100192115) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_object ) (egglog_exp_array_api_DType_float32 )) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_object ) (egglog_exp_array_api_DType_int32 )) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_object ) (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_DType_object ) (egglog_exp_array_api_DType_object )) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.builtins.Vec[egglog.exp.array_api.TupleInt] (Vec egglog.exp.array_api.TupleInt))
(function egglog_exp_array_api_TupleTupleInt_to_vec (egglog.exp.array_api.TupleTupleInt) egglog.builtins.Vec[egglog.exp.array_api.TupleInt] :no-merge)
(constructor egglog_exp_array_api_TupleTupleInt_from_vec (egglog.builtins.Vec[egglog.exp.array_api.TupleInt]) egglog.exp.array_api.TupleTupleInt)
(rule ((= _tti (egglog_exp_array_api_TupleTupleInt_from_vec _vs)))
      ((set (egglog_exp_array_api_TupleTupleInt_to_vec _tti) _vs))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rewrite (egglog_exp_array_api_TupleTupleInt_length (egglog_exp_array_api_TupleTupleInt___init__ _length _idx_fn)) _length :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleTupleInt___getitem__ (egglog_exp_array_api_TupleTupleInt___init__ _length _idx_fn) _idx) (unstable-app _idx_fn (egglog_exp_array_api_check_index _idx _length)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleTupleInt_EMPTY () egglog.exp.array_api.TupleTupleInt)
(rewrite (egglog_exp_array_api_TupleTupleInt_length (egglog_exp_array_api_TupleTupleInt_EMPTY )) (egglog_exp_array_api_Int___init__ 0) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleInt_NEVER () egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_TupleTupleInt___getitem__ (egglog_exp_array_api_TupleTupleInt_EMPTY ) _idx) (egglog_exp_array_api_TupleInt_NEVER ) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_TupleTupleInt_append (egglog.exp.array_api.TupleTupleInt egglog.exp.array_api.TupleInt) egglog.exp.array_api.TupleTupleInt)
(rewrite (egglog_exp_array_api_TupleTupleInt_length (egglog_exp_array_api_TupleTupleInt_append _tti _ti)) (egglog_exp_array_api_Int___add__ (egglog_exp_array_api_TupleTupleInt_length _tti) (egglog_exp_array_api_Int___init__ 1)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleTupleInt___getitem__ (egglog_exp_array_api_TupleTupleInt_append _tti _ti) _idx) (egglog_exp_array_api_TupleInt_if_ (egglog_exp_array_api_Int___eq__ _idx (egglog_exp_array_api_TupleTupleInt_length _tti)) _ti (egglog_exp_array_api_TupleTupleInt___getitem__ _tti _idx)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleTupleInt___init__ (egglog_exp_array_api_Int___init__ 0) _idx_fn) (egglog_exp_array_api_TupleTupleInt_EMPTY ) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleTupleInt___init__ (egglog_exp_array_api_Int___init__ _k) _idx_fn) (egglog_exp_array_api_TupleTupleInt_append (egglog_exp_array_api_TupleTupleInt___init__ (egglog_exp_array_api_Int___init__ (- _k 1)) _idx_fn) (unstable-app _idx_fn (egglog_exp_array_api_Int___init__ (- _k 1)))) :subsume :when ((> _k 0)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleTupleInt_EMPTY ) (egglog_exp_array_api_TupleTupleInt_from_vec (vec-of )) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleTupleInt_append (egglog_exp_array_api_TupleTupleInt_from_vec _vs) _ti) (egglog_exp_array_api_TupleTupleInt_from_vec (vec-append _vs (vec-of _ti))) :ruleset egglog.exp.array_api.array_api_ruleset)
(sort egglog.builtins.UnstableFn[egglog.exp.array_api.Value,egglog.exp.array_api.Value,egglog.exp.array_api.TupleInt] (UnstableFn (egglog.exp.array_api.Value egglog.exp.array_api.TupleInt) egglog.exp.array_api.Value))
(constructor egglog_exp_array_api_TupleTupleInt_foldl_value (egglog.exp.array_api.TupleTupleInt egglog.builtins.UnstableFn[egglog.exp.array_api.Value,egglog.exp.array_api.Value,egglog.exp.array_api.TupleInt] egglog.exp.array_api.Value) egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_TupleTupleInt_foldl_value (egglog_exp_array_api_TupleTupleInt_EMPTY ) _f _i) _i :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleTupleInt_foldl_value (egglog_exp_array_api_TupleTupleInt_append _tti _ti) _f _i) (unstable-app _f (egglog_exp_array_api_TupleTupleInt_foldl_value _tti _f _i) _ti) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rule ((= (egglog_exp_array_api_TupleTupleInt_append _tti _ti) (egglog_exp_array_api_TupleTupleInt_append _tti1 _ti1)))
      ((union _tti _tti1)
       (union _ti _ti1))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(function egglog_exp_array_api_TupleInt_to_vec (egglog.exp.array_api.TupleInt) egglog.builtins.Vec[egglog.exp.array_api.Int] :no-merge)
(rule ((= _ti (egglog_exp_array_api_TupleInt_from_vec _vs)))
      ((set (egglog_exp_array_api_TupleInt_to_vec _ti) _vs))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rewrite (egglog_exp_array_api_TupleInt_length (egglog_exp_array_api_TupleInt___init__ _i _idx_fn)) _i :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_TupleInt___init__ _i _idx_fn) _i2) (unstable-app _idx_fn (egglog_exp_array_api_check_index _i _i2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleInt_length (egglog_exp_array_api_TupleInt_EMPTY )) (egglog_exp_array_api_Int___init__ 0) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_TupleInt_EMPTY ) _i) (egglog_exp_array_api_Int_NEVER ) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleInt_length (egglog_exp_array_api_TupleInt_append _ti _i)) (egglog_exp_array_api_Int___add__ (egglog_exp_array_api_TupleInt_length _ti) (egglog_exp_array_api_Int___init__ 1)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_TupleInt_append _ti _i) _i2) (egglog_exp_array_api_Int_if_ (egglog_exp_array_api_Int___eq__ _i2 (egglog_exp_array_api_TupleInt_length _ti)) _i (egglog_exp_array_api_TupleInt___getitem__ _ti _i2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleInt___init__ (egglog_exp_array_api_Int___init__ 0) _idx_fn) (egglog_exp_array_api_TupleInt_EMPTY ) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleInt___init__ (egglog_exp_array_api_Int___init__ _k) _idx_fn) (egglog_exp_array_api_TupleInt_append (egglog_exp_array_api_TupleInt___init__ (egglog_exp_array_api_Int___init__ (- _k 1)) _idx_fn) (unstable-app _idx_fn (egglog_exp_array_api_Int___init__ (- _k 1)))) :subsume :when ((> _k 0)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleInt_EMPTY ) (egglog_exp_array_api_TupleInt_from_vec (vec-of )) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleInt_append (egglog_exp_array_api_TupleInt_from_vec _vs) _i) (egglog_exp_array_api_TupleInt_from_vec (vec-append _vs (vec-of _i))) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleInt_foldl (egglog_exp_array_api_TupleInt_EMPTY ) _f _i) _i :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleInt_foldl (egglog_exp_array_api_TupleInt_append _ti _i2) _f _i) (unstable-app _f (egglog_exp_array_api_TupleInt_foldl _ti _f _i) _i2) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleInt_foldl_boolean (egglog_exp_array_api_TupleInt_EMPTY ) _bool_f _b) _b :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleInt_foldl_boolean (egglog_exp_array_api_TupleInt_append _ti _i2) _bool_f _b) (unstable-app _bool_f (egglog_exp_array_api_TupleInt_foldl_boolean _ti _bool_f _b) _i2) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleInt_foldl_tuple_int (egglog_exp_array_api_TupleInt_EMPTY ) _tuple_int_f _ti) _ti :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleInt_foldl_tuple_int (egglog_exp_array_api_TupleInt_append _ti _i2) _tuple_int_f _ti2) (unstable-app _tuple_int_f (egglog_exp_array_api_TupleInt_foldl_tuple_int _ti _tuple_int_f _ti2) _i2) :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleInt_if_ (egglog_exp_array_api_Boolean___init__ true) _ti _ti2) _ti :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_TupleInt_if_ (egglog_exp_array_api_Boolean___init__ false) _ti _ti2) _ti2 :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rule ((= (egglog_exp_array_api_TupleInt_append _ti _i) (egglog_exp_array_api_TupleInt_append _ti2 _i2)))
      ((union _ti _ti2)
       (union _i _i2))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(function egglog_exp_array_api_Float_to_f64 (egglog.exp.array_api.Float) f64 :no-merge)
(rule ((= _fl (egglog_exp_array_api_Float___init__ _f)))
      ((set (egglog_exp_array_api_Float_to_f64 _fl) _f))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(constructor egglog_exp_array_api_Float_from_int (egglog.exp.array_api.Int) egglog.exp.array_api.Float)
(rewrite (egglog_exp_array_api_Float_from_int (egglog_exp_array_api_Int___init__ _i)) (egglog_exp_array_api_Float___init__ (to-f64 _i)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Float_abs (egglog_exp_array_api_Float___init__ _f)) (egglog_exp_array_api_Float___init__ _f) :when ((>= _f 0.0)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Float_abs (egglog_exp_array_api_Float___init__ _f)) (egglog_exp_array_api_Float___init__ (neg _f)) :when ((< _f 0.0)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Float___init__ _f) (egglog_exp_array_api_Float_rational (bigrat (bigint (to-i64 _f)) (bigint 1))) :when ((= (to-f64 (to-i64 _f)) _f)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Float_from_int (egglog_exp_array_api_Int___init__ _i)) (egglog_exp_array_api_Float_rational (bigrat (bigint _i) (bigint 1))) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Float___add__ (egglog.exp.array_api.Float egglog.exp.array_api.Float) egglog.exp.array_api.Float)
(rewrite (egglog_exp_array_api_Float___add__ (egglog_exp_array_api_Float___init__ _f) (egglog_exp_array_api_Float___init__ _f2)) (egglog_exp_array_api_Float___init__ (+ _f _f2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Float___sub__ (egglog.exp.array_api.Float egglog.exp.array_api.Float) egglog.exp.array_api.Float)
(rewrite (egglog_exp_array_api_Float___sub__ (egglog_exp_array_api_Float___init__ _f) (egglog_exp_array_api_Float___init__ _f2)) (egglog_exp_array_api_Float___init__ (- _f _f2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Float___mul__ (egglog.exp.array_api.Float egglog.exp.array_api.Float) egglog.exp.array_api.Float)
(rewrite (egglog_exp_array_api_Float___mul__ (egglog_exp_array_api_Float___init__ _f) (egglog_exp_array_api_Float___init__ _f2)) (egglog_exp_array_api_Float___init__ (* _f _f2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Float___truediv__ (egglog.exp.array_api.Float egglog.exp.array_api.Float) egglog.exp.array_api.Float)
(rewrite (egglog_exp_array_api_Float___truediv__ (egglog_exp_array_api_Float_rational _r) (egglog_exp_array_api_Float_rational _r1)) (egglog_exp_array_api_Float_rational (/ _r _r1)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Float___add__ (egglog_exp_array_api_Float_rational _r) (egglog_exp_array_api_Float_rational _r1)) (egglog_exp_array_api_Float_rational (+ _r _r1)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Float___sub__ (egglog_exp_array_api_Float_rational _r) (egglog_exp_array_api_Float_rational _r1)) (egglog_exp_array_api_Float_rational (- _r _r1)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Float___mul__ (egglog_exp_array_api_Float_rational _r) (egglog_exp_array_api_Float_rational _r1)) (egglog_exp_array_api_Float_rational (* _r _r1)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Float___pow__ (egglog_exp_array_api_Float___init__ _f) (egglog_exp_array_api_Float___init__ _f2)) (egglog_exp_array_api_Float___init__ (^ _f _f2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Float___eq__ (egglog_exp_array_api_Float___init__ _f) (egglog_exp_array_api_Float___init__ _f)) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Float___eq__ (egglog_exp_array_api_Float___init__ _f) (egglog_exp_array_api_Float___init__ _f2)) (egglog_exp_array_api_Boolean___init__ false) :when ((!= _f _f2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Float___ne__ (egglog.exp.array_api.Float egglog.exp.array_api.Float) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_Float___ne__ (egglog_exp_array_api_Float___init__ _f) (egglog_exp_array_api_Float___init__ _f2)) (egglog_exp_array_api_Boolean___init__ true) :when ((!= _f _f2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Float___ne__ (egglog_exp_array_api_Float___init__ _f) (egglog_exp_array_api_Float___init__ _f)) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Float___ge__ (egglog.exp.array_api.Float egglog.exp.array_api.Float) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_Float___ge__ (egglog_exp_array_api_Float___init__ _f) (egglog_exp_array_api_Float___init__ _f2)) (egglog_exp_array_api_Boolean___init__ true) :when ((>= _f _f2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Float___ge__ (egglog_exp_array_api_Float___init__ _f) (egglog_exp_array_api_Float___init__ _f2)) (egglog_exp_array_api_Boolean___init__ false) :when ((< _f _f2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Float___le__ (egglog.exp.array_api.Float egglog.exp.array_api.Float) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_Float___le__ (egglog_exp_array_api_Float___init__ _f) (egglog_exp_array_api_Float___init__ _f2)) (egglog_exp_array_api_Boolean___init__ true) :when ((<= _f _f2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Float___le__ (egglog_exp_array_api_Float___init__ _f) (egglog_exp_array_api_Float___init__ _f2)) (egglog_exp_array_api_Boolean___init__ false) :when ((> _f _f2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Float___gt__ (egglog.exp.array_api.Float egglog.exp.array_api.Float) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_Float___gt__ (egglog_exp_array_api_Float___init__ _f) (egglog_exp_array_api_Float___init__ _f2)) (egglog_exp_array_api_Boolean___init__ true) :when ((> _f _f2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Float___gt__ (egglog_exp_array_api_Float___init__ _f) (egglog_exp_array_api_Float___init__ _f2)) (egglog_exp_array_api_Boolean___init__ false) :when ((<= _f _f2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Float___lt__ (egglog.exp.array_api.Float egglog.exp.array_api.Float) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_Float___lt__ (egglog_exp_array_api_Float___init__ _f) (egglog_exp_array_api_Float___init__ _f2)) (egglog_exp_array_api_Boolean___init__ true) :when ((< _f _f2)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Float___eq__ (egglog_exp_array_api_Float_rational _r) (egglog_exp_array_api_Float_rational _r)) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Float___eq__ (egglog_exp_array_api_Float_rational _r) (egglog_exp_array_api_Float_rational _r1)) (egglog_exp_array_api_Boolean___init__ false) :when ((!= _r _r1)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Float___round__ (egglog.exp.array_api.Float egglog.exp.array_api.OptionalInt) egglog.exp.array_api.Float)
(rewrite (egglog_exp_array_api_Float___round__ (egglog_exp_array_api_Float_rational _r) (egglog_exp_array_api_OptionalInt_none )) (egglog_exp_array_api_Float_rational (round _r)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _i)) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(rule ((= _r (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j)))
       (!= _i _j))
      ((union _r (egglog_exp_array_api_Boolean___init__ false)))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rewrite (egglog_exp_array_api_Int___ge__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _i)) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(rule ((= _r (egglog_exp_array_api_Int___ge__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j)))
       (> _i _j))
      ((union _r (egglog_exp_array_api_Boolean___init__ true)))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rule ((= _r (egglog_exp_array_api_Int___ge__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j)))
       (< _i _j))
      ((union _r (egglog_exp_array_api_Boolean___init__ false)))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rewrite (egglog_exp_array_api_Int___lt__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _i)) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rule ((= _r (egglog_exp_array_api_Int___lt__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j)))
       (< _i _j))
      ((union _r (egglog_exp_array_api_Boolean___init__ true)))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rule ((= _r (egglog_exp_array_api_Int___lt__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j)))
       (> _i _j))
      ((union _r (egglog_exp_array_api_Boolean___init__ false)))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(constructor egglog_exp_array_api_Int___gt__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_Int___gt__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _i)) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rule ((= _r (egglog_exp_array_api_Int___gt__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j)))
       (> _i _j))
      ((union _r (egglog_exp_array_api_Boolean___init__ true)))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rule ((= _r (egglog_exp_array_api_Int___gt__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j)))
       (< _i _j))
      ((union _r (egglog_exp_array_api_Boolean___init__ false)))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(function egglog_exp_array_api_Int_to_i64 (egglog.exp.array_api.Int) i64 :no-merge)
(rule ((= _o (egglog_exp_array_api_Int___init__ _j)))
      ((set (egglog_exp_array_api_Int_to_i64 _o) _j))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rule ((= (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j))
       (!= _i _j))
      ((panic "Real ints cannot be equal to different ints"))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rewrite (egglog_exp_array_api_Int___add__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j)) (egglog_exp_array_api_Int___init__ (+ _i _j)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Int___sub__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j)) (egglog_exp_array_api_Int___init__ (- _i _j)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Int___mul__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j)) (egglog_exp_array_api_Int___init__ (* _i _j)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Int___floordiv__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j)) (egglog_exp_array_api_Int___init__ (/ _i _j)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Int___mod__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j)) (egglog_exp_array_api_Int___init__ (% _i _j)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Int___and__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_Int___and__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j)) (egglog_exp_array_api_Int___init__ (& _i _j)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Int___or__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_Int___or__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j)) (egglog_exp_array_api_Int___init__ (| _i _j)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Int___xor__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_Int___xor__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j)) (egglog_exp_array_api_Int___init__ (^ _i _j)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Int___lshift__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_Int___lshift__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j)) (egglog_exp_array_api_Int___init__ (<< _i _j)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Int___rshift__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_Int___rshift__ (egglog_exp_array_api_Int___init__ _i) (egglog_exp_array_api_Int___init__ _j)) (egglog_exp_array_api_Int___init__ (>> _i _j)) :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Int___invert__ (egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_Int___invert__ (egglog_exp_array_api_Int___init__ _i)) (egglog_exp_array_api_Int___init__ (not-i64 _i)) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Int_if_ (egglog_exp_array_api_Boolean___init__ true) _o _b) _o :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Int_if_ (egglog_exp_array_api_Boolean___init__ false) _o _b) _b :subsume :ruleset egglog.exp.array_api.array_api_ruleset)
(constructor egglog_exp_array_api_Int___round__ (egglog.exp.array_api.Int egglog.exp.array_api.OptionalInt) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_Int___round__ _o (egglog_exp_array_api_OptionalInt_none )) _o :ruleset egglog.exp.array_api.array_api_ruleset)
(rule ((= (egglog_exp_array_api_Int_NEVER ) (egglog_exp_array_api_Int___init__ _i)))
      ((panic "Int.NEVER cannot be equal to any real int"))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rule ((= _x (egglog_exp_array_api_Boolean___init__ _b)))
      ((set (egglog_exp_array_api_Boolean_to_bool _x) _b))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rewrite (egglog_exp_array_api_Boolean___or__ (egglog_exp_array_api_Boolean___init__ true) _x) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Boolean___or__ (egglog_exp_array_api_Boolean___init__ false) _x) _x :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Boolean___and__ (egglog_exp_array_api_Boolean___init__ true) _x) _x :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Boolean___and__ (egglog_exp_array_api_Boolean___init__ false) _x) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Boolean___invert__ (egglog_exp_array_api_Boolean___init__ true)) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Boolean___invert__ (egglog_exp_array_api_Boolean___init__ false)) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(rule ((= (egglog_exp_array_api_Boolean___init__ false) (egglog_exp_array_api_Boolean___init__ true)))
      ((panic "False cannot equal True"))
        :ruleset egglog.exp.array_api.array_api_ruleset )
(rewrite (egglog_exp_array_api_Boolean___eq__ _x _x) (egglog_exp_array_api_Boolean___init__ true) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Boolean___eq__ (egglog_exp_array_api_Boolean___init__ false) (egglog_exp_array_api_Boolean___init__ true)) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(rewrite (egglog_exp_array_api_Boolean___eq__ (egglog_exp_array_api_Boolean___init__ true) (egglog_exp_array_api_Boolean___init__ false)) (egglog_exp_array_api_Boolean___init__ false) :ruleset egglog.exp.array_api.array_api_ruleset)
(ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(rewrite (egglog_exp_array_api_TupleInt_from_vec _vs) (egglog_exp_array_api_TupleInt_EMPTY ) :when ((= (vec-length _vs) 0)) :ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(rewrite (egglog_exp_array_api_TupleInt_from_vec _vs) (egglog_exp_array_api_TupleInt_append (egglog_exp_array_api_TupleInt_from_vec (vec-remove _vs (- (vec-length _vs) 1))) (vec-get _vs (- (vec-length _vs) 1))) :when ((!= (vec-length _vs) 0)) :ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(rewrite (egglog_exp_array_api_TupleValue_from_vec _vv) (egglog_exp_array_api_TupleValue_EMPTY ) :when ((= (vec-length _vv) 0)) :ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(rewrite (egglog_exp_array_api_TupleValue_from_vec _vv) (egglog_exp_array_api_TupleValue_append (egglog_exp_array_api_TupleValue_from_vec (vec-remove _vv (- (vec-length _vv) 1))) (vec-get _vv (- (vec-length _vv) 1))) :when ((!= (vec-length _vv) 0)) :ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(rewrite (egglog_exp_array_api_TupleTupleInt_from_vec _vt) (egglog_exp_array_api_TupleTupleInt_EMPTY ) :when ((= (vec-length _vt) 0)) :ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(rewrite (egglog_exp_array_api_TupleTupleInt_from_vec _vt) (egglog_exp_array_api_TupleTupleInt_append (egglog_exp_array_api_TupleTupleInt_from_vec (vec-remove _vt (- (vec-length _vt) 1))) (vec-get _vt (- (vec-length _vt) 1))) :when ((!= (vec-length _vt) 0)) :ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(rewrite (egglog_exp_array_api_TupleNDArray_from_vec _vn) (egglog_exp_array_api_TupleNDArray_EMPTY ) :when ((= (vec-length _vn) 0)) :ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(rewrite (egglog_exp_array_api_TupleNDArray_from_vec _vn) (egglog_exp_array_api_TupleNDArray_append (egglog_exp_array_api_TupleNDArray_from_vec (vec-remove _vn (- (vec-length _vn) 1))) (vec-get _vn (- (vec-length _vn) 1))) :when ((!= (vec-length _vn) 0)) :ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(unstable-combined-ruleset combined_ruleset_4661294288 egglog.exp.array_api.array_api_ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_DType___eq__ __expr_993116813100192115 (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4)))))))) 0)
(let __expr_920244947520213097 (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 0)))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 0))) 0)
(let __expr_9132759908563569406 (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 1)))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 1))) 0)
(let __expr_-5804270610658806483 (egglog_exp_array_api_Int___ge__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 3)))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___ge__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 3))) 0)
(let __expr_-269153269493156694 (egglog_exp_array_api_OptionalDevice_none ))
(let __expr_1670137174758874371 (egglog_exp_array_api_isdtype (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none )) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) __expr_-269153269493156694)) (egglog_exp_array_api_IsDtypeKind___or__ (egglog_exp_array_api_IsDtypeKind_string "real floating") (egglog_exp_array_api_IsDtypeKind___or__ (egglog_exp_array_api_IsDtypeKind_string "complex floating") (egglog_exp_array_api_IsDtypeKind_NULL )))))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_isdtype (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none )) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) __expr_-269153269493156694)) (egglog_exp_array_api_IsDtypeKind___or__ (egglog_exp_array_api_IsDtypeKind_string "real floating") (egglog_exp_array_api_IsDtypeKind___or__ (egglog_exp_array_api_IsDtypeKind_string "complex floating") (egglog_exp_array_api_IsDtypeKind_NULL ))))) 0)
(let __expr_1899099833720493588 (egglog_exp_array_api_OptionalBool_none ))
(let __expr_2801541040786240191 (egglog_exp_array_api_OptionalDType_none ))
(let __expr_4761966874481875761 (egglog_exp_array_api_Value_to_bool (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_isfinite (egglog_exp_array_api_sum (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none )) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) __expr_-269153269493156694) (egglog_exp_array_api_OptionalIntOrTuple_none ))))))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Value_to_bool (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_isfinite (egglog_exp_array_api_sum (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none )) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) __expr_-269153269493156694) (egglog_exp_array_api_OptionalIntOrTuple_none )))))) 0)
(extract (egglog_exp_array_api_Int_to_i64 (egglog_exp_array_api_TupleInt_length (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))))) 0)
(let __expr_5961403128930196549 (egglog_exp_array_api_Int___lt__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Int___init__ 2)))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___lt__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Int___init__ 2))) 0)
(let __expr_-4892645678981606957 (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 2)))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 2))) 0)
(let __expr_-9129329579195699381 (egglog_exp_array_api_Int___lt__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Int___init__ 1)))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___lt__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Int___init__ 1))) 0)
(let __expr_-2005972613882596469 (egglog_exp_array_api_Int___ge__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) (egglog_exp_array_api_Int___init__ 3)))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___ge__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) (egglog_exp_array_api_Int___init__ 3))) 0)
(let __expr_-4442048548415557082 (egglog_exp_array_api_Int___init__ 2))
(let __expr_9221991591431631319 (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) __expr_-4442048548415557082))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) __expr_-4442048548415557082)) 0)
(extract (egglog_exp_array_api_Int_to_i64 (egglog_exp_array_api_TupleInt_length (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)))) 0)
(let __expr_2805130302610021811 (egglog_exp_array_api_isdtype (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) (egglog_exp_array_api_IsDtypeKind___or__ (egglog_exp_array_api_IsDtypeKind_string "real floating") (egglog_exp_array_api_IsDtypeKind___or__ (egglog_exp_array_api_IsDtypeKind_string "complex floating") (egglog_exp_array_api_IsDtypeKind_NULL )))))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_isdtype (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) (egglog_exp_array_api_IsDtypeKind___or__ (egglog_exp_array_api_IsDtypeKind_string "real floating") (egglog_exp_array_api_IsDtypeKind___or__ (egglog_exp_array_api_IsDtypeKind_string "complex floating") (egglog_exp_array_api_IsDtypeKind_NULL ))))) 0)
(extract (egglog_exp_array_api_Int_to_i64 (egglog_exp_array_api_TupleInt_length (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))))) 0)
(extract (egglog_exp_array_api_Int_to_i64 (egglog_exp_array_api_TupleInt_length (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)))) 0)
(let __expr_-2967736120392632095 (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 0)))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract __expr_-2967736120392632095 0)
(let __expr_3301955497800215168 (egglog_exp_array_api_Int___init__ 0))
(let __expr_7868437934872760020 (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) __expr_3301955497800215168))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract __expr_7868437934872760020 0)
(let __expr_807958573914023169 (egglog_exp_array_api_Int___init__ 150))
(let __expr_-5067599451605794429 (egglog_exp_array_api_Int___eq__ __expr_-2967736120392632095 __expr_7868437934872760020))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___eq__ __expr_-2967736120392632095 __expr_7868437934872760020)) 0)
(extract (egglog_exp_array_api_Int_to_i64 (egglog_exp_array_api_TupleInt_length (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))))) 0)
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) __expr_-4442048548415557082)) 0)
(let __expr_-9046784441973757173 (egglog_exp_array_api_Int___init__ 1))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) __expr_-9046784441973757173)) 0)
(extract (egglog_exp_array_api_TupleInt_to_vec (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694))) 0)
(extract (egglog_exp_array_api_Int_to_i64 __expr_807958573914023169) 0)
(let __expr_-5884953263359659468 (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) (egglog_exp_array_api_DType_object )))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_DType___eq__ (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) (egglog_exp_array_api_DType_object ))) 0)
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) __expr_-4442048548415557082)) 0)
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_isdtype (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) (egglog_exp_array_api_IsDtypeKind_string "real floating"))) 0)
(let __expr_138587519663228006 (egglog_exp_array_api_Int___gt__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) __expr_3301955497800215168) (egglog_exp_array_api_Int___init__ 20)))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___gt__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) __expr_3301955497800215168) (egglog_exp_array_api_Int___init__ 20))) 0)
(let __expr_1375885774745485314 (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694))
(let __expr_5613203559710202240 (egglog_exp_array_api_Int___gt__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) __expr_3301955497800215168) (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values __expr_1375885774745485314)) __expr_3301955497800215168)))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___gt__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) __expr_3301955497800215168) (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values __expr_1375885774745485314)) __expr_3301955497800215168))) 0)
(let __expr_614612925838972902 (egglog_exp_array_api_Float___gt__ (egglog_exp_array_api_Float_from_int (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values __expr_1375885774745485314)) __expr_3301955497800215168)) (egglog_exp_array_api_Float___round__ (egglog_exp_array_api_Float___mul__ (egglog_exp_array_api_Float___init__ 0.5) (egglog_exp_array_api_Float_from_int (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) __expr_3301955497800215168))) (egglog_exp_array_api_OptionalInt_none ))))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Float___gt__ (egglog_exp_array_api_Float_from_int (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values __expr_1375885774745485314)) __expr_3301955497800215168)) (egglog_exp_array_api_Float___round__ (egglog_exp_array_api_Float___mul__ (egglog_exp_array_api_Float___init__ 0.5) (egglog_exp_array_api_Float_from_int (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)) __expr_3301955497800215168))) (egglog_exp_array_api_OptionalInt_none )))) 0)
(let __expr_-2597590148753788855 (egglog_exp_array_api_Int___gt__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values __expr_1375885774745485314)) __expr_3301955497800215168) __expr_-4442048548415557082))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___gt__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values __expr_1375885774745485314)) __expr_3301955497800215168) __expr_-4442048548415557082)) 0)
(extract (egglog_exp_array_api_TupleInt_to_vec (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none )))) 0)
(let __expr_1982964864841096657 (egglog_exp_array_api_Int___eq__ __expr_807958573914023169 (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_unique_values __expr_1375885774745485314))) (egglog_exp_array_api_OptionalInt_none )))) __expr_3301955497800215168)))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___eq__ __expr_807958573914023169 (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_unique_values __expr_1375885774745485314))) (egglog_exp_array_api_OptionalInt_none )))) __expr_3301955497800215168))) 0)
(let __expr_7136569817650345442 (egglog_exp_array_api_unique_counts (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_TupleNDArray_to_vec (egglog_exp_array_api_unique_counts (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694))) 0)
(extract (egglog_exp_array_api_Int_to_i64 __expr_7868437934872760020) 0)
(let __expr_8064006778953620830 (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)))
(let __expr_5460899301786535552 (egglog_exp_array_api_Value_to_bool (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_any (egglog_exp_array_api_NDArray___lt__ (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_astype (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_unique_counts (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))) __expr_-9046784441973757173) (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none )))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 150.0)))) (egglog_exp_array_api_NDArray_scalar __expr_8064006778953620830))))))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Value_to_bool (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_any (egglog_exp_array_api_NDArray___lt__ (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_astype (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_unique_counts (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))) __expr_-9046784441973757173) (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none )))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 150.0)))) (egglog_exp_array_api_NDArray_scalar __expr_8064006778953620830)))))) 0)
(let __expr_7901084779130316508 (egglog_exp_array_api_Value_to_bool (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_NDArray___gt__ (ndarray-abs (egglog_exp_array_api_NDArray___sub__ (egglog_exp_array_api_sum (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_astype (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_unique_counts (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))) __expr_-9046784441973757173) (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none )))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 150.0)))) (egglog_exp_array_api_OptionalIntOrTuple_none )) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 1.0))))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 0.00001)))))))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Value_to_bool (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_NDArray___gt__ (ndarray-abs (egglog_exp_array_api_NDArray___sub__ (egglog_exp_array_api_sum (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_astype (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_unique_counts (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))) __expr_-9046784441973757173) (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none )))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 150.0)))) (egglog_exp_array_api_OptionalIntOrTuple_none )) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 1.0))))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 0.00001))))))) 0)
(let __expr_1044165394996767639 (egglog_exp_array_api_Int___lt__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Int___sub__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_unique_values __expr_1375885774745485314))) (egglog_exp_array_api_OptionalInt_none )))) __expr_3301955497800215168) __expr_-9046784441973757173)))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___lt__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Int___sub__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_unique_values __expr_1375885774745485314))) (egglog_exp_array_api_OptionalInt_none )))) __expr_3301955497800215168) __expr_-9046784441973757173))) 0)
(let __expr_9063869159951571250 (egglog_exp_array_api_Int___lt__ (egglog_exp_array_api_Int___sub__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_unique_values __expr_1375885774745485314))) (egglog_exp_array_api_OptionalInt_none )))) __expr_3301955497800215168) __expr_-9046784441973757173) __expr_-4442048548415557082))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___lt__ (egglog_exp_array_api_Int___sub__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_unique_values __expr_1375885774745485314))) (egglog_exp_array_api_OptionalInt_none )))) __expr_3301955497800215168) __expr_-9046784441973757173) __expr_-4442048548415557082)) 0)
(extract (egglog_exp_array_api_TupleInt_to_vec (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none )))) 0)
(let __expr_69623572641048538 (egglog_exp_array_api_unique_inverse (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694)))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_TupleNDArray_to_vec (egglog_exp_array_api_unique_inverse (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694))) 0)
(extract (egglog_exp_array_api_Int_to_i64 (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_NDArray_vector (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))) __expr_3301955497800215168)) 0)
(let __expr_7834320422724163267 (egglog_exp_array_api_NDArray_size (egglog_exp_array_api_unique_values (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_unique_values __expr_1375885774745485314))) (egglog_exp_array_api_OptionalInt_none )))))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Int_to_i64 (egglog_exp_array_api_NDArray_size (egglog_exp_array_api_unique_values (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_unique_values __expr_1375885774745485314))) (egglog_exp_array_api_OptionalInt_none ))))) 0)
(let __expr_289262992024924443 (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))
(let __expr_-5455571502971780212 (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none )))
(let __expr_-2210603693054856568 (egglog_exp_array_api_NDArray_scalar __expr_8064006778953620830))
(let __expr_-8389030436481165834 (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_unique_inverse (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))) __expr_-9046784441973757173))
(let __expr_-2170222333712574477 (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)))
(constructor egglog_exp_array_api_OptionalDType_some (egglog.exp.array_api.DType) egglog.exp.array_api.OptionalDType)
(let __expr_2367572811489083901 (egglog_exp_array_api_OptionalDType_some (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none )))))
(sort egglog.exp.array_api.Device)
(constructor egglog_exp_array_api_OptionalDevice_some (egglog.exp.array_api.Device) egglog.exp.array_api.OptionalDevice)
(constructor egglog_exp_array_api_NDArray_device (egglog.exp.array_api.NDArray) egglog.exp.array_api.Device)
(let __expr_7594988892803404242 (egglog_exp_array_api_OptionalDevice_some (egglog_exp_array_api_NDArray_device __expr_-5455571502971780212)))
(let __expr_4637388741121265736 (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))
(let __expr_5434414555671116226 (egglog_exp_array_api_asarray (egglog_exp_array_api_reshape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ -1))) __expr_1899099833720493588) __expr_2801541040786240191 __expr_1899099833720493588 __expr_-269153269493156694))
(let __expr_-7991489975696377942 (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))))
(let __expr_-3526761472979341918 (egglog_exp_array_api_Boolean___init__ false))
(sort egglog.exp.array_api.IntOrTuple)
(constructor egglog_exp_array_api_OptionalIntOrTuple_some (egglog.exp.array_api.IntOrTuple) egglog.exp.array_api.OptionalIntOrTuple)
(constructor egglog_exp_array_api_IntOrTuple_int (egglog.exp.array_api.Int) egglog.exp.array_api.IntOrTuple)
(let __expr_-5862842935307538276 (egglog_exp_array_api_OptionalIntOrTuple_some (egglog_exp_array_api_IntOrTuple_int __expr_3301955497800215168)))
(sort egglog.exp.array_api.MultiAxisIndexKeyItem)
(sort egglog.exp.array_api.Slice)
(constructor egglog_exp_array_api_MultiAxisIndexKeyItem_slice (egglog.exp.array_api.Slice) egglog.exp.array_api.MultiAxisIndexKeyItem)
(constructor egglog_exp_array_api_Slice___init__ (egglog.exp.array_api.OptionalInt egglog.exp.array_api.OptionalInt egglog.exp.array_api.OptionalInt) egglog.exp.array_api.Slice)
(let __expr_6555808704053428188 (egglog_exp_array_api_MultiAxisIndexKeyItem_slice (egglog_exp_array_api_Slice___init__ (egglog_exp_array_api_OptionalInt_none ) (egglog_exp_array_api_OptionalInt_none ) (egglog_exp_array_api_OptionalInt_none ))))
(sort egglog.exp.array_api.MultiAxisIndexKey)
(constructor egglog_exp_array_api_IndexKey_multi_axis (egglog.exp.array_api.MultiAxisIndexKey) egglog.exp.array_api.IndexKey)
(sort egglog.builtins.Vec[egglog.exp.array_api.MultiAxisIndexKeyItem] (Vec egglog.exp.array_api.MultiAxisIndexKeyItem))
(constructor egglog_exp_array_api_MultiAxisIndexKey_from_vec (egglog.builtins.Vec[egglog.exp.array_api.MultiAxisIndexKeyItem]) egglog.exp.array_api.MultiAxisIndexKey)
(constructor egglog_exp_array_api_MultiAxisIndexKeyItem_int (egglog.exp.array_api.Int) egglog.exp.array_api.MultiAxisIndexKeyItem)
(let __expr_-2314957650302392132 (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of (egglog_exp_array_api_MultiAxisIndexKeyItem_int __expr_3301955497800215168) __expr_6555808704053428188))))
(let __expr_751949020116380200 (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of (egglog_exp_array_api_MultiAxisIndexKeyItem_int __expr_-9046784441973757173) __expr_6555808704053428188))))
(let __expr_1529195896295888371 (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of (egglog_exp_array_api_MultiAxisIndexKeyItem_int __expr_-4442048548415557082) __expr_6555808704053428188))))
(let __expr_-7603770792795027230 (egglog_exp_array_api_unique_values (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_unique_values __expr_1375885774745485314))) (egglog_exp_array_api_OptionalInt_none ))))
(let __expr_-6880934089585247385 (egglog_exp_array_api_Float___init__ 1.0))
(let __expr_-1178596357392243327 (egglog_exp_array_api_OptionalInt_none ))
(constructor egglog_exp_array_api_IndexKey_ndarray (egglog.exp.array_api.NDArray) egglog.exp.array_api.IndexKey)
(constructor egglog_exp_array_api_NDArray___eq__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_NDArray___setitem__ (egglog.exp.array_api.NDArray egglog.exp.array_api.IndexKey egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_zeros (egglog.exp.array_api.TupleInt egglog.exp.array_api.OptionalDType egglog.exp.array_api.OptionalDevice) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_mean (egglog.exp.array_api.NDArray egglog.exp.array_api.OptionalIntOrTuple egglog.exp.array_api.Boolean) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_OptionalInt_some (egglog.exp.array_api.Int) egglog.exp.array_api.OptionalInt)
(let __expr_7462257329077240613 (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_NDArray___sub__ (egglog_exp_array_api_NDArray___getitem__ __expr_-5455571502971780212 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_5434414555671116226 (egglog_exp_array_api_NDArray___getitem__ __expr_-7603770792795027230 (egglog_exp_array_api_IndexKey_int __expr_3301955497800215168))))) (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_zeros (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_NDArray_vector (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))) __expr_3301955497800215168) (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 1)))) __expr_2367572811489083901 __expr_7594988892803404242) __expr_-2314957650302392132 (egglog_exp_array_api_mean (egglog_exp_array_api_NDArray___getitem__ __expr_-5455571502971780212 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-8389030436481165834 __expr_-2210603693054856568))) __expr_-5862842935307538276 __expr_-3526761472979341918)) __expr_751949020116380200 (egglog_exp_array_api_mean (egglog_exp_array_api_NDArray___getitem__ __expr_-5455571502971780212 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-8389030436481165834 (egglog_exp_array_api_NDArray_scalar __expr_-2170222333712574477)))) __expr_-5862842935307538276 __expr_-3526761472979341918)) __expr_1529195896295888371 (egglog_exp_array_api_mean (egglog_exp_array_api_NDArray___getitem__ __expr_-5455571502971780212 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-8389030436481165834 (egglog_exp_array_api_NDArray_scalar __expr_4637388741121265736)))) __expr_-5862842935307538276 __expr_-3526761472979341918)) __expr_-2314957650302392132)) (egglog_exp_array_api_NDArray___sub__ (egglog_exp_array_api_NDArray___getitem__ __expr_-5455571502971780212 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_5434414555671116226 (egglog_exp_array_api_NDArray___getitem__ __expr_-7603770792795027230 (egglog_exp_array_api_IndexKey_int __expr_-9046784441973757173))))) (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_zeros (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_NDArray_vector (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))) __expr_3301955497800215168) (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 1)))) __expr_2367572811489083901 __expr_7594988892803404242) __expr_-2314957650302392132 (egglog_exp_array_api_mean (egglog_exp_array_api_NDArray___getitem__ __expr_-5455571502971780212 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-8389030436481165834 __expr_-2210603693054856568))) __expr_-5862842935307538276 __expr_-3526761472979341918)) __expr_751949020116380200 (egglog_exp_array_api_mean (egglog_exp_array_api_NDArray___getitem__ __expr_-5455571502971780212 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-8389030436481165834 (egglog_exp_array_api_NDArray_scalar __expr_-2170222333712574477)))) __expr_-5862842935307538276 __expr_-3526761472979341918)) __expr_1529195896295888371 (egglog_exp_array_api_mean (egglog_exp_array_api_NDArray___getitem__ __expr_-5455571502971780212 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-8389030436481165834 (egglog_exp_array_api_NDArray_scalar __expr_4637388741121265736)))) __expr_-5862842935307538276 __expr_-3526761472979341918)) __expr_751949020116380200)) (egglog_exp_array_api_NDArray___sub__ (egglog_exp_array_api_NDArray___getitem__ __expr_-5455571502971780212 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_5434414555671116226 (egglog_exp_array_api_NDArray___getitem__ __expr_-7603770792795027230 (egglog_exp_array_api_IndexKey_int __expr_-4442048548415557082))))) (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_zeros (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_NDArray_vector (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))) __expr_3301955497800215168) (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 1)))) __expr_2367572811489083901 __expr_7594988892803404242) __expr_-2314957650302392132 (egglog_exp_array_api_mean (egglog_exp_array_api_NDArray___getitem__ __expr_-5455571502971780212 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-8389030436481165834 __expr_-2210603693054856568))) __expr_-5862842935307538276 __expr_-3526761472979341918)) __expr_751949020116380200 (egglog_exp_array_api_mean (egglog_exp_array_api_NDArray___getitem__ __expr_-5455571502971780212 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-8389030436481165834 (egglog_exp_array_api_NDArray_scalar __expr_-2170222333712574477)))) __expr_-5862842935307538276 __expr_-3526761472979341918)) __expr_1529195896295888371 (egglog_exp_array_api_mean (egglog_exp_array_api_NDArray___getitem__ __expr_-5455571502971780212 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-8389030436481165834 (egglog_exp_array_api_NDArray_scalar __expr_4637388741121265736)))) __expr_-5862842935307538276 __expr_-3526761472979341918)) __expr_1529195896295888371)))) (egglog_exp_array_api_OptionalInt_some __expr_3301955497800215168)))
(constructor egglog_exp_array_api_NDArray___mul__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(constructor ndarray-sqrt (egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_std (egglog.exp.array_api.NDArray egglog.exp.array_api.OptionalIntOrTuple) egglog.exp.array_api.NDArray)
(let __expr_-2934589888774235970 (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_zeros (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_NDArray_vector (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))) __expr_3301955497800215168) (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 1)))) __expr_2367572811489083901 __expr_7594988892803404242) __expr_-2314957650302392132 (egglog_exp_array_api_mean (egglog_exp_array_api_NDArray___getitem__ __expr_-5455571502971780212 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-8389030436481165834 __expr_-2210603693054856568))) __expr_-5862842935307538276 __expr_-3526761472979341918)) __expr_751949020116380200 (egglog_exp_array_api_mean (egglog_exp_array_api_NDArray___getitem__ __expr_-5455571502971780212 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-8389030436481165834 (egglog_exp_array_api_NDArray_scalar __expr_-2170222333712574477)))) __expr_-5862842935307538276 __expr_-3526761472979341918)) __expr_1529195896295888371 (egglog_exp_array_api_mean (egglog_exp_array_api_NDArray___getitem__ __expr_-5455571502971780212 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-8389030436481165834 (egglog_exp_array_api_NDArray_scalar __expr_4637388741121265736)))) __expr_-5862842935307538276 __expr_-3526761472979341918)))
(let __expr_5723819909404942651 (egglog_exp_array_api_std __expr_7462257329077240613 __expr_-5862842935307538276))
(let __expr_2686975077466310536 (egglog_exp_array_api_svd (egglog_exp_array_api_NDArray___mul__ (ndarray-sqrt (egglog_exp_array_api_asarray (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___truediv__ __expr_-6880934089585247385 (egglog_exp_array_api_Float_from_int (egglog_exp_array_api_Int___sub__ __expr_807958573914023169 (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_unique_values __expr_1375885774745485314))) (egglog_exp_array_api_OptionalInt_none )))) __expr_3301955497800215168)))))) __expr_2367572811489083901 __expr_1899099833720493588 __expr_7594988892803404242)) (egglog_exp_array_api_NDArray___truediv__ __expr_7462257329077240613 (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_std __expr_7462257329077240613 __expr_-5862842935307538276) (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ (egglog_exp_array_api_std __expr_7462257329077240613 __expr_-5862842935307538276) __expr_-2210603693054856568)) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 1.0)))))) __expr_-3526761472979341918))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_TupleNDArray_to_vec (egglog_exp_array_api_svd (egglog_exp_array_api_NDArray___mul__ (ndarray-sqrt (egglog_exp_array_api_asarray (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___truediv__ __expr_-6880934089585247385 (egglog_exp_array_api_Float_from_int (egglog_exp_array_api_Int___sub__ __expr_807958573914023169 (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_unique_values __expr_1375885774745485314))) (egglog_exp_array_api_OptionalInt_none )))) __expr_3301955497800215168)))))) __expr_2367572811489083901 __expr_1899099833720493588 __expr_7594988892803404242)) (egglog_exp_array_api_NDArray___truediv__ __expr_7462257329077240613 (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_std __expr_7462257329077240613 __expr_-5862842935307538276) (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ (egglog_exp_array_api_std __expr_7462257329077240613 __expr_-5862842935307538276) __expr_-2210603693054856568)) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 1.0)))))) __expr_-3526761472979341918)) 0)
(let __expr_-3693208264756067156 (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_unique_values __expr_1375885774745485314))) (egglog_exp_array_api_OptionalInt_none )))) __expr_3301955497800215168) __expr_-9046784441973757173))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_unique_values __expr_1375885774745485314))) (egglog_exp_array_api_OptionalInt_none )))) __expr_3301955497800215168) __expr_-9046784441973757173)) 0)
(let __expr_-2061614285630927041 (egglog_exp_array_api_NDArray_scalar __expr_-2170222333712574477))
(let __expr_6526561778083025980 (egglog_exp_array_api_MultiAxisIndexKeyItem_int __expr_-4442048548415557082))
(let __expr_-1842423233915994856 (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))))
(let __expr_-8016802123284208447 (egglog_exp_array_api_MultiAxisIndexKeyItem_int __expr_-9046784441973757173))
(let __expr_-1104860319156951621 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-8389030436481165834 (egglog_exp_array_api_NDArray_scalar __expr_-2170222333712574477))))
(let __expr_7590970493750650809 (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))))
(let __expr_1860339490016957329 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-8389030436481165834 (egglog_exp_array_api_NDArray_scalar __expr_4637388741121265736))))
(let __expr_-6121865960746394490 (from-string "1"))
(let __expr_-8530720491434196618 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-8389030436481165834 __expr_-2210603693054856568)))
(let __expr_-3039679907607812379 (egglog_exp_array_api_OptionalDevice_some (egglog_exp_array_api_NDArray_device __expr_-1842423233915994856)))
(let __expr_-8787565610864991777 (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of (egglog_exp_array_api_MultiAxisIndexKeyItem_int __expr_3301955497800215168) __expr_6555808704053428188))))
(let __expr_-8112691049391039535 (egglog_exp_array_api_OptionalDType_some __expr_993116813100192115))
(let __expr_-858916260979516309 (egglog_exp_array_api_Int___init__ 4))
(let __expr_7658489580027853403 (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_zeros (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 3) __expr_-858916260979516309)) __expr_-8112691049391039535 __expr_-3039679907607812379) __expr_-8787565610864991777 (egglog_exp_array_api_mean (egglog_exp_array_api_NDArray___getitem__ __expr_-1842423233915994856 __expr_-8530720491434196618) __expr_-5862842935307538276 __expr_-3526761472979341918)) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of __expr_-8016802123284208447 __expr_6555808704053428188))) (egglog_exp_array_api_mean (egglog_exp_array_api_NDArray___getitem__ __expr_-1842423233915994856 __expr_-1104860319156951621) __expr_-5862842935307538276 __expr_-3526761472979341918)) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of __expr_6526561778083025980 __expr_6555808704053428188))) (egglog_exp_array_api_mean (egglog_exp_array_api_NDArray___getitem__ __expr_-1842423233915994856 __expr_1860339490016957329) __expr_-5862842935307538276 __expr_-3526761472979341918)))
(let __expr_-1396418759147054157 (egglog_exp_array_api_NDArray_scalar __expr_4637388741121265736))
(let __expr_936238030435939317 (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of __expr_-8016802123284208447 __expr_6555808704053428188))))
(let __expr_9150205589594187012 (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of __expr_6526561778083025980 __expr_6555808704053428188))))
(let __expr_-2592117671919622066 (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_NDArray___sub__ (egglog_exp_array_api_NDArray___getitem__ __expr_-1842423233915994856 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-7991489975696377942 __expr_-2210603693054856568))) (egglog_exp_array_api_NDArray___getitem__ __expr_7658489580027853403 __expr_-8787565610864991777)) (egglog_exp_array_api_NDArray___sub__ (egglog_exp_array_api_NDArray___getitem__ __expr_-1842423233915994856 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-7991489975696377942 __expr_-2061614285630927041))) (egglog_exp_array_api_NDArray___getitem__ __expr_7658489580027853403 __expr_936238030435939317)) (egglog_exp_array_api_NDArray___sub__ (egglog_exp_array_api_NDArray___getitem__ __expr_-1842423233915994856 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-7991489975696377942 __expr_-1396418759147054157))) (egglog_exp_array_api_NDArray___getitem__ __expr_7658489580027853403 __expr_9150205589594187012)))) (egglog_exp_array_api_OptionalInt_some __expr_3301955497800215168)))
(let __expr_1257230228441132308 (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_svd (egglog_exp_array_api_NDArray___mul__ (ndarray-sqrt (egglog_exp_array_api_asarray (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat __expr_-6121865960746394490 (from-string "147"))))) __expr_-8112691049391039535 __expr_1899099833720493588 __expr_-3039679907607812379)) (egglog_exp_array_api_NDArray___truediv__ __expr_-2592117671919622066 (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_std __expr_-2592117671919622066 __expr_-5862842935307538276) (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ (egglog_exp_array_api_std __expr_-2592117671919622066 __expr_-5862842935307538276) __expr_-2210603693054856568)) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat __expr_-6121865960746394490 __expr_-6121865960746394490))))))) __expr_-3526761472979341918) __expr_-9046784441973757173))
(let __expr_4611867230556311199 (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_astype (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_unique_counts (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))) __expr_-9046784441973757173) (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none )))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 150.0)))))
(let __expr_-8716199947312282719 (egglog_exp_array_api_std __expr_-2592117671919622066 __expr_-5862842935307538276))
(let __expr_-1937443701090031369 (egglog_exp_array_api_Slice___init__ __expr_-1178596357392243327 (egglog_exp_array_api_OptionalInt_some (egglog_exp_array_api_Value_to_int (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum (egglog_exp_array_api_astype (egglog_exp_array_api_NDArray___gt__ __expr_1257230228441132308 (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 0.0001)))) (egglog_exp_array_api_DType_int32 )) (egglog_exp_array_api_OptionalIntOrTuple_none ))))) __expr_-1178596357392243327))
(let __expr_-5706093542750586927 (egglog_exp_array_api_OptionalInt_some __expr_3301955497800215168))
(let __expr_-7410632714686003302 (egglog_exp_array_api_svd (egglog_exp_array_api_NDArray___mul__ (ndarray-sqrt (egglog_exp_array_api_asarray (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat __expr_-6121865960746394490 (from-string "147"))))) __expr_-8112691049391039535 __expr_1899099833720493588 __expr_-3039679907607812379)) (egglog_exp_array_api_NDArray___truediv__ __expr_-2592117671919622066 (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_std __expr_-2592117671919622066 __expr_-5862842935307538276) (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ (egglog_exp_array_api_std __expr_-2592117671919622066 __expr_-5862842935307538276) __expr_-2210603693054856568)) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat __expr_-6121865960746394490 __expr_-6121865960746394490))))))) __expr_-3526761472979341918))
(constructor egglog_exp_array_api_NDArray___matmul__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_IndexKey_slice (egglog.exp.array_api.Slice) egglog.exp.array_api.IndexKey)
(let __expr_-8368157996750865544 (egglog_exp_array_api_svd (egglog_exp_array_api_NDArray___matmul__ (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray___mul__ (ndarray-sqrt (egglog_exp_array_api_NDArray___mul__ (egglog_exp_array_api_NDArray___mul__ (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int __expr_807958573914023169)) __expr_4611867230556311199) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___truediv__ __expr_-6880934089585247385 (egglog_exp_array_api_Float_from_int (egglog_exp_array_api_Int___sub__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_unique_values __expr_1375885774745485314))) (egglog_exp_array_api_OptionalInt_none )))) __expr_3301955497800215168) __expr_-9046784441973757173))))))) (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray___sub__ __expr_-2934589888774235970 (egglog_exp_array_api_NDArray___matmul__ __expr_4611867230556311199 __expr_-2934589888774235970))))) (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_TupleNDArray___getitem__ __expr_-7410632714686003302 __expr_-4442048548415557082) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of (egglog_exp_array_api_MultiAxisIndexKeyItem_slice __expr_-1937443701090031369) __expr_6555808704053428188)))) (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_std __expr_7462257329077240613 __expr_-5862842935307538276) (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ (egglog_exp_array_api_std __expr_7462257329077240613 __expr_-5862842935307538276) __expr_-2210603693054856568)) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 1.0)))))) (egglog_exp_array_api_NDArray___getitem__ __expr_1257230228441132308 (egglog_exp_array_api_IndexKey_slice __expr_-1937443701090031369)))) __expr_-3526761472979341918))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_TupleNDArray_to_vec (egglog_exp_array_api_svd (egglog_exp_array_api_NDArray___matmul__ (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray___mul__ (ndarray-sqrt (egglog_exp_array_api_NDArray___mul__ (egglog_exp_array_api_NDArray___mul__ (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int __expr_807958573914023169)) __expr_4611867230556311199) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___truediv__ __expr_-6880934089585247385 (egglog_exp_array_api_Float_from_int (egglog_exp_array_api_Int___sub__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_unique_values __expr_1375885774745485314))) (egglog_exp_array_api_OptionalInt_none )))) __expr_3301955497800215168) __expr_-9046784441973757173))))))) (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray___sub__ __expr_-2934589888774235970 (egglog_exp_array_api_NDArray___matmul__ __expr_4611867230556311199 __expr_-2934589888774235970))))) (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_TupleNDArray___getitem__ __expr_-7410632714686003302 __expr_-4442048548415557082) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of (egglog_exp_array_api_MultiAxisIndexKeyItem_slice __expr_-1937443701090031369) __expr_6555808704053428188)))) (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_std __expr_7462257329077240613 __expr_-5862842935307538276) (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ (egglog_exp_array_api_std __expr_7462257329077240613 __expr_-5862842935307538276) __expr_-2210603693054856568)) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 1.0)))))) (egglog_exp_array_api_NDArray___getitem__ __expr_1257230228441132308 (egglog_exp_array_api_IndexKey_slice __expr_-1937443701090031369)))) __expr_-3526761472979341918)) 0)
(extract (egglog_exp_array_api_TupleInt_to_vec (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_unique_values (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_unique_values __expr_1375885774745485314))) (egglog_exp_array_api_OptionalInt_none ))))) 0)
(let __expr_2806505300544519670 (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_Int___mul__ __expr_-9046784441973757173 (egglog_exp_array_api_Int___init__ 3)) __expr_-4442048548415557082))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_Int___mul__ __expr_-9046784441973757173 (egglog_exp_array_api_Int___init__ 3)) __expr_-4442048548415557082)) 0)
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 0))) 0)
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 1))) 0)
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___ge__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 3))) 0)
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_isdtype (egglog_exp_array_api_NDArray_dtype (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none )) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) __expr_-269153269493156694)) (egglog_exp_array_api_IsDtypeKind___or__ (egglog_exp_array_api_IsDtypeKind_string "real floating") (egglog_exp_array_api_IsDtypeKind___or__ (egglog_exp_array_api_IsDtypeKind_string "complex floating") (egglog_exp_array_api_IsDtypeKind_NULL ))))) 0)
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Value_to_bool (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_isfinite (egglog_exp_array_api_sum (egglog_exp_array_api_asarray (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none )) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) __expr_-269153269493156694) (egglog_exp_array_api_OptionalIntOrTuple_none )))))) 0)
(extract (egglog_exp_array_api_Int_to_i64 (egglog_exp_array_api_TupleInt_length (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))))) 0)
(let __expr_-8042879206428139415 (egglog_exp_array_api_Int___lt__ __expr_-2967736120392632095 __expr_-9046784441973757173))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___lt__ __expr_-2967736120392632095 __expr_-9046784441973757173)) 0)
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_NDArray_ndim (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 2))) 0)
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___lt__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Int___init__ 1))) 0)
(extract (egglog_exp_array_api_Int_to_i64 (egglog_exp_array_api_TupleInt_length (egglog_exp_array_api_NDArray_shape __expr_-1842423233915994856))) 0)
(let __expr_5885094640055766033 (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape __expr_-1842423233915994856) __expr_-9046784441973757173) (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 1))))
(run-schedule (saturate (run combined_ruleset_4661294288)))
(extract (egglog_exp_array_api_Boolean_to_bool (egglog_exp_array_api_Int___eq__ (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape __expr_-1842423233915994856) __expr_-9046784441973757173) (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape (egglog_exp_array_api_asarray (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") __expr_993116813100192115) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_OptionalDType_none ) (egglog_exp_array_api_OptionalBool_none ) (egglog_exp_array_api_OptionalDevice_none ))) (egglog_exp_array_api_Int___init__ 1)))) 0)
(let __expr_-3639492905634479068 (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 0.0001))))
(let __expr_4084238609633109537 (egglog_exp_array_api_IndexKey_int __expr_3301955497800215168))
(let __expr_5043401945626971730 (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_std __expr_-2592117671919622066 __expr_-5862842935307538276) (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ (egglog_exp_array_api_std __expr_-2592117671919622066 __expr_-5862842935307538276) __expr_-2210603693054856568)) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat __expr_-6121865960746394490 __expr_-6121865960746394490))))))
(let __expr_5087386155746027791 (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_svd (egglog_exp_array_api_NDArray___matmul__ (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray___mul__ (ndarray-sqrt (egglog_exp_array_api_NDArray___mul__ (egglog_exp_array_api_NDArray___mul__ (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int __expr_807958573914023169)) (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_astype (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_unique_counts (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))) __expr_-9046784441973757173) __expr_993116813100192115) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat (from-string "150") __expr_-6121865960746394490)))))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat __expr_-6121865960746394490 (from-string "2"))))))) (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray___sub__ __expr_7658489580027853403 (egglog_exp_array_api_NDArray___matmul__ (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_astype (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_unique_counts (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))) __expr_-9046784441973757173) __expr_993116813100192115) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat (from-string "150") __expr_-6121865960746394490))))) __expr_7658489580027853403))))) (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_TupleNDArray___getitem__ __expr_-7410632714686003302 __expr_-4442048548415557082) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of (egglog_exp_array_api_MultiAxisIndexKeyItem_slice __expr_-1937443701090031369) __expr_6555808704053428188)))) __expr_5043401945626971730)) (egglog_exp_array_api_NDArray___getitem__ __expr_1257230228441132308 (egglog_exp_array_api_IndexKey_slice __expr_-1937443701090031369)))) __expr_-3526761472979341918) __expr_-9046784441973757173))
(let __expr_-9208792289256466618 (egglog_exp_array_api_MultiAxisIndexKeyItem_int __expr_3301955497800215168))
(let __expr_440172319362169402 (egglog_exp_array_api_svd (egglog_exp_array_api_NDArray___matmul__ (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray___mul__ (ndarray-sqrt (egglog_exp_array_api_NDArray___mul__ (egglog_exp_array_api_NDArray___mul__ (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int __expr_807958573914023169)) (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_astype (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_unique_counts (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))) __expr_-9046784441973757173) __expr_993116813100192115) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat (from-string "150") __expr_-6121865960746394490)))))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat __expr_-6121865960746394490 (from-string "2"))))))) (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray___sub__ __expr_7658489580027853403 (egglog_exp_array_api_NDArray___matmul__ (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_astype (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_unique_counts (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))) __expr_-9046784441973757173) __expr_993116813100192115) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat (from-string "150") __expr_-6121865960746394490))))) __expr_7658489580027853403))))) (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_TupleNDArray___getitem__ __expr_-7410632714686003302 __expr_-4442048548415557082) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of (egglog_exp_array_api_MultiAxisIndexKeyItem_slice __expr_-1937443701090031369) __expr_6555808704053428188)))) __expr_5043401945626971730)) (egglog_exp_array_api_NDArray___getitem__ __expr_1257230228441132308 (egglog_exp_array_api_IndexKey_slice __expr_-1937443701090031369)))) __expr_-3526761472979341918))
(let __expr_20821168885840412 (egglog_exp_array_api_MultiAxisIndexKeyItem_slice __expr_-1937443701090031369))
(let __expr_-3103384708472069536 (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_unique_counts (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 0)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))) __expr_-9046784441973757173))
(let __expr_1012699080857176631 (egglog_exp_array_api_DType_int32 ))
(let __expr_1109717945322644389 (egglog_exp_array_api_TupleNDArray___getitem__ __expr_-7410632714686003302 __expr_-4442048548415557082))
(let __expr_1531876945647119868 (egglog_exp_array_api_NDArray___getitem__ __expr_1257230228441132308 (egglog_exp_array_api_IndexKey_slice __expr_-1937443701090031369)))
(let __expr_677975395031883534 (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_NDArray___matmul__ (egglog_exp_array_api_NDArray___sub__ __expr_-5455571502971780212 (egglog_exp_array_api_NDArray___matmul__ __expr_4611867230556311199 __expr_-2934589888774235970)) (egglog_exp_array_api_NDArray___matmul__ (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_TupleNDArray___getitem__ __expr_-7410632714686003302 __expr_-4442048548415557082) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of (egglog_exp_array_api_MultiAxisIndexKeyItem_slice __expr_-1937443701090031369) __expr_6555808704053428188)))) (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_std __expr_7462257329077240613 __expr_-5862842935307538276) (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ (egglog_exp_array_api_std __expr_7462257329077240613 __expr_-5862842935307538276) __expr_-2210603693054856568)) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 1.0)))))) (egglog_exp_array_api_NDArray___getitem__ __expr_1257230228441132308 (egglog_exp_array_api_IndexKey_slice __expr_-1937443701090031369))) (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_TupleNDArray___getitem__ __expr_440172319362169402 __expr_-4442048548415557082)) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of __expr_6555808704053428188 (egglog_exp_array_api_MultiAxisIndexKeyItem_slice (egglog_exp_array_api_Slice___init__ __expr_-1178596357392243327 (egglog_exp_array_api_OptionalInt_some (egglog_exp_array_api_Value_to_int (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum (egglog_exp_array_api_astype (egglog_exp_array_api_NDArray___gt__ __expr_5087386155746027791 (egglog_exp_array_api_NDArray___mul__ __expr_-3639492905634479068 (egglog_exp_array_api_NDArray___getitem__ __expr_5087386155746027791 __expr_4084238609633109537))) __expr_1012699080857176631) (egglog_exp_array_api_OptionalIntOrTuple_none ))))) __expr_-1178596357392243327)))))))) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of __expr_6555808704053428188 (egglog_exp_array_api_MultiAxisIndexKeyItem_slice (egglog_exp_array_api_Slice___init__ __expr_-1178596357392243327 (egglog_exp_array_api_OptionalInt_some __expr_-4442048548415557082) __expr_-1178596357392243327)))))))
(ruleset ruleset_4661679232)
(rewrite (egglog_exp_array_api_NDArray___eq__ (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_unique_inverse _x) __expr_-9046784441973757173) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int _i))) (egglog_exp_array_api_NDArray___eq__ _x (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_NDArray_index (egglog_exp_array_api_unique_values _x) (egglog_exp_array_api_TupleInt_from_vec (vec-of _i))))) :subsume :ruleset ruleset_4661679232)
(constructor _x-egglog_exp_array_api_NDArray__values-egglog_exp_array_api_TupleValue__i-egglog_exp_array_api_Int__egglog_exp_array_api_NDArray_to_value__egglog_exp_array_api_sum__egglog_exp_array_api_NDArray___eq____x__egglog_exp_array_api_NDArray_scalar__egglog_exp_array_api_TupleValue___getitem____values__i_____egglog_exp_array_api_OptionalIntOrTuple_none____ (egglog.exp.array_api.NDArray egglog.exp.array_api.TupleValue egglog.exp.array_api.Int) egglog.exp.array_api.Value)
(rewrite (_x-egglog_exp_array_api_NDArray__values-egglog_exp_array_api_TupleValue__i-egglog_exp_array_api_Int__egglog_exp_array_api_NDArray_to_value__egglog_exp_array_api_sum__egglog_exp_array_api_NDArray___eq____x__egglog_exp_array_api_NDArray_scalar__egglog_exp_array_api_TupleValue___getitem____values__i_____egglog_exp_array_api_OptionalIntOrTuple_none____ _x _values _i) (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum (egglog_exp_array_api_NDArray___eq__ _x (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_TupleValue___getitem__ _values _i))) (egglog_exp_array_api_OptionalIntOrTuple_none ))) :subsume :ruleset ruleset_4661679232)
(constructor egglog_exp_array_api_numba_count_values (egglog.exp.array_api.NDArray egglog.exp.array_api.TupleValue) egglog.exp.array_api.TupleValue)
(rewrite (egglog_exp_array_api_numba_count_values _x _values) (egglog_exp_array_api_TupleValue___init__ (egglog_exp_array_api_TupleValue_length _values) (unstable-fn "_x-egglog_exp_array_api_NDArray__values-egglog_exp_array_api_TupleValue__i-egglog_exp_array_api_Int__egglog_exp_array_api_NDArray_to_value__egglog_exp_array_api_sum__egglog_exp_array_api_NDArray___eq____x__egglog_exp_array_api_NDArray_scalar__egglog_exp_array_api_TupleValue___getitem____values__i_____egglog_exp_array_api_OptionalIntOrTuple_none____" _x _values)) :subsume :ruleset ruleset_4661679232)
(rewrite (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_unique_counts _x) (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_NDArray_vector (egglog_exp_array_api_numba_count_values _x (egglog_exp_array_api_NDArray_to_values (egglog_exp_array_api_unique_values _x)))) :subsume :ruleset ruleset_4661679232)
(constructor egglog_exp_array_api_square (egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_std _x (egglog_exp_array_api_OptionalIntOrTuple_some (egglog_exp_array_api_IntOrTuple_int _i))) (ndarray-sqrt (egglog_exp_array_api_mean (egglog_exp_array_api_square (egglog_exp_array_api_NDArray___sub__ _x (egglog_exp_array_api_mean _x (egglog_exp_array_api_OptionalIntOrTuple_some (egglog_exp_array_api_IntOrTuple_int _i)) (egglog_exp_array_api_Boolean___init__ true)))) (egglog_exp_array_api_OptionalIntOrTuple_some (egglog_exp_array_api_IntOrTuple_int _i)) __expr_-3526761472979341918)) :subsume :ruleset ruleset_4661679232)
(rewrite (egglog_exp_array_api_mean _x (egglog_exp_array_api_OptionalIntOrTuple_some (egglog_exp_array_api_IntOrTuple_int _i)) __expr_-3526761472979341918) (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_sum _x (egglog_exp_array_api_OptionalIntOrTuple_some (egglog_exp_array_api_IntOrTuple_int _i))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape _x) _i)))) :subsume :ruleset ruleset_4661679232)
(constructor egglog_exp_array_api_expand_dims (egglog.exp.array_api.NDArray egglog.exp.array_api.Int) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_mean _x (egglog_exp_array_api_OptionalIntOrTuple_some (egglog_exp_array_api_IntOrTuple_int _i)) (egglog_exp_array_api_Boolean___init__ true)) (egglog_exp_array_api_expand_dims (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_sum _x (egglog_exp_array_api_OptionalIntOrTuple_some (egglog_exp_array_api_IntOrTuple_int _i))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape _x) _i)))) _i) :subsume :ruleset ruleset_4661679232)
(unstable-combined-ruleset combined_ruleset_4661360784 combined_ruleset_4661294288 ruleset_4661679232)
(run-schedule (saturate (run combined_ruleset_4661360784)))
(extract __expr_677975395031883534 0)
