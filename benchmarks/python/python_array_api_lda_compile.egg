;; Compiling an LDA expression to a string
;; uses merge functions and lots of rule with checks
(let __expr_-6121865960746394490 (from-string "1"))
(sort egglog.exp.array_api.Int)
(constructor egglog_exp_array_api_Int___init__ (i64) egglog.exp.array_api.Int)
(let __expr_3301955497800215168 (egglog_exp_array_api_Int___init__ 0))
(sort egglog.exp.array_api.IndexKey)
(sort egglog.exp.array_api.MultiAxisIndexKey)
(constructor egglog_exp_array_api_IndexKey_multi_axis (egglog.exp.array_api.MultiAxisIndexKey) egglog.exp.array_api.IndexKey)
(sort egglog.exp.array_api.MultiAxisIndexKeyItem)
(sort egglog.builtins.Vec[egglog.exp.array_api.MultiAxisIndexKeyItem] (Vec egglog.exp.array_api.MultiAxisIndexKeyItem))
(constructor egglog_exp_array_api_MultiAxisIndexKey_from_vec (egglog.builtins.Vec[egglog.exp.array_api.MultiAxisIndexKeyItem]) egglog.exp.array_api.MultiAxisIndexKey)
(constructor egglog_exp_array_api_MultiAxisIndexKeyItem_int (egglog.exp.array_api.Int) egglog.exp.array_api.MultiAxisIndexKeyItem)
(sort egglog.exp.array_api.Slice)
(constructor egglog_exp_array_api_MultiAxisIndexKeyItem_slice (egglog.exp.array_api.Slice) egglog.exp.array_api.MultiAxisIndexKeyItem)
(sort egglog.exp.array_api.OptionalInt)
(constructor egglog_exp_array_api_Slice___init__ (egglog.exp.array_api.OptionalInt egglog.exp.array_api.OptionalInt egglog.exp.array_api.OptionalInt) egglog.exp.array_api.Slice)
(constructor egglog_exp_array_api_OptionalInt_none () egglog.exp.array_api.OptionalInt)
(let __expr_-8787565610864991777 (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of (egglog_exp_array_api_MultiAxisIndexKeyItem_int __expr_3301955497800215168) (egglog_exp_array_api_MultiAxisIndexKeyItem_slice (egglog_exp_array_api_Slice___init__ (egglog_exp_array_api_OptionalInt_none ) (egglog_exp_array_api_OptionalInt_none ) (egglog_exp_array_api_OptionalInt_none )))))))
(sort egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_NDArray___getitem__ (egglog.exp.array_api.NDArray egglog.exp.array_api.IndexKey) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_assume_isfinite (egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(sort egglog.exp.array_api.TupleInt)
(constructor egglog_exp_array_api_assume_shape (egglog.exp.array_api.NDArray egglog.exp.array_api.TupleInt) egglog.exp.array_api.NDArray)
(sort egglog.exp.array_api.DType)
(constructor egglog_exp_array_api_assume_dtype (egglog.exp.array_api.NDArray egglog.exp.array_api.DType) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_NDArray_var (String) egglog.exp.array_api.NDArray :cost 200)
(constructor egglog_exp_array_api_DType_float64 () egglog.exp.array_api.DType)
(sort egglog.builtins.Vec[egglog.exp.array_api.Int] (Vec egglog.exp.array_api.Int))
(constructor egglog_exp_array_api_TupleInt_from_vec (egglog.builtins.Vec[egglog.exp.array_api.Int]) egglog.exp.array_api.TupleInt)
(constructor egglog_exp_array_api_IndexKey_ndarray (egglog.exp.array_api.NDArray) egglog.exp.array_api.IndexKey)
(constructor egglog_exp_array_api_NDArray___eq__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(sort egglog.exp.array_api.TupleValue)
(constructor egglog_exp_array_api_assume_value_one_of (egglog.exp.array_api.NDArray egglog.exp.array_api.TupleValue) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_DType_int64 () egglog.exp.array_api.DType)
(sort egglog.exp.array_api.Value)
(sort egglog.builtins.Vec[egglog.exp.array_api.Value] (Vec egglog.exp.array_api.Value))
(constructor egglog_exp_array_api_TupleValue_from_vec (egglog.builtins.Vec[egglog.exp.array_api.Value]) egglog.exp.array_api.TupleValue)
(constructor egglog_exp_array_api_Value_int (egglog.exp.array_api.Int) egglog.exp.array_api.Value)
(constructor egglog_exp_array_api_NDArray_scalar (egglog.exp.array_api.Value) egglog.exp.array_api.NDArray)
(let __expr_8698122950651917826 (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") (egglog_exp_array_api_DType_float64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int __expr_3301955497800215168) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int __expr_3301955497800215168))))))
(let __expr_-4442048548415557082 (egglog_exp_array_api_Int___init__ 2))
(let __expr_-3454484231073108384 (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") (egglog_exp_array_api_DType_float64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int __expr_3301955497800215168) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))))
(let __expr_-3076928778958282549 (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") (egglog_exp_array_api_DType_float64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))) (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int __expr_3301955497800215168) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)))))))
(let __expr_-1842423233915994856 (egglog_exp_array_api_assume_isfinite (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "X") (egglog_exp_array_api_DType_float64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150) (egglog_exp_array_api_Int___init__ 4))))))
(let __expr_-2170222333712574477 (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)))
(let __expr_-858916260979516309 (egglog_exp_array_api_Int___init__ 4))
(let __expr_6555808704053428188 (egglog_exp_array_api_MultiAxisIndexKeyItem_slice (egglog_exp_array_api_Slice___init__ (egglog_exp_array_api_OptionalInt_none ) (egglog_exp_array_api_OptionalInt_none ) (egglog_exp_array_api_OptionalInt_none ))))
(let __expr_8064006778953620830 (egglog_exp_array_api_Value_int __expr_3301955497800215168))
(let __expr_4637388741121265736 (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))
(let __expr_-7991489975696377942 (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int __expr_3301955497800215168) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))))
(let __expr_-9046784441973757173 (egglog_exp_array_api_Int___init__ 1))
(sort egglog.exp.array_api.OptionalIntOrTuple)
(sort egglog.exp.array_api.IntOrTuple)
(constructor egglog_exp_array_api_OptionalIntOrTuple_some (egglog.exp.array_api.IntOrTuple) egglog.exp.array_api.OptionalIntOrTuple)
(constructor egglog_exp_array_api_IntOrTuple_int (egglog.exp.array_api.Int) egglog.exp.array_api.IntOrTuple)
(let __expr_-5862842935307538276 (egglog_exp_array_api_OptionalIntOrTuple_some (egglog_exp_array_api_IntOrTuple_int __expr_3301955497800215168)))
(constructor egglog_exp_array_api_NDArray___setitem__ (egglog.exp.array_api.NDArray egglog.exp.array_api.IndexKey egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(sort egglog.exp.array_api.OptionalDType)
(sort egglog.exp.array_api.OptionalDevice)
(constructor egglog_exp_array_api_zeros (egglog.exp.array_api.TupleInt egglog.exp.array_api.OptionalDType egglog.exp.array_api.OptionalDevice) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_OptionalDType_some (egglog.exp.array_api.DType) egglog.exp.array_api.OptionalDType)
(sort egglog.exp.array_api.Device)
(constructor egglog_exp_array_api_OptionalDevice_some (egglog.exp.array_api.Device) egglog.exp.array_api.OptionalDevice)
(constructor egglog_exp_array_api_NDArray_device (egglog.exp.array_api.NDArray) egglog.exp.array_api.Device)
(constructor egglog_exp_array_api_NDArray___truediv__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_sum (egglog.exp.array_api.NDArray egglog.exp.array_api.OptionalIntOrTuple) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_TupleInt___getitem__ (egglog.exp.array_api.TupleInt egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(constructor egglog_exp_array_api_NDArray_shape (egglog.exp.array_api.NDArray) egglog.exp.array_api.TupleInt)
(let __expr_1572500295854043867 (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_NDArray___setitem__ (egglog_exp_array_api_zeros (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 3) __expr_-858916260979516309)) (egglog_exp_array_api_OptionalDType_some (egglog_exp_array_api_DType_float64 )) (egglog_exp_array_api_OptionalDevice_some (egglog_exp_array_api_NDArray_device __expr_-1842423233915994856))) __expr_-8787565610864991777 (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_sum __expr_8698122950651917826 __expr_-5862842935307538276) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape __expr_8698122950651917826) __expr_3301955497800215168))))) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of (egglog_exp_array_api_MultiAxisIndexKeyItem_int __expr_-9046784441973757173) __expr_6555808704053428188))) (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_sum __expr_-3076928778958282549 __expr_-5862842935307538276) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape __expr_-3076928778958282549) __expr_3301955497800215168))))) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of (egglog_exp_array_api_MultiAxisIndexKeyItem_int __expr_-4442048548415557082) __expr_6555808704053428188))) (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_sum __expr_-3454484231073108384 __expr_-5862842935307538276) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape __expr_-3454484231073108384) __expr_3301955497800215168))))))
(let __expr_936238030435939317 (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of (egglog_exp_array_api_MultiAxisIndexKeyItem_int __expr_-9046784441973757173) __expr_6555808704053428188))))
(sort egglog.exp.array_api.TupleNDArray)
(constructor egglog_exp_array_api_concat (egglog.exp.array_api.TupleNDArray egglog.exp.array_api.OptionalInt) egglog.exp.array_api.NDArray)
(sort egglog.builtins.Vec[egglog.exp.array_api.NDArray] (Vec egglog.exp.array_api.NDArray))
(constructor egglog_exp_array_api_TupleNDArray_from_vec (egglog.builtins.Vec[egglog.exp.array_api.NDArray]) egglog.exp.array_api.TupleNDArray)
(constructor egglog_exp_array_api_NDArray___sub__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_OptionalInt_some (egglog.exp.array_api.Int) egglog.exp.array_api.OptionalInt)
(let __expr_-7789811471519180086 (egglog_exp_array_api_concat (egglog_exp_array_api_TupleNDArray_from_vec (vec-of (egglog_exp_array_api_NDArray___sub__ __expr_8698122950651917826 (egglog_exp_array_api_NDArray___getitem__ __expr_1572500295854043867 __expr_-8787565610864991777)) (egglog_exp_array_api_NDArray___sub__ __expr_-3076928778958282549 (egglog_exp_array_api_NDArray___getitem__ __expr_1572500295854043867 __expr_936238030435939317)) (egglog_exp_array_api_NDArray___sub__ __expr_-3454484231073108384 (egglog_exp_array_api_NDArray___getitem__ __expr_1572500295854043867 (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of (egglog_exp_array_api_MultiAxisIndexKeyItem_int __expr_-4442048548415557082) __expr_6555808704053428188))))))) (egglog_exp_array_api_OptionalInt_some __expr_3301955497800215168)))
(sort egglog.exp.array_api.Float)
(constructor egglog_exp_array_api_Value_float (egglog.exp.array_api.Float) egglog.exp.array_api.Value)
(constructor egglog_exp_array_api_Float___init__ (f64) egglog.exp.array_api.Float :cost 3)
(let __expr_-3639492905634479068 (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float___init__ 0.0001))))
(constructor egglog_exp_array_api_OptionalIntOrTuple_none () egglog.exp.array_api.OptionalIntOrTuple)
(let __expr_6625544669590532450 (egglog_exp_array_api_OptionalIntOrTuple_none ))
(let __expr_-2131827292296913339 (egglog_exp_array_api_NDArray___eq__ (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int __expr_3301955497800215168) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)))))
(let __expr_807958573914023169 (egglog_exp_array_api_Int___init__ 150))
(let __expr_3513650542591045334 (egglog_exp_array_api_NDArray___eq__ (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int __expr_3301955497800215168) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int __expr_3301955497800215168))))
(let __expr_-2207875430095963524 (egglog_exp_array_api_NDArray___eq__ (egglog_exp_array_api_assume_value_one_of (egglog_exp_array_api_assume_shape (egglog_exp_array_api_assume_dtype (egglog_exp_array_api_NDArray_var "y") (egglog_exp_array_api_DType_int64 )) (egglog_exp_array_api_TupleInt_from_vec (vec-of (egglog_exp_array_api_Int___init__ 150)))) (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_Value_int __expr_3301955497800215168) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 1)) (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2))))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int (egglog_exp_array_api_Int___init__ 2)))))
(let __expr_993116813100192115 (egglog_exp_array_api_DType_float64 ))
(constructor egglog_exp_array_api_square (egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_expand_dims (egglog.exp.array_api.NDArray egglog.exp.array_api.Int) egglog.exp.array_api.NDArray)
(let __expr_8225027232021747978 (egglog_exp_array_api_square (egglog_exp_array_api_NDArray___sub__ __expr_-7789811471519180086 (egglog_exp_array_api_expand_dims (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_sum __expr_-7789811471519180086 __expr_-5862842935307538276) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape __expr_-7789811471519180086) __expr_3301955497800215168)))) __expr_3301955497800215168))))
(let __expr_9150205589594187012 (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of (egglog_exp_array_api_MultiAxisIndexKeyItem_int __expr_-4442048548415557082) __expr_6555808704053428188))))
(let __expr_-2210603693054856568 (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int __expr_3301955497800215168)))
(let __expr_-3039679907607812379 (egglog_exp_array_api_OptionalDevice_some (egglog_exp_array_api_NDArray_device __expr_-1842423233915994856)))
(let __expr_-8112691049391039535 (egglog_exp_array_api_OptionalDType_some (egglog_exp_array_api_DType_float64 )))
(constructor ndarray-sqrt (egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(let __expr_-7016264657484668928 (ndarray-sqrt (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_sum __expr_8225027232021747978 __expr_-5862842935307538276) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int (egglog_exp_array_api_TupleInt___getitem__ (egglog_exp_array_api_NDArray_shape __expr_8225027232021747978) __expr_3301955497800215168))))))
(constructor egglog_exp_array_api_TupleNDArray___getitem__ (egglog.exp.array_api.TupleNDArray egglog.exp.array_api.Int) egglog.exp.array_api.NDArray)
(sort egglog.exp.array_api.Boolean)
(constructor egglog_exp_array_api_svd (egglog.exp.array_api.NDArray egglog.exp.array_api.Boolean) egglog.exp.array_api.TupleNDArray)
(constructor egglog_exp_array_api_NDArray___mul__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(sort egglog.exp.array_api.OptionalBool)
(constructor egglog_exp_array_api_asarray (egglog.exp.array_api.NDArray egglog.exp.array_api.OptionalDType egglog.exp.array_api.OptionalBool egglog.exp.array_api.OptionalDevice) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_Float_rational (BigRat) egglog.exp.array_api.Float :cost 2)
(constructor egglog_exp_array_api_OptionalBool_none () egglog.exp.array_api.OptionalBool)
(constructor egglog_exp_array_api_Boolean___init__ (bool) egglog.exp.array_api.Boolean)
(let __expr_-4276795522901167165 (egglog_exp_array_api_TupleNDArray___getitem__ (egglog_exp_array_api_svd (egglog_exp_array_api_NDArray___mul__ (ndarray-sqrt (egglog_exp_array_api_asarray (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat __expr_-6121865960746394490 (from-string "147"))))) __expr_-8112691049391039535 (egglog_exp_array_api_OptionalBool_none ) __expr_-3039679907607812379)) (egglog_exp_array_api_NDArray___truediv__ __expr_-7789811471519180086 (egglog_exp_array_api_NDArray___setitem__ __expr_-7016264657484668928 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-7016264657484668928 __expr_-2210603693054856568)) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat __expr_-6121865960746394490 __expr_-6121865960746394490))))))) (egglog_exp_array_api_Boolean___init__ false)) __expr_-9046784441973757173))
(let __expr_-1178596357392243327 (egglog_exp_array_api_OptionalInt_none ))
(constructor egglog_exp_array_api_Value_to_int (egglog.exp.array_api.Value) egglog.exp.array_api.Int)
(constructor egglog_exp_array_api_NDArray_to_value (egglog.exp.array_api.NDArray) egglog.exp.array_api.Value)
(constructor egglog_exp_array_api_astype (egglog.exp.array_api.NDArray egglog.exp.array_api.DType) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_NDArray___gt__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_DType_int32 () egglog.exp.array_api.DType)
(let __expr_8797586077466335334 (egglog_exp_array_api_Slice___init__ __expr_-1178596357392243327 (egglog_exp_array_api_OptionalInt_some (egglog_exp_array_api_Value_to_int (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum (egglog_exp_array_api_astype (egglog_exp_array_api_NDArray___gt__ __expr_-4276795522901167165 __expr_-3639492905634479068) (egglog_exp_array_api_DType_int32 )) __expr_6625544669590532450)))) __expr_-1178596357392243327))
(let __expr_3292655592899733628 (egglog_exp_array_api_svd (egglog_exp_array_api_NDArray___mul__ (ndarray-sqrt (egglog_exp_array_api_asarray (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat __expr_-6121865960746394490 (from-string "147"))))) __expr_-8112691049391039535 (egglog_exp_array_api_OptionalBool_none ) __expr_-3039679907607812379)) (egglog_exp_array_api_NDArray___truediv__ __expr_-7789811471519180086 (egglog_exp_array_api_NDArray___setitem__ __expr_-7016264657484668928 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-7016264657484668928 __expr_-2210603693054856568)) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat __expr_-6121865960746394490 __expr_-6121865960746394490))))))) (egglog_exp_array_api_Boolean___init__ false)))
(let __expr_1771325063861221737 (egglog_exp_array_api_NDArray___setitem__ __expr_-7016264657484668928 (egglog_exp_array_api_IndexKey_ndarray (egglog_exp_array_api_NDArray___eq__ __expr_-7016264657484668928 __expr_-2210603693054856568)) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat __expr_-6121865960746394490 __expr_-6121865960746394490))))))
(let __expr_-3526761472979341918 (egglog_exp_array_api_Boolean___init__ false))
(constructor egglog_exp_array_api_NDArray___matmul__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_NDArray_T (egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_NDArray_vector (egglog.exp.array_api.TupleValue) egglog.exp.array_api.NDArray)
(constructor egglog_exp_array_api_IndexKey_slice (egglog.exp.array_api.Slice) egglog.exp.array_api.IndexKey)
(let __expr_1859745676803566370 (egglog_exp_array_api_svd (egglog_exp_array_api_NDArray___matmul__ (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray___mul__ (ndarray-sqrt (egglog_exp_array_api_NDArray___mul__ (egglog_exp_array_api_NDArray___mul__ (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_int __expr_807958573914023169)) (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_astype (egglog_exp_array_api_NDArray_vector (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum __expr_3513650542591045334 __expr_6625544669590532450)) (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum __expr_-2131827292296913339 __expr_6625544669590532450)) (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum __expr_-2207875430095963524 __expr_6625544669590532450))))) __expr_993116813100192115) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat (from-string "150") __expr_-6121865960746394490)))))) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat __expr_-6121865960746394490 (from-string "2"))))))) (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray___sub__ __expr_1572500295854043867 (egglog_exp_array_api_NDArray___matmul__ (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_astype (egglog_exp_array_api_NDArray_vector (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum __expr_3513650542591045334 __expr_6625544669590532450)) (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum __expr_-2131827292296913339 __expr_6625544669590532450)) (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum __expr_-2207875430095963524 __expr_6625544669590532450))))) __expr_993116813100192115) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat (from-string "150") __expr_-6121865960746394490))))) __expr_1572500295854043867))))) (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_TupleNDArray___getitem__ __expr_3292655592899733628 __expr_-4442048548415557082) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of (egglog_exp_array_api_MultiAxisIndexKeyItem_slice __expr_8797586077466335334) __expr_6555808704053428188)))) __expr_1771325063861221737)) (egglog_exp_array_api_NDArray___getitem__ __expr_-4276795522901167165 (egglog_exp_array_api_IndexKey_slice __expr_8797586077466335334)))) __expr_-3526761472979341918))
(let __expr_-2758902549254407638 (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_astype (egglog_exp_array_api_NDArray_vector (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum __expr_3513650542591045334 __expr_6625544669590532450)) (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum __expr_-2131827292296913339 __expr_6625544669590532450)) (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum __expr_-2207875430095963524 __expr_6625544669590532450))))) __expr_993116813100192115) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat (from-string "150") __expr_-6121865960746394490))))))
(let __expr_-7042175178988610220 (egglog_exp_array_api_NDArray___matmul__ (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_astype (egglog_exp_array_api_NDArray_vector (egglog_exp_array_api_TupleValue_from_vec (vec-of (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum __expr_3513650542591045334 __expr_6625544669590532450)) (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum __expr_-2131827292296913339 __expr_6625544669590532450)) (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum __expr_-2207875430095963524 __expr_6625544669590532450))))) __expr_993116813100192115) (egglog_exp_array_api_NDArray_scalar (egglog_exp_array_api_Value_float (egglog_exp_array_api_Float_rational (bigrat (from-string "150") __expr_-6121865960746394490))))) __expr_1572500295854043867))
(let __expr_-8708823913566367752 (egglog_exp_array_api_NDArray_var "y"))
(let __expr_127871664744559795 (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_NDArray___truediv__ (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_TupleNDArray___getitem__ __expr_3292655592899733628 __expr_-4442048548415557082) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of (egglog_exp_array_api_MultiAxisIndexKeyItem_slice __expr_8797586077466335334) __expr_6555808704053428188)))) __expr_1771325063861221737)) (egglog_exp_array_api_NDArray___getitem__ __expr_-4276795522901167165 (egglog_exp_array_api_IndexKey_slice __expr_8797586077466335334))))
(let __expr_4228642948771128705 0)
(let __expr_7222616663427554319 (egglog_exp_array_api_NDArray_var "X"))
(sort egglog.exp.program_gen.Program)
(relation egglog_exp_program_gen_Program_compile (egglog.exp.program_gen.Program i64))
(constructor egglog_exp_array_api_program_gen_ndarray_function_two_program (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.program_gen.Program)
(constructor egglog_exp_array_api_IndexKey_int (egglog.exp.array_api.Int) egglog.exp.array_api.IndexKey)
(let __expr_-7634947721852663031 (egglog_exp_program_gen_Program_compile (egglog_exp_array_api_program_gen_ndarray_function_two_program (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_NDArray___matmul__ (egglog_exp_array_api_NDArray___sub__ __expr_-1842423233915994856 __expr_-7042175178988610220) (egglog_exp_array_api_NDArray___matmul__ __expr_127871664744559795 (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_TupleNDArray___getitem__ __expr_1859745676803566370 __expr_-4442048548415557082)) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of __expr_6555808704053428188 (egglog_exp_array_api_MultiAxisIndexKeyItem_slice (egglog_exp_array_api_Slice___init__ __expr_-1178596357392243327 (egglog_exp_array_api_OptionalInt_some (egglog_exp_array_api_Value_to_int (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum (egglog_exp_array_api_astype (egglog_exp_array_api_NDArray___gt__ (egglog_exp_array_api_TupleNDArray___getitem__ __expr_1859745676803566370 __expr_-9046784441973757173) (egglog_exp_array_api_NDArray___mul__ __expr_-3639492905634479068 (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_TupleNDArray___getitem__ __expr_1859745676803566370 __expr_-9046784441973757173) (egglog_exp_array_api_IndexKey_int __expr_3301955497800215168)))) (egglog_exp_array_api_DType_int32 )) __expr_6625544669590532450)))) __expr_-1178596357392243327)))))))) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of __expr_6555808704053428188 (egglog_exp_array_api_MultiAxisIndexKeyItem_slice (egglog_exp_array_api_Slice___init__ __expr_-1178596357392243327 (egglog_exp_array_api_OptionalInt_some __expr_-4442048548415557082) __expr_-1178596357392243327)))))) __expr_7222616663427554319 __expr_-8708823913566367752) __expr_4228642948771128705))
(let __expr_5779045537449585739 (egglog_exp_array_api_TupleNDArray___getitem__ __expr_1859745676803566370 __expr_-9046784441973757173))
(function egglog_exp_program_gen_Program_statements (egglog.exp.program_gen.Program) String :no-merge)
(let __expr_1012699080857176631 (egglog_exp_array_api_DType_int32 ))
(let __expr_5988327506242629381 (egglog_exp_array_api_program_gen_ndarray_function_two_program (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_NDArray___matmul__ (egglog_exp_array_api_NDArray___sub__ __expr_-1842423233915994856 __expr_-7042175178988610220) (egglog_exp_array_api_NDArray___matmul__ __expr_127871664744559795 (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_TupleNDArray___getitem__ __expr_1859745676803566370 __expr_-4442048548415557082)) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of __expr_6555808704053428188 (egglog_exp_array_api_MultiAxisIndexKeyItem_slice (egglog_exp_array_api_Slice___init__ __expr_-1178596357392243327 (egglog_exp_array_api_OptionalInt_some (egglog_exp_array_api_Value_to_int (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum (egglog_exp_array_api_astype (egglog_exp_array_api_NDArray___gt__ (egglog_exp_array_api_TupleNDArray___getitem__ __expr_1859745676803566370 __expr_-9046784441973757173) (egglog_exp_array_api_NDArray___mul__ __expr_-3639492905634479068 (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_TupleNDArray___getitem__ __expr_1859745676803566370 __expr_-9046784441973757173) (egglog_exp_array_api_IndexKey_int __expr_3301955497800215168)))) (egglog_exp_array_api_DType_int32 )) __expr_6625544669590532450)))) __expr_-1178596357392243327)))))))) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of __expr_6555808704053428188 (egglog_exp_array_api_MultiAxisIndexKeyItem_slice (egglog_exp_array_api_Slice___init__ __expr_-1178596357392243327 (egglog_exp_array_api_OptionalInt_some __expr_-4442048548415557082) __expr_-1178596357392243327)))))) __expr_7222616663427554319 __expr_-8708823913566367752))
(ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_program_gen_Program___add__ (egglog.exp.program_gen.Program egglog.exp.program_gen.Program) egglog.exp.program_gen.Program)
(constructor egglog_exp_array_api_program_gen_value_program (egglog.exp.array_api.Value) egglog.exp.program_gen.Program)
(constructor egglog_exp_program_gen_Program___init__ (String bool) egglog.exp.program_gen.Program)
(constructor _acc-egglog_exp_program_gen_Program__i-egglog_exp_array_api_Value__egglog_exp_program_gen_Program___add____egglog_exp_program_gen_Program___add____acc__egglog_exp_array_api_program_gen_value_program__i____egglog_exp_program_gen_Program___init________false__ (egglog.exp.program_gen.Program egglog.exp.array_api.Value) egglog.exp.program_gen.Program)
(rewrite (_acc-egglog_exp_program_gen_Program__i-egglog_exp_array_api_Value__egglog_exp_program_gen_Program___add____egglog_exp_program_gen_Program___add____acc__egglog_exp_array_api_program_gen_value_program__i____egglog_exp_program_gen_Program___init________false__ _acc _i) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ _acc (egglog_exp_array_api_program_gen_value_program _i)) (egglog_exp_program_gen_Program___init__ ", " false)) :subsume :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_program_gen_tuple_value_program (egglog.exp.array_api.TupleValue) egglog.exp.program_gen.Program)
(sort egglog.builtins.UnstableFn[egglog.exp.program_gen.Program,egglog.exp.program_gen.Program,egglog.exp.array_api.Value] (UnstableFn (egglog.exp.program_gen.Program egglog.exp.array_api.Value) egglog.exp.program_gen.Program))
(constructor egglog_exp_array_api_program_gen_tuple_value_foldl_program (egglog.exp.array_api.TupleValue egglog.builtins.UnstableFn[egglog.exp.program_gen.Program,egglog.exp.program_gen.Program,egglog.exp.array_api.Value] egglog.exp.program_gen.Program) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_array_api_program_gen_tuple_value_program _x) (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_tuple_value_foldl_program _x (unstable-fn "_acc-egglog_exp_program_gen_Program__i-egglog_exp_array_api_Value__egglog_exp_program_gen_Program___add____egglog_exp_program_gen_Program___add____acc__egglog_exp_array_api_program_gen_value_program__i____egglog_exp_program_gen_Program___init________false__") (egglog_exp_program_gen_Program___init__ "(" false)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_program_gen_Program_function_two (egglog.exp.program_gen.Program egglog.exp.program_gen.Program egglog.exp.program_gen.Program String) egglog.exp.program_gen.Program)
(constructor egglog_exp_array_api_program_gen_ndarray_program (egglog.exp.array_api.NDArray) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_array_api_program_gen_ndarray_function_two_program _res _l _r) (egglog_exp_program_gen_Program_function_two (egglog_exp_array_api_program_gen_ndarray_program _res) (egglog_exp_array_api_program_gen_ndarray_program _l) (egglog_exp_array_api_program_gen_ndarray_program _r) "__fn") :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_program_gen_int_program (egglog.exp.array_api.Int) egglog.exp.program_gen.Program)
(constructor _acc-egglog_exp_program_gen_Program__i-egglog_exp_array_api_Int__egglog_exp_program_gen_Program___add____egglog_exp_program_gen_Program___add____acc__egglog_exp_array_api_program_gen_int_program__i____egglog_exp_program_gen_Program___init________false__ (egglog.exp.program_gen.Program egglog.exp.array_api.Int) egglog.exp.program_gen.Program)
(rewrite (_acc-egglog_exp_program_gen_Program__i-egglog_exp_array_api_Int__egglog_exp_program_gen_Program___add____egglog_exp_program_gen_Program___add____acc__egglog_exp_array_api_program_gen_int_program__i____egglog_exp_program_gen_Program___init________false__ _acc _i) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ _acc (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ ", " false)) :subsume :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_program_gen_tuple_int_program (egglog.exp.array_api.TupleInt) egglog.exp.program_gen.Program)
(sort egglog.builtins.UnstableFn[egglog.exp.program_gen.Program,egglog.exp.program_gen.Program,egglog.exp.array_api.Int] (UnstableFn (egglog.exp.program_gen.Program egglog.exp.array_api.Int) egglog.exp.program_gen.Program))
(constructor egglog_exp_array_api_program_gen_tuple_int_foldl_program (egglog.exp.array_api.TupleInt egglog.builtins.UnstableFn[egglog.exp.program_gen.Program,egglog.exp.program_gen.Program,egglog.exp.array_api.Int] egglog.exp.program_gen.Program) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_array_api_program_gen_tuple_int_program _x) (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_tuple_int_foldl_program _x (unstable-fn "_acc-egglog_exp_program_gen_Program__i-egglog_exp_array_api_Int__egglog_exp_program_gen_Program___add____egglog_exp_program_gen_Program___add____acc__egglog_exp_array_api_program_gen_int_program__i____egglog_exp_program_gen_Program___init________false__") (egglog_exp_program_gen_Program___init__ "(" false)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor _acc-egglog_exp_program_gen_Program__i-egglog_exp_array_api_NDArray__egglog_exp_program_gen_Program___add____egglog_exp_program_gen_Program___add____acc__egglog_exp_array_api_program_gen_ndarray_program__i____egglog_exp_program_gen_Program___init________false__ (egglog.exp.program_gen.Program egglog.exp.array_api.NDArray) egglog.exp.program_gen.Program)
(rewrite (_acc-egglog_exp_program_gen_Program__i-egglog_exp_array_api_NDArray__egglog_exp_program_gen_Program___add____egglog_exp_program_gen_Program___add____acc__egglog_exp_array_api_program_gen_ndarray_program__i____egglog_exp_program_gen_Program___init________false__ _acc _i) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ _acc (egglog_exp_array_api_program_gen_ndarray_program _i)) (egglog_exp_program_gen_Program___init__ ", " false)) :subsume :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_program_gen_tuple_ndarray_program (egglog.exp.array_api.TupleNDArray) egglog.exp.program_gen.Program)
(sort egglog.builtins.UnstableFn[egglog.exp.program_gen.Program,egglog.exp.program_gen.Program,egglog.exp.array_api.NDArray] (UnstableFn (egglog.exp.program_gen.Program egglog.exp.array_api.NDArray) egglog.exp.program_gen.Program))
(constructor egglog_exp_array_api_program_gen_tuple_ndarray_foldl_program (egglog.exp.array_api.TupleNDArray egglog.builtins.UnstableFn[egglog.exp.program_gen.Program,egglog.exp.program_gen.Program,egglog.exp.array_api.NDArray] egglog.exp.program_gen.Program) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_array_api_program_gen_tuple_ndarray_program _x) (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_tuple_ndarray_foldl_program _x (unstable-fn "_acc-egglog_exp_program_gen_Program__i-egglog_exp_array_api_NDArray__egglog_exp_program_gen_Program___add____egglog_exp_program_gen_Program___add____acc__egglog_exp_array_api_program_gen_ndarray_program__i____egglog_exp_program_gen_Program___init________false__") (egglog_exp_program_gen_Program___init__ "(" false)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray_var _s)) (egglog_exp_program_gen_Program___init__ _s true) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_program_gen_Program_statement (egglog.exp.program_gen.Program egglog.exp.program_gen.Program) egglog.exp.program_gen.Program :unextractable)
(constructor egglog_exp_array_api_program_gen_dtype_program (egglog.exp.array_api.DType) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_assume_dtype _z _dtype)) (egglog_exp_program_gen_Program_statement (egglog_exp_array_api_program_gen_ndarray_program _z) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "assert " false) (egglog_exp_array_api_program_gen_ndarray_program _z)) (egglog_exp_program_gen_Program___init__ ".dtype == " false)) (egglog_exp_array_api_program_gen_dtype_program _dtype))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_assume_shape _z _ti)) (egglog_exp_program_gen_Program_statement (egglog_exp_array_api_program_gen_ndarray_program _z) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "assert " false) (egglog_exp_array_api_program_gen_ndarray_program _z)) (egglog_exp_program_gen_Program___init__ ".shape == " false)) (egglog_exp_array_api_program_gen_tuple_int_program _ti))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_assume_isfinite _z)) (egglog_exp_program_gen_Program_statement (egglog_exp_array_api_program_gen_ndarray_program _z) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "assert np.all(np.isfinite(" false) (egglog_exp_array_api_program_gen_ndarray_program _z)) (egglog_exp_program_gen_Program___init__ "))" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_assume_value_one_of _z _tv)) (egglog_exp_program_gen_Program_statement (egglog_exp_array_api_program_gen_ndarray_program _z) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "assert set(np.unique(" false) (egglog_exp_array_api_program_gen_ndarray_program _z)) (egglog_exp_program_gen_Program___init__ ")) == set(" false)) (egglog_exp_array_api_program_gen_tuple_value_program _tv)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_reshape (egglog.exp.array_api.NDArray egglog.exp.array_api.TupleInt egglog.exp.array_api.OptionalBool) egglog.exp.array_api.NDArray)
(constructor egglog_exp_program_gen_Program_assign (egglog.exp.program_gen.Program) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_reshape _y _ti _ob)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _y) (egglog_exp_program_gen_Program___init__ ".reshape(" false)) (egglog_exp_array_api_program_gen_tuple_int_program _ti)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_astype _y _dtype)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _y) (egglog_exp_program_gen_Program___init__ ".astype(" false)) (egglog_exp_array_api_program_gen_dtype_program _dtype)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_unique_counts (egglog.exp.array_api.NDArray) egglog.exp.array_api.TupleNDArray)
(rewrite (egglog_exp_array_api_program_gen_tuple_ndarray_program (egglog_exp_array_api_unique_counts _x)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.unique(" false) (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ ", return_counts=True)" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_unique_inverse (egglog.exp.array_api.NDArray) egglog.exp.array_api.TupleNDArray)
(rewrite (egglog_exp_array_api_program_gen_tuple_ndarray_program (egglog_exp_array_api_unique_inverse _x)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.unique(" false) (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ ", return_inverse=True)" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_TupleNDArray___getitem__ _tnd _i)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_tuple_ndarray_program _tnd) (egglog_exp_program_gen_Program___init__ "[" false)) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ "]" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray_scalar _v)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.array(" false) (egglog_exp_array_api_program_gen_value_program _v)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_OptionalDType_none () egglog.exp.array_api.OptionalDType)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_zeros _ti (egglog_exp_array_api_OptionalDType_none ) _optional_device_)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.zeros(" false) (egglog_exp_array_api_program_gen_tuple_int_program _ti)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_zeros _ti (egglog_exp_array_api_OptionalDType_some _dtype) _optional_device_)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.zeros(" false) (egglog_exp_array_api_program_gen_tuple_int_program _ti)) (egglog_exp_program_gen_Program___init__ ", dtype=" false)) (egglog_exp_array_api_program_gen_dtype_program _dtype)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_unique_values (egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_unique_values _x)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.unique(" false) (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_NDArray___add__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___add__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " + " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___sub__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " - " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___mul__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " * " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___truediv__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " / " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_NDArray___lt__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___lt__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " < " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_NDArray___le__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___le__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " <= " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___gt__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " > " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_NDArray___ge__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___ge__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " >= " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___eq__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " == " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___matmul__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " @ " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_NDArray___mod__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___mod__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " % " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_NDArray___and__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___and__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " & " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_NDArray___or__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___or__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " | " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_NDArray___xor__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___xor__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " ^ " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_NDArray___lshift__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___lshift__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " << " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_NDArray___rshift__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___rshift__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " >> " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_NDArray___floordiv__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___floordiv__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " // " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_NDArray___pow__ (egglog.exp.array_api.NDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___pow__ _x _y)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ " ** " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_program_gen_index_key_program (egglog.exp.array_api.IndexKey) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___setitem__ _x _idx _y)) (egglog_exp_program_gen_Program_statement (egglog_exp_program_gen_Program_assign (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program_assign (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ "[" false)) (egglog_exp_array_api_program_gen_index_key_program _idx)) (egglog_exp_program_gen_Program___init__ "] = " false)) (egglog_exp_array_api_program_gen_ndarray_program _y))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray___getitem__ _x _idx)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ "[" false)) (egglog_exp_array_api_program_gen_index_key_program _idx)) (egglog_exp_program_gen_Program___init__ "]" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_square _x)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.square(" false) (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_expand_dims _x _i)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.expand_dims(" false) (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ ", " false)) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_mean (egglog.exp.array_api.NDArray egglog.exp.array_api.OptionalIntOrTuple egglog.exp.array_api.Boolean) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_mean _x __expr_6625544669590532450 __expr_-3526761472979341918)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.mean(" false) (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_program_gen_int_or_tuple_program (egglog.exp.array_api.IntOrTuple) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_mean _x (egglog_exp_array_api_OptionalIntOrTuple_some _int_or_tuple_) __expr_-3526761472979341918)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.mean(" false) (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ ", axis=" false)) (egglog_exp_array_api_program_gen_int_or_tuple_program _int_or_tuple_)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_mean _x (egglog_exp_array_api_OptionalIntOrTuple_some _int_or_tuple_) (egglog_exp_array_api_Boolean___init__ true))) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.mean(" false) (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ ", axis=" false)) (egglog_exp_array_api_program_gen_int_or_tuple_program _int_or_tuple_)) (egglog_exp_program_gen_Program___init__ ", keepdims=True)" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_concat _tnd __expr_-1178596357392243327)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.concatenate(" false) (egglog_exp_array_api_program_gen_tuple_ndarray_program _tnd)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_concat _tnd (egglog_exp_array_api_OptionalInt_some _i))) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.concatenate(" false) (egglog_exp_array_api_program_gen_tuple_ndarray_program _tnd)) (egglog_exp_program_gen_Program___init__ ", axis=" false)) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray_vector _tv)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.array(" false) (egglog_exp_array_api_program_gen_tuple_value_program _tv)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_std (egglog.exp.array_api.NDArray egglog.exp.array_api.OptionalIntOrTuple) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_std _x __expr_6625544669590532450)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.std(" false) (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_std _x (egglog_exp_array_api_OptionalIntOrTuple_some _int_or_tuple_))) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.std(" false) (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ ", axis=" false)) (egglog_exp_array_api_program_gen_int_or_tuple_program _int_or_tuple_)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_tuple_ndarray_program (egglog_exp_array_api_svd _x (egglog_exp_array_api_Boolean___init__ true))) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.linalg.svd(" false) (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_tuple_ndarray_program (egglog_exp_array_api_svd _x __expr_-3526761472979341918)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.linalg.svd(" false) (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ ", full_matrices=False)" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (ndarray-sqrt _x)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.sqrt(" false) (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_NDArray_T _x)) (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ ".T" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_sum _x __expr_6625544669590532450)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.sum(" false) (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_sum _x (egglog_exp_array_api_OptionalIntOrTuple_some _int_or_tuple_))) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.sum(" false) (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ ", axis=" false)) (egglog_exp_array_api_program_gen_int_or_tuple_program _int_or_tuple_)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_tuple_int_program (egglog_exp_array_api_NDArray_shape _x)) (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _x) (egglog_exp_program_gen_Program___init__ ".shape" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor ndarray-abs (egglog.exp.array_api.NDArray) egglog.exp.array_api.NDArray)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (ndarray-abs _x)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.abs(" false) (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ ")" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_program_gen_optional_dtype_program (egglog.exp.array_api.OptionalDType) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_asarray _x _odtype (egglog_exp_array_api_OptionalBool_none ) _optional_device_)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.asarray(" false) (egglog_exp_array_api_program_gen_ndarray_program _x)) (egglog_exp_program_gen_Program___init__ ", " false)) (egglog_exp_array_api_program_gen_optional_dtype_program _odtype)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_program_gen_optional_int_or_tuple_program (egglog.exp.array_api.OptionalIntOrTuple) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_array_api_program_gen_optional_int_or_tuple_program (egglog_exp_array_api_OptionalIntOrTuple_some _it)) (egglog_exp_array_api_program_gen_int_or_tuple_program _it) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_optional_int_or_tuple_program __expr_6625544669590532450) (egglog_exp_program_gen_Program___init__ "None" false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_int_or_tuple_program (egglog_exp_array_api_IntOrTuple_int _x)) (egglog_exp_array_api_program_gen_int_program _x) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_IntOrTuple_tuple (egglog.exp.array_api.TupleInt) egglog.exp.array_api.IntOrTuple)
(rewrite (egglog_exp_array_api_program_gen_int_or_tuple_program (egglog_exp_array_api_IntOrTuple_tuple _t)) (egglog_exp_array_api_program_gen_tuple_int_program _t) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_IndexKey_ELLIPSIS () egglog.exp.array_api.IndexKey)
(rewrite (egglog_exp_array_api_program_gen_index_key_program (egglog_exp_array_api_IndexKey_ELLIPSIS )) (egglog_exp_program_gen_Program___init__ "..." false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_index_key_program (egglog_exp_array_api_IndexKey_int _i)) (egglog_exp_array_api_program_gen_int_program _i) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_program_gen_slice_program (egglog.exp.array_api.Slice) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_array_api_program_gen_index_key_program (egglog_exp_array_api_IndexKey_slice _s)) (egglog_exp_array_api_program_gen_slice_program _s) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_program_gen_multi_axis_index_key_program (egglog.exp.array_api.MultiAxisIndexKey) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_array_api_program_gen_index_key_program (egglog_exp_array_api_IndexKey_multi_axis _key)) (egglog_exp_array_api_program_gen_multi_axis_index_key_program _key) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_index_key_program (egglog_exp_array_api_IndexKey_ndarray _a)) (egglog_exp_array_api_program_gen_ndarray_program _a) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(sort egglog.builtins.UnstableFn[egglog.exp.array_api.MultiAxisIndexKeyItem,egglog.exp.array_api.Int] (UnstableFn (egglog.exp.array_api.Int ) egglog.exp.array_api.MultiAxisIndexKeyItem))
(constructor egglog_exp_array_api_Int___add__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(constructor _idx_fn-egglog_builtins_UnstableFn_egglog_exp_array_api_MultiAxisIndexKeyItem_egglog_exp_array_api_Int___i-egglog_exp_array_api_Int__unstable-app__idx_fn__egglog_exp_array_api_Int___add____i___expr_-9046784441973757173__ (egglog.builtins.UnstableFn[egglog.exp.array_api.MultiAxisIndexKeyItem,egglog.exp.array_api.Int] egglog.exp.array_api.Int) egglog.exp.array_api.MultiAxisIndexKeyItem)
(rewrite (_idx_fn-egglog_builtins_UnstableFn_egglog_exp_array_api_MultiAxisIndexKeyItem_egglog_exp_array_api_Int___i-egglog_exp_array_api_Int__unstable-app__idx_fn__egglog_exp_array_api_Int___add____i___expr_-9046784441973757173__ _idx_fn _i) (unstable-app _idx_fn (egglog_exp_array_api_Int___add__ _i __expr_-9046784441973757173)) :subsume :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_MultiAxisIndexKey___init__ (egglog.exp.array_api.Int egglog.builtins.UnstableFn[egglog.exp.array_api.MultiAxisIndexKeyItem,egglog.exp.array_api.Int]) egglog.exp.array_api.MultiAxisIndexKey)
(rewrite (egglog_exp_array_api_program_gen_multi_axis_index_key_program (egglog_exp_array_api_MultiAxisIndexKey___init__ __expr_3301955497800215168 _idx_fn)) (egglog_exp_program_gen_Program___init__ "" false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_program_gen_multi_axis_index_key_item_program (egglog.exp.array_api.MultiAxisIndexKeyItem) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_array_api_program_gen_multi_axis_index_key_program (egglog_exp_array_api_MultiAxisIndexKey___init__ (egglog_exp_array_api_Int___init__ _k) _idx_fn)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_multi_axis_index_key_item_program (unstable-app _idx_fn __expr_3301955497800215168)) (egglog_exp_program_gen_Program___init__ ", " false)) (egglog_exp_array_api_program_gen_multi_axis_index_key_program (egglog_exp_array_api_MultiAxisIndexKey___init__ (egglog_exp_array_api_Int___init__ (- _k 1)) (unstable-fn "_idx_fn-egglog_builtins_UnstableFn_egglog_exp_array_api_MultiAxisIndexKeyItem_egglog_exp_array_api_Int___i-egglog_exp_array_api_Int__unstable-app__idx_fn__egglog_exp_array_api_Int___add____i___expr_-9046784441973757173__" _idx_fn)))) :when ((!= _k __expr_4228642948771128705)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_multi_axis_index_key_program (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of ))) (egglog_exp_program_gen_Program___init__ "" false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_multi_axis_index_key_program (egglog_exp_array_api_MultiAxisIndexKey_from_vec _vec)) (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_multi_axis_index_key_item_program (vec-get _vec __expr_4228642948771128705)) (egglog_exp_program_gen_Program___init__ "," false)) :when ((= (vec-length _vec) 1)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_multi_axis_index_key_program (egglog_exp_array_api_MultiAxisIndexKey_from_vec _vec)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_multi_axis_index_key_item_program (vec-get _vec __expr_4228642948771128705)) (egglog_exp_program_gen_Program___init__ ", " false)) (egglog_exp_array_api_program_gen_multi_axis_index_key_program (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-remove _vec __expr_4228642948771128705)))) :when ((> (vec-length _vec) 1)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_multi_axis_index_key_item_program (egglog_exp_array_api_MultiAxisIndexKeyItem_int _i)) (egglog_exp_array_api_program_gen_int_program _i) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_multi_axis_index_key_item_program (egglog_exp_array_api_MultiAxisIndexKeyItem_slice _s)) (egglog_exp_array_api_program_gen_slice_program _s) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_MultiAxisIndexKeyItem_ELLIPSIS () egglog.exp.array_api.MultiAxisIndexKeyItem)
(rewrite (egglog_exp_array_api_program_gen_multi_axis_index_key_item_program (egglog_exp_array_api_MultiAxisIndexKeyItem_ELLIPSIS )) (egglog_exp_program_gen_Program___init__ "..." false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_MultiAxisIndexKeyItem_NONE () egglog.exp.array_api.MultiAxisIndexKeyItem)
(rewrite (egglog_exp_array_api_program_gen_multi_axis_index_key_item_program (egglog_exp_array_api_MultiAxisIndexKeyItem_NONE )) (egglog_exp_program_gen_Program___init__ "None" false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_program_gen_optional_int_slice_program (egglog.exp.array_api.OptionalInt) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_array_api_program_gen_slice_program (egglog_exp_array_api_Slice___init__ _start _stop __expr_-1178596357392243327)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_optional_int_slice_program _start) (egglog_exp_program_gen_Program___init__ ":" false)) (egglog_exp_array_api_program_gen_optional_int_slice_program _stop)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_slice_program (egglog_exp_array_api_Slice___init__ _start _stop (egglog_exp_array_api_OptionalInt_some _i))) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_optional_int_slice_program _start) (egglog_exp_program_gen_Program___init__ ":" false)) (egglog_exp_array_api_program_gen_optional_int_slice_program _stop)) (egglog_exp_program_gen_Program___init__ ":" false)) (egglog_exp_array_api_program_gen_int_program _i)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_optional_int_slice_program __expr_-1178596357392243327) (egglog_exp_program_gen_Program___init__ "" false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_optional_int_slice_program (egglog_exp_array_api_OptionalInt_some _x)) (egglog_exp_array_api_program_gen_int_program _x) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_program_gen_optional_int_program (egglog.exp.array_api.OptionalInt) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_array_api_program_gen_optional_int_program __expr_-1178596357392243327) (egglog_exp_program_gen_Program___init__ "None" false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_optional_int_program (egglog_exp_array_api_OptionalInt_some _x)) (egglog_exp_array_api_program_gen_int_program _x) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_optional_dtype_program (egglog_exp_array_api_OptionalDType_none )) (egglog_exp_program_gen_Program___init__ "None" false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_optional_dtype_program (egglog_exp_array_api_OptionalDType_some _dtype)) (egglog_exp_array_api_program_gen_dtype_program _dtype) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_ndarray_program (egglog_exp_array_api_TupleNDArray___getitem__ _ti _i)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_tuple_ndarray_program _ti) (egglog_exp_program_gen_Program___init__ "[" false)) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ "]" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_TupleNDArray_length (egglog.exp.array_api.TupleNDArray) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_TupleNDArray_length _ti)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "len(" false) (egglog_exp_array_api_program_gen_tuple_ndarray_program _ti)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_TupleNDArray_EMPTY () egglog.exp.array_api.TupleNDArray)
(rewrite (egglog_exp_array_api_program_gen_tuple_ndarray_foldl_program (egglog_exp_array_api_TupleNDArray_EMPTY ) _f _init) _init :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_TupleNDArray_append (egglog.exp.array_api.TupleNDArray egglog.exp.array_api.NDArray) egglog.exp.array_api.TupleNDArray)
(rewrite (egglog_exp_array_api_program_gen_tuple_ndarray_foldl_program (egglog_exp_array_api_TupleNDArray_append _ti _v) _f _init) (unstable-app _f (egglog_exp_array_api_program_gen_tuple_ndarray_foldl_program _ti _f _init) _v) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_TupleValue___getitem__ (egglog.exp.array_api.TupleValue egglog.exp.array_api.Int) egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_program_gen_value_program (egglog_exp_array_api_TupleValue___getitem__ _ti _i)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_tuple_value_program _ti) (egglog_exp_program_gen_Program___init__ "[" false)) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ "]" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_TupleValue_length (egglog.exp.array_api.TupleValue) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_TupleValue_length _ti)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "len(" false) (egglog_exp_array_api_program_gen_tuple_value_program _ti)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_TupleValue_EMPTY () egglog.exp.array_api.TupleValue)
(rewrite (egglog_exp_array_api_program_gen_tuple_value_foldl_program (egglog_exp_array_api_TupleValue_EMPTY ) _f _init) _init :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_TupleValue_append (egglog.exp.array_api.TupleValue egglog.exp.array_api.Value) egglog.exp.array_api.TupleValue)
(rewrite (egglog_exp_array_api_program_gen_tuple_value_foldl_program (egglog_exp_array_api_TupleValue_append _ti _v) _f _init) (unstable-app _f (egglog_exp_array_api_program_gen_tuple_value_foldl_program _ti _f _init) _v) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_value_program (egglog_exp_array_api_Value_int _i)) (egglog_exp_array_api_program_gen_int_program _i) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Value_bool (egglog.exp.array_api.Boolean) egglog.exp.array_api.Value)
(constructor egglog_exp_array_api_program_gen_bool_program (egglog.exp.array_api.Boolean) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_array_api_program_gen_value_program (egglog_exp_array_api_Value_bool _b)) (egglog_exp_array_api_program_gen_bool_program _b) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_program_gen_float_program (egglog.exp.array_api.Float) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_array_api_program_gen_value_program (egglog_exp_array_api_Value_float _f)) (egglog_exp_array_api_program_gen_float_program _f) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_value_program (egglog_exp_array_api_NDArray_to_value _x)) (egglog_exp_array_api_program_gen_ndarray_program _x) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Value___lt__ (egglog.exp.array_api.Value egglog.exp.array_api.Value) egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_program_gen_value_program (egglog_exp_array_api_Value___lt__ _v1 _v2)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_value_program _v1)) (egglog_exp_program_gen_Program___init__ " < " false)) (egglog_exp_array_api_program_gen_value_program _v2)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Value___truediv__ (egglog.exp.array_api.Value egglog.exp.array_api.Value) egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_program_gen_value_program (egglog_exp_array_api_Value___truediv__ _v1 _v2)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_value_program _v1)) (egglog_exp_program_gen_Program___init__ " / " false)) (egglog_exp_array_api_program_gen_value_program _v2)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Value___add__ (egglog.exp.array_api.Value egglog.exp.array_api.Value) egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_program_gen_value_program (egglog_exp_array_api_Value___add__ _v1 _v2)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_value_program _v1)) (egglog_exp_program_gen_Program___init__ " + " false)) (egglog_exp_array_api_program_gen_value_program _v2)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Value___mul__ (egglog.exp.array_api.Value egglog.exp.array_api.Value) egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_program_gen_value_program (egglog_exp_array_api_Value___mul__ _v1 _v2)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_value_program _v1)) (egglog_exp_program_gen_Program___init__ " * " false)) (egglog_exp_array_api_program_gen_value_program _v2)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Value_to_bool (egglog.exp.array_api.Value) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_program_gen_bool_program (egglog_exp_array_api_Value_to_bool _v1)) (egglog_exp_array_api_program_gen_value_program _v1) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_Value_to_int _v1)) (egglog_exp_array_api_program_gen_value_program _v1) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_NDArray_index (egglog.exp.array_api.NDArray egglog.exp.array_api.TupleInt) egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_program_gen_value_program (egglog_exp_array_api_NDArray_index _xs _ti)) (egglog_exp_program_gen_Program_assign (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_ndarray_program _xs) (egglog_exp_program_gen_Program___init__ "[" false)) (egglog_exp_array_api_program_gen_tuple_int_program _ti)) (egglog_exp_program_gen_Program___init__ "]" false))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Value_sqrt (egglog.exp.array_api.Value) egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_program_gen_value_program (egglog_exp_array_api_Value_sqrt _v1)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.sqrt(" false) (egglog_exp_array_api_program_gen_value_program _v1)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Value_real (egglog.exp.array_api.Value) egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_program_gen_value_program (egglog_exp_array_api_Value_real _v1)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.real(" false) (egglog_exp_array_api_program_gen_value_program _v1)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Value_conj (egglog.exp.array_api.Value) egglog.exp.array_api.Value)
(rewrite (egglog_exp_array_api_program_gen_value_program (egglog_exp_array_api_Value_conj _v1)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.conj(" false) (egglog_exp_array_api_program_gen_value_program _v1)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_float_program (egglog_exp_array_api_Float___init__ _f64_)) (egglog_exp_program_gen_Program___init__ (to-string _f64_) false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Float_abs (egglog.exp.array_api.Float) egglog.exp.array_api.Float)
(rewrite (egglog_exp_array_api_program_gen_float_program (egglog_exp_array_api_Float_abs _f)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "np.abs(" false) (egglog_exp_array_api_program_gen_float_program _f)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Float_from_int (egglog.exp.array_api.Int) egglog.exp.array_api.Float)
(rewrite (egglog_exp_array_api_program_gen_float_program (egglog_exp_array_api_Float_from_int _i)) (egglog_exp_array_api_program_gen_int_program _i) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Float___add__ (egglog.exp.array_api.Float egglog.exp.array_api.Float) egglog.exp.array_api.Float)
(rewrite (egglog_exp_array_api_program_gen_float_program (egglog_exp_array_api_Float___add__ _f _g)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_float_program _f)) (egglog_exp_program_gen_Program___init__ " + " false)) (egglog_exp_array_api_program_gen_float_program _g)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Float___sub__ (egglog.exp.array_api.Float egglog.exp.array_api.Float) egglog.exp.array_api.Float)
(rewrite (egglog_exp_array_api_program_gen_float_program (egglog_exp_array_api_Float___sub__ _f _g)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_float_program _f)) (egglog_exp_program_gen_Program___init__ " - " false)) (egglog_exp_array_api_program_gen_float_program _g)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Float___mul__ (egglog.exp.array_api.Float egglog.exp.array_api.Float) egglog.exp.array_api.Float)
(rewrite (egglog_exp_array_api_program_gen_float_program (egglog_exp_array_api_Float___mul__ _f _g)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_float_program _f)) (egglog_exp_program_gen_Program___init__ " * " false)) (egglog_exp_array_api_program_gen_float_program _g)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Float___truediv__ (egglog.exp.array_api.Float egglog.exp.array_api.Float) egglog.exp.array_api.Float)
(rewrite (egglog_exp_array_api_program_gen_float_program (egglog_exp_array_api_Float___truediv__ _f _g)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_float_program _f)) (egglog_exp_program_gen_Program___init__ " / " false)) (egglog_exp_array_api_program_gen_float_program _g)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_float_program (egglog_exp_array_api_Float_rational _r)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "float(" false) (egglog_exp_program_gen_Program___init__ (to-string (numer _r)) false)) (egglog_exp_program_gen_Program___init__ " / " false)) (egglog_exp_program_gen_Program___init__ (to-string (denom _r)) false)) (egglog_exp_program_gen_Program___init__ ")" false)) :when ((!= (denom _r) (bigint 1))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_float_program (egglog_exp_array_api_Float_rational _r)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "float(" false) (egglog_exp_program_gen_Program___init__ (to-string (numer _r)) false)) (egglog_exp_program_gen_Program___init__ ")" false)) :when ((= (denom _r) (bigint 1))) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_dtype_program __expr_993116813100192115) (egglog_exp_program_gen_Program___init__ "np.dtype(np.float64)" false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_DType_float32 () egglog.exp.array_api.DType)
(rewrite (egglog_exp_array_api_program_gen_dtype_program (egglog_exp_array_api_DType_float32 )) (egglog_exp_program_gen_Program___init__ "np.dtype(np.float32)" false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_dtype_program (egglog_exp_array_api_DType_int64 )) (egglog_exp_program_gen_Program___init__ "np.dtype(np.int64)" false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_dtype_program __expr_1012699080857176631) (egglog_exp_program_gen_Program___init__ "np.dtype(np.int32)" false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_DType_bool () egglog.exp.array_api.DType)
(rewrite (egglog_exp_array_api_program_gen_dtype_program (egglog_exp_array_api_DType_bool )) (egglog_exp_program_gen_Program___init__ "np.dtype(np.bool)" false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_DType_object () egglog.exp.array_api.DType)
(rewrite (egglog_exp_array_api_program_gen_dtype_program (egglog_exp_array_api_DType_object )) (egglog_exp_program_gen_Program___init__ "np.dtype(np.object_)" false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_TupleInt___getitem__ _ti _i)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_array_api_program_gen_tuple_int_program _ti) (egglog_exp_program_gen_Program___init__ "[" false)) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ "]" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_TupleInt_length (egglog.exp.array_api.TupleInt) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_TupleInt_length _ti)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "len(" false) (egglog_exp_array_api_program_gen_tuple_int_program _ti)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_TupleInt_EMPTY () egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_program_gen_tuple_int_foldl_program (egglog_exp_array_api_TupleInt_EMPTY ) _f _init) _init :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_TupleInt_append (egglog.exp.array_api.TupleInt egglog.exp.array_api.Int) egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_program_gen_tuple_int_foldl_program (egglog_exp_array_api_TupleInt_append _ti _i) _f _init) (unstable-app _f (egglog_exp_array_api_program_gen_tuple_int_foldl_program _ti _f _init) _i) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_TupleInt___add__ (egglog.exp.array_api.TupleInt egglog.exp.array_api.TupleInt) egglog.exp.array_api.TupleInt)
(rewrite (egglog_exp_array_api_program_gen_tuple_int_program (egglog_exp_array_api_TupleInt___add__ _ti _ti2)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_tuple_int_program _ti)) (egglog_exp_program_gen_Program___init__ " + " false)) (egglog_exp_array_api_program_gen_tuple_int_program _ti2)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int_var (String) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_Int_var _s)) (egglog_exp_program_gen_Program___init__ _s true) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_Int___init__ _i64_)) (egglog_exp_program_gen_Program___init__ (to-string _i64_) false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int___invert__ (egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_Int___invert__ _i)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "~" false) (egglog_exp_array_api_program_gen_int_program _i)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int___lt__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_program_gen_bool_program (egglog_exp_array_api_Int___lt__ _i _j)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ " < " false)) (egglog_exp_array_api_program_gen_int_program _j)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int___le__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_program_gen_bool_program (egglog_exp_array_api_Int___le__ _i _j)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ " <= " false)) (egglog_exp_array_api_program_gen_int_program _j)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int___gt__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_program_gen_bool_program (egglog_exp_array_api_Int___gt__ _i _j)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ " > " false)) (egglog_exp_array_api_program_gen_int_program _j)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int___ge__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_program_gen_bool_program (egglog_exp_array_api_Int___ge__ _i _j)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ " >= " false)) (egglog_exp_array_api_program_gen_int_program _j)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int___eq__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Boolean)
(rewrite (egglog_exp_array_api_program_gen_bool_program (egglog_exp_array_api_Int___eq__ _i _j)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ " == " false)) (egglog_exp_array_api_program_gen_int_program _j)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_Int___add__ _i _j)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ " + " false)) (egglog_exp_array_api_program_gen_int_program _j)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int___sub__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_Int___sub__ _i _j)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ " - " false)) (egglog_exp_array_api_program_gen_int_program _j)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int___mul__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_Int___mul__ _i _j)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ " * " false)) (egglog_exp_array_api_program_gen_int_program _j)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int___truediv__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_Int___truediv__ _i _j)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ " / " false)) (egglog_exp_array_api_program_gen_int_program _j)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int___mod__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_Int___mod__ _i _j)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ " % " false)) (egglog_exp_array_api_program_gen_int_program _j)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int___pow__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_Int___pow__ _i _j)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ " ** " false)) (egglog_exp_array_api_program_gen_int_program _j)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int___and__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_Int___and__ _i _j)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ " & " false)) (egglog_exp_array_api_program_gen_int_program _j)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int___or__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_Int___or__ _i _j)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ " | " false)) (egglog_exp_array_api_program_gen_int_program _j)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int___xor__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_Int___xor__ _i _j)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ " ^ " false)) (egglog_exp_array_api_program_gen_int_program _j)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int___lshift__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_Int___lshift__ _i _j)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ " << " false)) (egglog_exp_array_api_program_gen_int_program _j)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int___rshift__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_Int___rshift__ _i _j)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ " >> " false)) (egglog_exp_array_api_program_gen_int_program _j)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(constructor egglog_exp_array_api_Int___floordiv__ (egglog.exp.array_api.Int egglog.exp.array_api.Int) egglog.exp.array_api.Int)
(rewrite (egglog_exp_array_api_program_gen_int_program (egglog_exp_array_api_Int___floordiv__ _i _j)) (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___add__ (egglog_exp_program_gen_Program___init__ "(" false) (egglog_exp_array_api_program_gen_int_program _i)) (egglog_exp_program_gen_Program___init__ " // " false)) (egglog_exp_array_api_program_gen_int_program _j)) (egglog_exp_program_gen_Program___init__ ")" false)) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_bool_program (egglog_exp_array_api_Boolean___init__ true)) (egglog_exp_program_gen_Program___init__ "True" false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(rewrite (egglog_exp_array_api_program_gen_bool_program __expr_-3526761472979341918) (egglog_exp_program_gen_Program___init__ "False" false) :ruleset egglog.exp.array_api_program_gen.array_api_program_gen_ruleset)
(ruleset egglog.exp.program_gen.program_gen_ruleset)
(function egglog_exp_program_gen_Program_expr (egglog.exp.program_gen.Program) String :no-merge)
(function egglog_exp_program_gen_Program_next_sym (egglog.exp.program_gen.Program) i64 :no-merge)
(function egglog_exp_program_gen_Program_is_identifer (egglog.exp.program_gen.Program) bool :no-merge)
(rule ((= _p (egglog_exp_program_gen_Program___init__ _s _b))
       (egglog_exp_program_gen_Program_compile _p _i))
      ((set (egglog_exp_program_gen_Program_expr _p) _s)
       (set (egglog_exp_program_gen_Program_statements _p) "")
       (set (egglog_exp_program_gen_Program_next_sym _p) _i)
       (set (egglog_exp_program_gen_Program_is_identifer _p) _b))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(constructor egglog_exp_program_gen_Program_expr_to_statement (egglog.exp.program_gen.Program) egglog.exp.program_gen.Program)
(rewrite (egglog_exp_program_gen_Program_statement _p1 _p2) (egglog_exp_program_gen_Program___add__ _p1 (egglog_exp_program_gen_Program_expr_to_statement _p2)) :ruleset egglog.exp.program_gen.program_gen_ruleset)
(function egglog_exp_program_gen_Program_parent (egglog.exp.program_gen.Program) egglog.exp.program_gen.Program :merge old)
(rule ((= _p (egglog_exp_program_gen_Program_expr_to_statement _p1))
       (egglog_exp_program_gen_Program_compile _p _i))
      ((set (egglog_exp_program_gen_Program_parent _p1) _p)
       (set (egglog_exp_program_gen_Program_is_identifer _p) false))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program_expr_to_statement _p1))
       (egglog_exp_program_gen_Program_compile _p _i)
       (= (egglog_exp_program_gen_Program_parent _p1) _p))
      ((egglog_exp_program_gen_Program_compile _p1 _i))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program_expr_to_statement _p1))
       (egglog_exp_program_gen_Program_compile _p _i)
       (!= (egglog_exp_program_gen_Program_parent _p1) _p)
       (= _s1 (egglog_exp_program_gen_Program_expr _p1)))
      ((set (egglog_exp_program_gen_Program_statements _p) (+ _s1 "
"))
       (set (egglog_exp_program_gen_Program_next_sym _p) _i)
       (set (egglog_exp_program_gen_Program_expr _p) ""))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program_expr_to_statement _p1))
       (= (egglog_exp_program_gen_Program_parent _p1) _p)
       (= _s1 (egglog_exp_program_gen_Program_expr _p1))
       (= _s2 (egglog_exp_program_gen_Program_statements _p1))
       (= _i (egglog_exp_program_gen_Program_next_sym _p1)))
      ((set (egglog_exp_program_gen_Program_statements _p) (+ _s2 _s1 "
"))
       (set (egglog_exp_program_gen_Program_next_sym _p) _i)
       (set (egglog_exp_program_gen_Program_expr _p) ""))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program___add__ _p1 _p2))
       (= (egglog_exp_program_gen_Program_expr _p) (egglog_exp_program_gen_Program_expr _p1))
       (= _b (egglog_exp_program_gen_Program_is_identifer _p1)))
      ((set (egglog_exp_program_gen_Program_is_identifer _p) _b))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program___add__ _p1 _p2))
       (= (egglog_exp_program_gen_Program_expr _p) (egglog_exp_program_gen_Program_expr _p2))
       (= _b (egglog_exp_program_gen_Program_is_identifer _p2)))
      ((set (egglog_exp_program_gen_Program_is_identifer _p) _b))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program___add__ _p1 _p2))
       (!= (egglog_exp_program_gen_Program_expr _p) (egglog_exp_program_gen_Program_expr _p1))
       (!= (egglog_exp_program_gen_Program_expr _p) (egglog_exp_program_gen_Program_expr _p2)))
      ((set (egglog_exp_program_gen_Program_is_identifer _p) false))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program___add__ _p1 _p2))
       (egglog_exp_program_gen_Program_compile _p _i))
      ((set (egglog_exp_program_gen_Program_parent _p1) _p))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program___add__ _p1 _p2))
       (egglog_exp_program_gen_Program_compile _p _i)
       (= (egglog_exp_program_gen_Program_parent _p1) _p))
      ((egglog_exp_program_gen_Program_compile _p1 _i))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program___add__ _p1 _p2))
       (egglog_exp_program_gen_Program_compile _p _i)
       (egglog_exp_program_gen_Program_next_sym _p1))
      ((set (egglog_exp_program_gen_Program_parent _p2) _p))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program___add__ _p1 _p2))
       (egglog_exp_program_gen_Program_compile _p _i)
       (!= (egglog_exp_program_gen_Program_parent _p1) _p)
       (= (egglog_exp_program_gen_Program_parent _p2) _p))
      ((egglog_exp_program_gen_Program_compile _p2 _i))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program___add__ _p1 _p2))
       (egglog_exp_program_gen_Program_compile _p _i2)
       (= (egglog_exp_program_gen_Program_parent _p1) _p)
       (= _i (egglog_exp_program_gen_Program_next_sym _p1))
       (= (egglog_exp_program_gen_Program_parent _p2) _p))
      ((egglog_exp_program_gen_Program_compile _p2 _i))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program___add__ _p1 _p2))
       (= _s1 (egglog_exp_program_gen_Program_expr _p1))
       (= _s2 (egglog_exp_program_gen_Program_expr _p2)))
      ((set (egglog_exp_program_gen_Program_expr _p) (+ _s1 _s2)))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program___add__ _p1 _p2))
       (= (egglog_exp_program_gen_Program_parent _p1) _p)
       (= (egglog_exp_program_gen_Program_parent _p2) _p)
       (= _s1 (egglog_exp_program_gen_Program_statements _p1))
       (= _s2 (egglog_exp_program_gen_Program_statements _p2))
       (= _i (egglog_exp_program_gen_Program_next_sym _p2)))
      ((set (egglog_exp_program_gen_Program_statements _p) (+ _s1 _s2))
       (set (egglog_exp_program_gen_Program_next_sym _p) _i))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program___add__ _p1 _p2))
       (egglog_exp_program_gen_Program_compile _p _i)
       (!= (egglog_exp_program_gen_Program_parent _p1) _p)
       (!= (egglog_exp_program_gen_Program_parent _p2) _p))
      ((set (egglog_exp_program_gen_Program_statements _p) "")
       (set (egglog_exp_program_gen_Program_next_sym _p) _i))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program___add__ _p1 _p2))
       (= (egglog_exp_program_gen_Program_parent _p1) _p)
       (!= (egglog_exp_program_gen_Program_parent _p2) _p)
       (= _s1 (egglog_exp_program_gen_Program_statements _p1))
       (= _i (egglog_exp_program_gen_Program_next_sym _p1)))
      ((set (egglog_exp_program_gen_Program_statements _p) _s1)
       (set (egglog_exp_program_gen_Program_next_sym _p) _i))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program___add__ _p1 _p2))
       (= (egglog_exp_program_gen_Program_parent _p2) _p)
       (!= (egglog_exp_program_gen_Program_parent _p1) _p)
       (= _s2 (egglog_exp_program_gen_Program_statements _p2))
       (= _i (egglog_exp_program_gen_Program_next_sym _p2)))
      ((set (egglog_exp_program_gen_Program_statements _p) _s2)
       (set (egglog_exp_program_gen_Program_next_sym _p) _i))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program_assign _p1))
       (egglog_exp_program_gen_Program_compile _p _i))
      ((set (egglog_exp_program_gen_Program_parent _p1) _p)
       (set (egglog_exp_program_gen_Program_is_identifer _p) true))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program_assign _p1))
       (egglog_exp_program_gen_Program_compile _p _i)
       (= (egglog_exp_program_gen_Program_parent _p1) _p))
      ((egglog_exp_program_gen_Program_compile _p1 _i))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program_assign _p1))
       (= (egglog_exp_program_gen_Program_parent _p1) _p)
       (= _s1 (egglog_exp_program_gen_Program_statements _p1))
       (= _i (egglog_exp_program_gen_Program_next_sym _p1))
       (= _s2 (egglog_exp_program_gen_Program_expr _p1))
       (= (egglog_exp_program_gen_Program_is_identifer _p1) false))
      ((set (egglog_exp_program_gen_Program_statements _p) (+ _s1 (+ "_" (to-string _i)) " = " _s2 "
"))
       (set (egglog_exp_program_gen_Program_expr _p) (+ "_" (to-string _i)))
       (set (egglog_exp_program_gen_Program_next_sym _p) (+ _i 1)))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program_assign _p1))
       (!= (egglog_exp_program_gen_Program_parent _p1) _p)
       (egglog_exp_program_gen_Program_compile _p _i)
       (= _s2 (egglog_exp_program_gen_Program_expr _p1))
       (= (egglog_exp_program_gen_Program_is_identifer _p1) false))
      ((set (egglog_exp_program_gen_Program_statements _p) (+ (+ "_" (to-string _i)) " = " _s2 "
"))
       (set (egglog_exp_program_gen_Program_expr _p) (+ "_" (to-string _i)))
       (set (egglog_exp_program_gen_Program_next_sym _p) (+ _i 1)))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program_assign _p1))
       (= (egglog_exp_program_gen_Program_parent _p1) _p)
       (= _s1 (egglog_exp_program_gen_Program_statements _p1))
       (= _i (egglog_exp_program_gen_Program_next_sym _p1))
       (= _s2 (egglog_exp_program_gen_Program_expr _p1))
       (= (egglog_exp_program_gen_Program_is_identifer _p1) true))
      ((set (egglog_exp_program_gen_Program_statements _p) _s1)
       (set (egglog_exp_program_gen_Program_expr _p) _s2)
       (set (egglog_exp_program_gen_Program_next_sym _p) _i))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program_assign _p1))
       (!= (egglog_exp_program_gen_Program_parent _p1) _p)
       (egglog_exp_program_gen_Program_compile _p _i)
       (= _s2 (egglog_exp_program_gen_Program_expr _p1))
       (= (egglog_exp_program_gen_Program_is_identifer _p1) true))
      ((set (egglog_exp_program_gen_Program_statements _p) "")
       (set (egglog_exp_program_gen_Program_expr _p) _s2)
       (set (egglog_exp_program_gen_Program_next_sym _p) _i))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program_function_two _p1 _p2 _p3 _s1))
       (egglog_exp_program_gen_Program_compile _p _i))
      ((set (egglog_exp_program_gen_Program_parent _p2) _p)
       (set (egglog_exp_program_gen_Program_parent _p3) _p)
       (set (egglog_exp_program_gen_Program_parent _p1) _p)
       (egglog_exp_program_gen_Program_compile _p2 _i)
       (egglog_exp_program_gen_Program_compile _p3 _i)
       (egglog_exp_program_gen_Program_compile _p1 _i)
       (set (egglog_exp_program_gen_Program_is_identifer _p) true))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program_function_two _p1 _p2 _p3 _s1))
       (egglog_exp_program_gen_Program_compile _p _i)
       (= _s2 (egglog_exp_program_gen_Program_expr _p1))
       (= _s3 (egglog_exp_program_gen_Program_statements _p1))
       (= _s4 (egglog_exp_program_gen_Program_expr _p2))
       (= _s5 (egglog_exp_program_gen_Program_expr _p3)))
      ((set (egglog_exp_program_gen_Program_statements _p) (+ "def " _s1 "(" _s4 ", " _s5 "):
    " (replace _s3 "
" "
    ") "return " _s2 "
"))
       (set (egglog_exp_program_gen_Program_next_sym _p) _i)
       (set (egglog_exp_program_gen_Program_expr _p) _s1))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(constructor egglog_exp_program_gen_Program_function_three (egglog.exp.program_gen.Program egglog.exp.program_gen.Program egglog.exp.program_gen.Program egglog.exp.program_gen.Program String) egglog.exp.program_gen.Program)
(rule ((= _p (egglog_exp_program_gen_Program_function_three _p1 _p2 _p3 _p4 _s1))
       (egglog_exp_program_gen_Program_compile _p _i))
      ((set (egglog_exp_program_gen_Program_parent _p2) _p)
       (set (egglog_exp_program_gen_Program_parent _p3) _p)
       (set (egglog_exp_program_gen_Program_parent _p1) _p)
       (set (egglog_exp_program_gen_Program_parent _p4) _p)
       (egglog_exp_program_gen_Program_compile _p2 _i)
       (egglog_exp_program_gen_Program_compile _p3 _i)
       (egglog_exp_program_gen_Program_compile _p1 _i)
       (egglog_exp_program_gen_Program_compile _p4 _i)
       (set (egglog_exp_program_gen_Program_is_identifer _p) true))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(rule ((= _p (egglog_exp_program_gen_Program_function_three _p1 _p2 _p3 _p4 _s1))
       (egglog_exp_program_gen_Program_compile _p _i)
       (= _s2 (egglog_exp_program_gen_Program_expr _p1))
       (= _s3 (egglog_exp_program_gen_Program_statements _p1))
       (= _s4 (egglog_exp_program_gen_Program_expr _p2))
       (= _s5 (egglog_exp_program_gen_Program_expr _p3))
       (= _s6 (egglog_exp_program_gen_Program_expr _p4)))
      ((set (egglog_exp_program_gen_Program_statements _p) (+ "def " _s1 "(" _s4 ", " _s5 ", " _s6 "):
    " (replace _s3 "
" "
    ") "return " _s2 "
"))
       (set (egglog_exp_program_gen_Program_next_sym _p) _i)
       (set (egglog_exp_program_gen_Program_expr _p) _s1))
        :ruleset egglog.exp.program_gen.program_gen_ruleset )
(unstable-combined-ruleset combined_ruleset_4661361744 egglog.exp.array_api_program_gen.array_api_program_gen_ruleset egglog.exp.program_gen.program_gen_ruleset)
(ruleset egglog.exp.array_api_program_gen.array_api_program_gen_eval_ruleset)
(unstable-combined-ruleset combined_ruleset_4661679840 combined_ruleset_4661361744 egglog.exp.array_api_program_gen.array_api_program_gen_eval_ruleset)
(ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(rewrite (egglog_exp_array_api_TupleInt_from_vec _vs) (egglog_exp_array_api_TupleInt_EMPTY ) :when ((= (vec-length _vs) __expr_4228642948771128705)) :ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(rewrite (egglog_exp_array_api_TupleInt_from_vec _vs) (egglog_exp_array_api_TupleInt_append (egglog_exp_array_api_TupleInt_from_vec (vec-remove _vs (- (vec-length _vs) 1))) (vec-get _vs (- (vec-length _vs) 1))) :when ((!= (vec-length _vs) __expr_4228642948771128705)) :ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(rewrite (egglog_exp_array_api_TupleValue_from_vec _vv) (egglog_exp_array_api_TupleValue_EMPTY ) :when ((= (vec-length _vv) __expr_4228642948771128705)) :ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(rewrite (egglog_exp_array_api_TupleValue_from_vec _vv) (egglog_exp_array_api_TupleValue_append (egglog_exp_array_api_TupleValue_from_vec (vec-remove _vv (- (vec-length _vv) 1))) (vec-get _vv (- (vec-length _vv) 1))) :when ((!= (vec-length _vv) __expr_4228642948771128705)) :ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(sort egglog.exp.array_api.TupleTupleInt)
(sort egglog.builtins.Vec[egglog.exp.array_api.TupleInt] (Vec egglog.exp.array_api.TupleInt))
(constructor egglog_exp_array_api_TupleTupleInt_from_vec (egglog.builtins.Vec[egglog.exp.array_api.TupleInt]) egglog.exp.array_api.TupleTupleInt)
(constructor egglog_exp_array_api_TupleTupleInt_EMPTY () egglog.exp.array_api.TupleTupleInt)
(rewrite (egglog_exp_array_api_TupleTupleInt_from_vec _vt) (egglog_exp_array_api_TupleTupleInt_EMPTY ) :when ((= (vec-length _vt) __expr_4228642948771128705)) :ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(constructor egglog_exp_array_api_TupleTupleInt_append (egglog.exp.array_api.TupleTupleInt egglog.exp.array_api.TupleInt) egglog.exp.array_api.TupleTupleInt)
(rewrite (egglog_exp_array_api_TupleTupleInt_from_vec _vt) (egglog_exp_array_api_TupleTupleInt_append (egglog_exp_array_api_TupleTupleInt_from_vec (vec-remove _vt (- (vec-length _vt) 1))) (vec-get _vt (- (vec-length _vt) 1))) :when ((!= (vec-length _vt) __expr_4228642948771128705)) :ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(rewrite (egglog_exp_array_api_TupleNDArray_from_vec _vn) (egglog_exp_array_api_TupleNDArray_EMPTY ) :when ((= (vec-length _vn) __expr_4228642948771128705)) :ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(rewrite (egglog_exp_array_api_TupleNDArray_from_vec _vn) (egglog_exp_array_api_TupleNDArray_append (egglog_exp_array_api_TupleNDArray_from_vec (vec-remove _vn (- (vec-length _vn) 1))) (vec-get _vn (- (vec-length _vn) 1))) :when ((!= (vec-length _vn) __expr_4228642948771128705)) :ruleset egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(unstable-combined-ruleset combined_ruleset_4661680144 combined_ruleset_4661679840 egglog.exp.array_api.array_api_vec_to_cons_ruleset)
(run-schedule (saturate (run combined_ruleset_4661680144)))
(extract (egglog_exp_program_gen_Program_statements (egglog_exp_array_api_program_gen_ndarray_function_two_program (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_NDArray___matmul__ (egglog_exp_array_api_NDArray___sub__ __expr_-1842423233915994856 __expr_-7042175178988610220) (egglog_exp_array_api_NDArray___matmul__ __expr_127871664744559795 (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_NDArray_T (egglog_exp_array_api_TupleNDArray___getitem__ __expr_1859745676803566370 __expr_-4442048548415557082)) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of __expr_6555808704053428188 (egglog_exp_array_api_MultiAxisIndexKeyItem_slice (egglog_exp_array_api_Slice___init__ __expr_-1178596357392243327 (egglog_exp_array_api_OptionalInt_some (egglog_exp_array_api_Value_to_int (egglog_exp_array_api_NDArray_to_value (egglog_exp_array_api_sum (egglog_exp_array_api_astype (egglog_exp_array_api_NDArray___gt__ (egglog_exp_array_api_TupleNDArray___getitem__ __expr_1859745676803566370 __expr_-9046784441973757173) (egglog_exp_array_api_NDArray___mul__ __expr_-3639492905634479068 (egglog_exp_array_api_NDArray___getitem__ (egglog_exp_array_api_TupleNDArray___getitem__ __expr_1859745676803566370 __expr_-9046784441973757173) (egglog_exp_array_api_IndexKey_int __expr_3301955497800215168)))) (egglog_exp_array_api_DType_int32 )) __expr_6625544669590532450)))) __expr_-1178596357392243327)))))))) (egglog_exp_array_api_IndexKey_multi_axis (egglog_exp_array_api_MultiAxisIndexKey_from_vec (vec-of __expr_6555808704053428188 (egglog_exp_array_api_MultiAxisIndexKeyItem_slice (egglog_exp_array_api_Slice___init__ __expr_-1178596357392243327 (egglog_exp_array_api_OptionalInt_some __expr_-4442048548415557082) __expr_-1178596357392243327)))))) __expr_7222616663427554319 __expr_-8708823913566367752)) 0)
